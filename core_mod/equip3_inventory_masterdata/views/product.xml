<odoo>
    <data>
<!--        <record id="view_warehouse_tree_inherited" model="ir.ui.view">-->
<!--            <field name="name">stock.warehouse.tree</field>-->
<!--            <field name="model">stock.warehouse</field>-->
<!--            <field name="inherit_id" ref="stock.view_warehouse_tree"/>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="//field[@name='lot_stock_id']" position="after">-->
<!--                    <field name ="lot_scrap_id"/>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->

        <record id="view_template_property_form" model="ir.ui.view">
            <field name="name">Product Template Form </field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="stock.view_template_property_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='tracking']" position="after">
                    <field name="is_sn_autogenerate" attrs="{'invisible' : [('tracking', '!=', 'serial')]}"/>
                    <field name="is_use_product_code" attrs="{'invisible' : ['|', ('is_sn_autogenerate', '!=', True), ('tracking', '!=', 'serial')]}"/>
                    <field name="sn_prefix" attrs="{'invisible' : ['|', ('is_sn_autogenerate', '!=', True), ('tracking', '!=', 'serial')], 'required': ['&amp;', ('is_sn_autogenerate', '=', True), ('tracking', '=', 'serial'), ('is_use_product_code', '=', False)]}"/>
                    <field name="suffix" attrs="{'invisible' : ['|', ('is_sn_autogenerate', '!=', True), ('tracking', '!=', 'serial')]}"/>
                    <field name="digits" attrs="{'invisible' : ['|', ('is_sn_autogenerate', '!=', True), ('tracking', '!=', 'serial')], 'required': [('is_sn_autogenerate', '=', True)]}"/>
                    <field name="current_sequence" force_save="1" attrs="{'invisible' : ['|', ('is_sn_autogenerate', '!=', True), ('tracking', '!=', 'serial')], 'readonly': [('id', '!=', False)], 'required': [('is_sn_autogenerate', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='tracking']" position="after">
                    <field name="is_in_autogenerate" attrs="{'invisible' : [('tracking', '!=', 'lot')]}"/>
                    <field name="is_in_use_product_code" attrs="{'invisible' : ['|', ('is_in_autogenerate', '!=', True), ('tracking', '!=', 'lot')]}"/>
                    <field name="in_prefix" attrs="{'invisible' : ['|', ('is_in_autogenerate', '!=', True), ('tracking', '!=', 'lot')], 'required': ['&amp;', ('is_in_autogenerate', '=', True), ('tracking', '=', 'lot'), ('is_in_use_product_code', '=', False)]}"/>
                    <field name="in_suffix" attrs="{'invisible' : ['|', ('is_in_autogenerate', '!=', True), ('tracking', '!=', 'lot')]}"/>
                    <field name="in_digits" attrs="{'invisible' : ['|', ('is_in_autogenerate', '!=', True), ('tracking', '!=', 'lot')], 'required': [('is_in_autogenerate', '=', True)]}"/>
                    <field name="in_current_sequence" force_save="1" attrs="{'invisible' : ['|', ('is_in_autogenerate', '!=', True), ('tracking', '!=', 'lot')], 'readonly': [('id', '!=', False)], 'required': [('is_in_autogenerate', '=', True)]}"/>
                </xpath>
                <!-- <field name="branch_id" position="replace"/> -->
<!--                <xpath expr="//div[@class='oe_title']" position="after">-->
<!--                <group string="Multi Companies">-->
<!--                    <label style="font-size: 20x;" for="multi_companies_all" string="Multi Companies"/>-->
<!--                    <field name = "multi_companies_all" widget="many2many_tags"/>-->
<!---->
<!--                </group>-->
<!--                </xpath>-->
            <xpath expr="//div[@name='standard_price_uom']" position="after">
                <field name = "secondary_uom_id"/>
            </xpath>
            <xpath expr="//field[@name='categ_id']" position="after">
                <field name ="branch_id" options="{'no_create':True,'no_create_edit':True}"/>
                <!-- <field name ="product_brand_ids" widget="many2many_tags" attrs="{'invisible' : [('brand_setting', '=', 'without')], 'required' : [('brand_setting', '=', 'mandatory')]}"/> -->
                <field name="product_brand_ids" widget="many2many_tags" invisible="1"/>
                <field name ="brand_setting" invisible="1"/>
                <field name ="brand_attribute_id" invisible="1"/>
                <field name ="brand_ids" widget="many2many_tags" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='property_stock_inventory']" position="after">
                    <field name = "multi_warehouses_all" widget="many2many_tags"/>
            </xpath>

            <xpath expr="//field[@name='description_pickingout']/parent::group" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='description_pickingin']/parent::group" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='description_picking']/parent::group" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

                <!-- <xpath expr="//field[@name='product_brand_id']" position="after">
                    <field name ="multi_barcode"/>
                </xpath> -->
            </field>
        </record>

        <!-- product.template inherit form view -->
        <record id="product_template_general_feature_view_form" model="ir.ui.view">
            <field name="name">product.template.inherit.view.form</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="equip3_general_features.view_product_template_form_inherited"/>
            <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="attributes">
                <attribute name="required">1</attribute>
            </xpath>
            </field>
        </record>

        <record id="view_product_template_form_inherited" model="ir.ui.view">
            <field name="name">Product Template Form </field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//header" position="inside">
                    <button groups="base.group_no_one" class="oe_stat_button" name="compute_all_image" type="object" icon="fa-file-text-o" >
                    </button>
                </xpath>
                <xpath expr="//field[@name='barcode']" position="after">
                    <field name="create_date" groups="base.group_no_one"/>
                    <field name="create_uid"  groups="base.group_no_one"/>
                </xpath>
                <xpath expr="//field[@name='product_brand_ids']" position="after">
                    <field name ="is_variants" invisible="1"/>
                    <field name ="barcode_dup" invisible="1"/>
                    <field name ="barcode_line_vals" invisible="1"/>
                    <field name ="hide" invisible="1"/>
                    <field name ="multi_barcode" attrs="{'invisible' : [('is_variants', '=', True)]}"/>
<!--                    <field name ="product_variant_ids"/>-->
                </xpath>
                <xpath expr="//field[@name='barcode']" position="replace">
                    <field name ="barcode" attrs="{'invisible' : ['|',('multi_barcode', '=', True), ('hide', '=', True)]}"/>
<!--                    <attributes name="attrs">{'invisible' : [('multi_barcode', '=', True)]}</attributes>-->
                </xpath>
<!--                <xpath expr="//page[@name='barcodes']" position="attributes">-->
<!--                    <attribute name="attrs">{'invisible': [('multi_barcode', '=', False)]}</attribute>-->
<!--                </xpath>-->
                <xpath expr="//group[@name='packaging']" position="after">
                    <group name="reordering_rules" string="Reordering rules"/>
                    <field name="reordering_rules_ids" >
                        <tree editable="bottom">
                            <field name="company_id" invisible="1"/>
                            <field name="warehouse_id"/>
                            <field name="location_id"/>
                            <field name="action_to_take"/>
                            <field name="product_min_qty"/>
                            <field name="product_max_qty"/>
                            <field name="qty_multiple"/>
                            <field name="product_uom_name"/>
                        </tree>
                    </field>
                    <group name="product_ratio_line" string="Assign Custom UoM">
                        <field name="uom_categ_id" invisible="1"/>
                        <field name="product_ratio_line" nolabel="1" context="{'default_product_tmpl_id': active_id, 'default_is_custom_uom': True}">
                            <tree string="Assign Custom UoM" editable="bottom">
                                <field name="is_custom_uom" invisible="1"/>
                                <field name="product_tmpl_id" invisible="1"/>
                                <field name="uom_id" domain="[('category_id', '=', parent.uom_categ_id)]"/>
                                <field name="description"/>
                                <field name="ratio" required="1"/>
                                <field name="uom_ref_id"/>
                            </tree>
                        </field>
                    </group>

                    <group name="description_picking" col="3">
                        <group string="Description for Delivery Orders">
                            <field name="description_pickingout" nolabel="1" placeholder="This note is added to delivery orders."/>
                        </group>
                        <group string="Description for Receipts">
                            <field name="description_pickingin" nolabel="1" placeholder="This note is added to receipt orders (e.g. where to store the product in the warehouse)."/>
                        </group>
                        <group string="Description for Internal Transfers" groups="stock.group_stock_multi_locations">
                            <field name="description_picking" placeholder="This note is added to internal transfer orders (e.g. where to pick the product in the warehouse)." nolabel="1"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="//page/field[@name='attribute_line_ids']" position="before">
                    <button name="action_create_variants" string="Create Variants" type="object" class="btn-primary mb-lg-3"/>
                    <button name="action_delete_variants" string="Delete All Variants" type="object" class="btn-primary mb-lg-3 ml-2"/>
                </xpath>
                <xpath expr="//page/field[@name='attribute_line_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//page/field[@name='attribute_line_ids']" position="after">
                    <field name="variant_attribute_value_ids">
                        <tree create="0" edit="0" delete="1">
                            <field name="attribute_value_ids" widget="many2many_tags"/>
                            <field name="template_id" invisible="1" />
                        </tree>
                    </field>
                </xpath>
<!--                <xpath expr="//div[@name='weight']" position="after">-->
<!--                    <field name="volume_calculation"/>-->
<!--                    <field name="volume_formula" attrs="{'invisible': [('volume_calculation', '=', False)]}"/>-->
<!--                </xpath>-->
<!--                <xpath expr="//div[@name='volume']//field[@name='volume']" position="attributes">-->
<!--                    <attribute name="attrs">{'readonly': [('volume_calculation', '=', True)]}</attribute>-->
<!--                    <attribute name="force_save">1</attribute>-->
<!--                </xpath>-->
                <xpath expr="//div[@name='volume']//field[@name='volume_uom_name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//div[@name='volume']//field[@name='volume']" position="after">
                    <span>cm³</span>
                </xpath>
                <xpath expr="//group[@name='expiry_and_lots']" position="replace">
                        <group string="Dates" name="expiry_and_lots" groups="stock.group_production_lot"
                            attrs="{'invisible': ['|', ('tracking', '=','none'), ('use_expiration_date', '=', False)]}">
                            <field name="expiration_time"/>
                            <field name="use_time"/>
                            <field name="removal_time"/>
                            <field name="alert_time"/>
                        </group>
                </xpath>
            </field>
        </record>

        <record id="view_product_template_form_inherited1" model="ir.ui.view">
            <field name="name">Product Template Form </field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="sh_product_multi_barcode.sh_product_product_barcode_view"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='barcodes']" position="attributes">
                    <attribute name="attrs">{'invisible': ['|', ('multi_barcode', '=', False), ('id', '=', False)]}</attribute>
                </xpath>
                <xpath expr="//field[@name='barcode_line_ids']" position="attributes">
                    <attribute name="context">{'default_product_uom_id': uom_id, 'product_tmpl_id': id}</attribute>
                </xpath>
                <xpath expr="//field[@name='barcode_line_ids']/tree/field[@name='name']" position="after">
                    <field name="uom_id" required="1"/>
                    <field name="product_uom_id" invisible="1"/>
                    <field name="product_uom_category_id" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='barcode_line_ids']/tree/field[@name='product_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('parent.multi_barcode', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
            </field>
        </record>

        <record id="product_template_form_view_inherit" model="ir.ui.view">
            <field name="name">Product Template Form </field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
<!--                <xpath expr="//div[@name='volume']" position="after">-->
<!--                    <label for="length" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}"/>-->
<!--                    <div class="o_row" name="length" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}">-->
<!--                        <field name="length" string="Length"/> cm-->
<!--                    </div>-->
<!--                    <label for="width" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}"/>-->
<!--                    <div class="o_row" name="width" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}">-->
<!--                        <field name="width" string="Width"/> cm-->
<!--                    </div>-->
<!--                    <label for="height" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}"/>-->
<!--                    <div class="o_row" name="height" attrs="{'invisible':[('product_variant_count', '&gt;', 1), ('is_product_variant', '=', False)]}">-->
<!--                        <field name="height" string="Height"/> cm-->
<!--                    </div>-->
<!--                    &lt;!&ndash; <field name="volume_calculation"/>-->
<!--                    <field name="volume_formula" attrs="{'invisible': [('volume_calculation', '=', False)]}"/> &ndash;&gt;-->
<!--                </xpath>-->
                <xpath expr="//group/field[@name='packaging_ids']" position="before">
                    <group name="left_main_group">
                        <field name="group_stock_ids" widget="many2many_tags" invisible="1"/>
                        <field name="def_packaging_id" string="Default Packaging" groups="product.group_stock_packaging" domain="[('id', 'in', group_stock_ids)]"/>
                    </group>
                    <group name="right_main_group">
                    </group>
                </xpath>
                <xpath expr="//group[@name='landedcosts']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//group[@name='traceability']" position="after">
                    <div attrs="{'invisible':[('type', '!=', 'service')]}">
                        <group string="Landed Costs" name="landedcosts">
                            <field name="landed_cost_ok"/>
                            <field name="split_method_landed_cost" attrs="{'invisible': [('landed_cost_ok', '=', False)]}" class="col-4"/>
                        </group>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="product_product_form_view_inherit" model="ir.ui.view">
            <field name="name">product.product Form </field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//group/field[@name='packaging_ids']" position="before">
                    <group name="left_main_group">
                        <field name="group_stock_ids" widget="many2many_tags" invisible="1"/>
                        <field name="def_packaging_id" string="Default Packaging" groups="product.group_stock_packaging" domain="[('id', 'in', group_stock_ids)]"/>
                    </group>
                </xpath>

            </field>
        </record>



        <!--        <record id="product_template_search_view_inherited" model="ir.ui.view">-->
<!--        <field name="name">Product Template Search</field>-->
<!--        <field name="model">product.template</field>-->
<!--        <field name="inherit_id" ref="product.product_template_search_view"/>-->
<!--        <field name="arch" type="xml">-->
<!--&lt;!&ndash;        <xpath expr="//field[@name='categ_id']" position="after">&ndash;&gt;-->
<!--&lt;!&ndash;            <field name ="product_brand_id"/>&ndash;&gt;-->
<!--&lt;!&ndash;        </xpath>&ndash;&gt;-->
<!--        <xpath expr="//filter[@name='categ_id']" position="after">-->
<!--            <filter string="Brand" name="product_brand_id" context="{'group_by':'product_brand_id'}"/>-->
<!--        </xpath>-->

<!--        </field>-->
<!--        </record>-->

        <record id="product_product_normal_form_view_inherited" model="ir.ui.view">
        <field name="name">Product  Form </field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_template_attribute_value_ids']" position="after">
                <group>
                <field name ="variant_short_name" invisible="1"/>
                </group>
            </xpath>
            <xpath expr="//field[@name='categ_id']" position="attributes">
                <attribute name="domain">[('stock_type','=', type)]</attribute>
            </xpath>
            <xpath expr="//field[@name='categ_id']" position="after">
                <field name ="is_variants" invisible="1"/>
                <field name ="barcode_dup" invisible="1"/>
                <field name ="barcode_line_vals" invisible="1"/>
                <field name="company_id_domain" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='barcode']" position="replace">
                <field name ="multi_barcode"/>
                <field name ="barcode" attrs="{'invisible' : [('multi_barcode', '=', True)]}"/>
            </xpath>
            <xpath expr="//field[@name='company_id']" position="attributes">
                <attribute name="domain">company_id_domain</attribute>
            </xpath>
            <!-- <xpath expr="//div[@name='height']" position="after">
                <field name="volume_calculation"/>
                <field name="volume_formula" attrs="{'invisible': [('volume_calculation', '=', False)]}"/>
            </xpath> -->
            <!-- <xpath expr="//div[@name='volume']//field[@name='volume']" position="attributes">
                <attribute name="attrs">{'readonly': [('volume_calculation', '=', True)]}</attribute>
                <attribute name="force_save">1</attribute>
            </xpath> -->
            <!-- <xpath expr="//div[@name='volume']//field[@name='volume_uom_name']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//div[@name='volume']//field[@name='volume']" position="after">
                <span>cm³</span>
            </xpath> -->
        </field>
        </record>

        <!-- lost/serial number inherit form view -->
        <record id="view_production_lot_form_inherit_view_id" model="ir.ui.view">
            <field name="name">model.name.inherit.view.form</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_form"/>
            <field name="arch" type="xml">
                <!-- Add your xpath here -->
                <xpath expr="//button[@name='action_lot_open_quants']" position="attributes">
                    <attribute name="icon">o-hm-smart-all-location</attribute>
                </xpath>
                <!-- <xpath expr="//button[@name='190']" position="attributes">
                    <attribute name="icon">o-hm-smart-all-traceability</attribute>
                </xpath> -->
            </field>
        </record>

        <!-- Package inherit form view -->
        <record id="view_id" model="ir.ui.view">
            <field name="name">model.name.inherit.view.form</field>
            <field name="model">stock.quant.package</field>
            <field name="inherit_id" ref="stock.view_quant_package_form"/>
            <field name="arch" type="xml">
                <!-- Add your xpath here -->
                <xpath expr="//button[@name='action_view_picking']" position="attributes">
                    <attribute name="icon">o-hm-smart-all-package</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_product_product_form_inherited1" model="ir.ui.view">
            <field name="name">Product  Form </field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="sh_product_multi_barcode.sh_product_template_only_form_inherit_view"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='barcodes']" position="attributes">
                    <attribute name="attrs">{'invisible': [('multi_barcode', '=', False)]}</attribute>
                </xpath>
                <xpath expr="//field[@name='barcode_line_ids']" position="attributes">
                    <attribute name="context">{'default_product_uom_id': uom_id}</attribute>
                </xpath>
                <xpath expr="//field[@name='barcode_line_ids']/tree/field[@name='name']" position="after">
                    <field name="uom_id" required="1"/>
                    <field name="product_uom_id" invisible="1"/>
                    <field name="product_uom_category_id" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record id="product_product_product_tree_view_inherited" model="ir.ui.view">
            <field name="name">Product Tree </field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_product_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_template_attribute_value_ids']" position="after">
                        <field name ="variant_short_name" optional="hide"/>
                </xpath>
                <xpath expr="//field[@name='company_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='company_id']" position="after">
                    <field name="company_ids" widget="many2many_tags" optional="hide"/>
                </xpath>
            </field>
        </record>

        <record id="product_attribute_view_form_inherited" model="ir.ui.view">
            <field name="name">Product Attribute Form </field>
            <field name="model">product.attribute</field>
            <field name="inherit_id" ref="product.product_attribute_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='value_ids']/tree/field[@name='name']" position="after">
                    <field name = "short_name"/>
                </xpath>
            </field>
        </record>

        <record id="product_packaging_form_view_inherit" model="ir.ui.view">
        <field name="name">product.packaging.form.view.inherit</field>
        <field name="model">product.packaging</field>
        <field name="inherit_id" ref="product.product_packaging_form_view" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_id']" position="replace">
                    <field name ="product_id" widget="many2many_tags"/>
                    <label for="max_weight" string="Maximum Weight"/>
                    <div class="o_row">
                        <field name="max_weight"/>
                        <field name="weight_uom_name"/>
                    </div>
                    <label for="maximum_height"></label>
                        <div class="d-flex">
                            <field class="mr-2" name="maximum_height"/>
                            <span>cm</span>
                        </div>
                    <label for="maximum_length"></label>
                        <div class="d-flex">
                            <field class="mr-2" name="maximum_length"/>
                            <span class="mr-2">cm</span>
                        </div>
                    <label for="maximum_width"></label>
                        <div class="d-flex">
                            <field class="mr-2" name="maximum_width"/>
                            <span class="mr-2">cm</span>
                        </div>
                    <label for="maximum_volume"></label>
                        <div class="d-flex">
                            <field class="mr-2" name="maximum_volume"/>
                            <span class="mr-2">cm3</span>
                        </div>

<!--                    <field name ="max_weight"/>-->
<!--                    <field name ="weight_uom_name"/>-->
                </xpath>
                <xpath expr="//group[@name='qty']" position="replace">
                    <group>
                        <field name="barcode"/>
                        <field name="company_id" groups="base.group_multi_company"/>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="product_packaging_tree_view_inherit" model="ir.ui.view">
            <field name="name">product.packaging.tree.view.inherit</field>
            <field name="model">product.packaging</field>
            <field name="inherit_id" ref="product.product_packaging_tree_view" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='qty']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <!-- product.template action add domain window -->
        <record id="stock.product_template_action_product" model="ir.actions.act_window">
            <field name="domain">[('company_id', '!=', False)]</field>
        </record>

    </data>
</odoo>
