<?xml version="1.0" encoding="utf-8"?>
<odoo>
<!--    <record id="inherit_stock_move_operation_form_view" model="ir.ui.view">-->
<!--        <field name="name">stock.move.operation.form.view.inherit</field>-->
<!--        <field name="model">stock.move</field>-->
<!--        <field name="inherit_id" ref="stock.view_stock_move_operations"/>-->
<!--        <field name="arch" type="xml">-->
<!--&lt;!&ndash;            <xpath expr="//button[@name='action_assign_serial_show_details']" position="after">&ndash;&gt;-->
<!--&lt;!&ndash;                <span style="margin-left: -5px;margin-right: 15px;">or</span> &ndash;&gt;-->
<!--&lt;!&ndash;                <button name="action_import_template" type="object" style="margin-left: -17px;" class="btn-link" title="Import" attrs="{'invisible': [('picking_type_code', '!=', 'incoming'), ('serial_no', '!=', 'serial')]}">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span class='font-weight-bold'>Import</span>&ndash;&gt;-->
<!--&lt;!&ndash;                </button>&ndash;&gt;-->
<!--&lt;!&ndash;                <field name="picking_type_code" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                <field name="serial_no" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                <field name="is_serial_number" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                <field name="product_type" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->
<!--&lt;!&ndash;            <xpath expr="//button[@name='action_assign_serial_show_details']/span" position="attributes">&ndash;&gt;-->
<!--&lt;!&ndash;                <attribute name="class">font-weight-bold</attribute>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->
<!--&lt;!&ndash;            <xpath expr="//field[@name='next_serial']" position="attributes">&ndash;&gt;-->
<!--&lt;!&ndash;                <attribute name="string">New Serial Number Start From</attribute>&ndash;&gt;-->
<!--&lt;!&ndash;                <attribute name="readonly">1</attribute>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->
<!--            -->
<!--&lt;!&ndash;            <xpath expr="//label[@for='next_serial_count']" position="attributes">&ndash;&gt;-->
<!--&lt;!&ndash;                <attribute name="invisible">1</attribute>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->

<!--&lt;!&ndash;            <xpath expr="//field[@name='move_line_ids']" position="before">&ndash;&gt;-->
<!--&lt;!&ndash;                <div attrs="{'invisible': [('serial_no', '=', 'lot')]}" class="action_upload_template d-inline-flex" role="alert" invisible="context.get('show_upload_file', True)">   &ndash;&gt;-->
<!--&lt;!&ndash;                    <span class="d-inline-flex">&ndash;&gt;-->
<!--&lt;!&ndash;                        <field name="export_file" filename="export_name" nolabel="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button name="import_file_data" class="oe_highlight" type="object" string="Import" style="left: 265px; top: 190px; position: absolute;" attrs="{'invisible': ['|', '|', ('is_import', '=', False), ('is_serial_number', '=', False), ('serial_no', '=', 'lot')]}"/>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button name="import_file_data" class="oe_highlight" type="object" string="Import" style="left: 265px; top: 195px; position: absolute;" attrs="{'invisible': ['|', '|', ('is_import', '=', False), ('is_serial_number', '=', True), ('serial_no', '=', 'lot')]}"/>&ndash;&gt;-->
<!--&lt;!&ndash;                    </span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <field name="export_name" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                    <span style="margin-top: 6px;margin-left: 80px;">Don't have the template?</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <a&ndash;&gt;-->
<!--&lt;!&ndash;                        href="/equip3_inventory_operation/static/sample_data/serial_num.xlsx"&ndash;&gt;-->
<!--&lt;!&ndash;                        target="_blank"&ndash;&gt;-->
<!--&lt;!&ndash;                        style="margin-top: 6px;margin-left: 7px;">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="download_template_form">&ndash;&gt;-->
<!--&lt;!&ndash;                            <strong>Download The Template</strong>&ndash;&gt;-->
<!--&lt;!&ndash;                            <field name="is_import" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </a>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->


<!--&lt;!&ndash;            <xpath expr="//group/group[1]" position="after">&ndash;&gt;-->
<!--&lt;!&ndash;                <group class="left_main_group">&ndash;&gt;-->
<!--&lt;!&ndash;                    <field name="package_type" domain="[('id', 'in', packaging_ids)]" groups="stock.group_tracking_lot" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}"/>&ndash;&gt;-->
<!--&lt;!&ndash;                    <field name="packaging_ids" invisible="1"/>&ndash;&gt;-->
<!--&lt;!&ndash;                    <field name="qty_in_pack" groups="stock.group_tracking_lot" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}"/>&ndash;&gt;-->
<!--&lt;!&ndash;                    <button name="action_put_in_package" type="object" class="oe_link" string="Put In Package" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}" groups="stock.group_tracking_lot" style="margin-left:235px; position: absolute;"/>&ndash;&gt;-->
<!--&lt;!&ndash;                </group>&ndash;&gt;-->
<!--&lt;!&ndash;            </xpath>&ndash;&gt;-->
<!--            &lt;!&ndash; <xpath expr="//footer[1]//button[1]" position="replace">-->
<!--                <button name="action_save" type="object" string="Confirm" class="oe_highlight"/>-->
<!--            </xpath>-->
<!--            <xpath expr="//footer[1]//button[2]" position="replace">-->
<!--                <button name="action_unlink_data" type="object" string="Discard" class="oe_highlight btn btn-fill-light"/>-->
<!--            </xpath> &ndash;&gt;-->
<!--        </field>-->
<!--    </record>-->

    <record id="inherit_view_stock_move_line_operation_tree" model="ir.ui.view">
        <field name="name">stock.move.view.stock.move.line.operation.tree.inherit</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_operation_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_uom_qty']" position="after">
                <field name="tracking" optional="hide"/>
<!--                <field name="force_to_reserve_qty" invisible="not context.get('force_lot_assign')" attrs="{'readonly': [('tracking', '=', 'serial')]}" force_save="1" string="To Reserve"/>-->

            </xpath>

<!--            <xpath expr="//field[@name='product_uom_id']" position="attributes">-->
<!--                <attribute name="attrs">{'readonly': ['|', ('force_to_reserve_qty', '!=', 0.0), '|', ('product_uom_qty', '!=', 0.0), '&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True)]}</attribute>-->
<!--                <attribute name="force_save">1</attribute>-->
<!--            </xpath>-->

<!--            <xpath expr="//field[@name='lot_id']" position="attributes">-->
<!--                <attribute name="options">{'no_create': context.get('disable_create_lots_m2o', False), 'no_create_edit': context.get('disable_create_lots_m2o', False)}</attribute>-->
<!--            </xpath>-->

            <xpath expr="//tree" position="attributes">
                <attribute name="decoration-danger">qty_done &gt; product_uom_qty and state != 'done' and picking_code != 'incoming' or product_uom_qty==qty_done</attribute>
                <attribute name="decoration-success"></attribute>
            </xpath>

<!--            <xpath expr="//tree/field[@name='location_dest_id']" position="before">-->
<!--                <field name="sequence" invisible="1"/>-->
<!--                <field name="move_line_sequence"/>-->
<!--                <field name="quant_package_ids" invisible="1"/>-->
<!--            </xpath>-->

<!--            <field name="result_package_id" position="attributes">-->
<!--                <attribute name="attrs">{'readonly': ['|', '&amp;', ('package_level_id', '!=', False), ('parent.picking_type_entire_packs', '=', True), ('picking_code', '=', 'incoming')]}</attribute>-->
<!--            </field>-->

<!--            <xpath expr="//tree/field[@name='result_package_id']" position="attributes">-->
<!--                <attribute name='domain'>[('id', 'in', quant_package_ids)]</attribute>-->
<!--            </xpath>-->
<!--            -->
        </field>
    </record>

    <record id="inherited_view_stock_move_operations" model="ir.ui.view">
        <field name="name">stock.move.view.view_stock_move_operations</field>
        <field name="model">stock.move</field>
        <field name="inherit_id" ref="stock.view_stock_move_operations"/>
        <field name="arch" type="xml">
                    <xpath expr="//field[@name='next_serial']" position="replace"/>
                    <xpath expr="//field[@name='next_serial_count']" position="replace"/>
<!--                    <xpath expr="//field[@name='sh_stock_move_barcode_mobile']" position="replace"/>-->
<!--                    <xpath expr="//field[@name='sh_stock_move_bm_is_cont_scan']" position="replace"/>-->
                    <xpath expr="//button[@name='action_assign_serial_show_details']" position="replace"/>

                    <xpath expr="/form/group" position="after"><field name="picking_type_code" invisible="1"/>
                        <group>
                            <group string="Lots Serializer" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('serial', '!=', 'lot')]}">
                                <field name="is_autogenerate" invisible="1"/>
                                <field name="picking_code" invisible="1"/>
                                <field name="serial" invisible="1"/>
                                <field name="package_quant_ids" widget="many2many_tags" invisible="1"/>
                                <field name="next_lot_not_autogenerate" attrs="{'invisible': ['|', '|', ('is_autogenerate', '=', True), ('picking_code', '!=', 'incoming'), ('serial', '!=', 'lot')]}"/>
                                <field name="qty_per_lot" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('serial', '!=', 'lot')]}" />
                                <div class="o_row d-flex" style="margin-left:210px; position: absolute;" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('serial', '!=', 'lot')]}">
                                    <button name="action_assign_lot_number" type="object" class="btn-link" style="padding: 0px;margin-left: 11px;" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('serial', '!=', 'lot')]}" >
                                        <span style="margin-left: 10px;" class='font-weight-bold'>Assign Lot Numbers</span>
                                    </button>
                                    <span class='font-weight-bold;margin-left: -5px;' attrs="{'invisible': ['|', ('picking_type_code', '!=', 'incoming'), ('serial_no', '!=', 'lot')]}">or</span>
                                    <button name="action_import_template" type="object" style="margin-left: -3px;padding: 0;" class="btn-link" title="Import" attrs="{'invisible': ['|', ('picking_type_code', '!=', 'incoming'), ('serial_no', '!=', 'lot')]}">
                                        <span style="margin-left: 10px;" class='font-weight-bold'>Import</span>
                                    </button>
                                </div>
                            </group>
                            <group string="Serial Numbers Serializer" attrs="{'invisible': ['|', ('is_serial_number', '=', False), ('picking_code', '!=', 'incoming')]}">
                                <field name="is_serial_number" invisible="1"/>
                                <field name="next_serial_not_autogenerate" attrs="{'invisible': ['|', ('is_serial_number', '=', True), ('serial', '!=', 'serial')]}"/>
                                <field name="next_serial_count" attrs="{'invisible': ['|', ('is_serial_number', '=', False), ('serial', '!=', 'serial')]}" string="Quantity To Serialize"/>
                                <div class="o_row d-flex" style="margin-left:185px; position: absolute;" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('serial', '!=', 'serial')]}">
                                <button name="action_assign_serial_show_details" type="object"
                                    class="btn-link"
                                    title="Assign Serial Numbers">
                                <span class='font-weight-bold' style="margin-left: 10px;">Assign Serial Numbers</span>
                                </button>
                                <span class='font-weight-bold;margin-left: -5px;' attrs="{'invisible': ['|', ('picking_type_code', '!=', 'incoming'), ('serial_no', '!=', 'serial')]}">or</span>
                                <button name="action_import_template" type="object" style="margin-left: -3px;padding: 0;" class="btn-link" title="Import" attrs="{'invisible': [('picking_type_code', '!=', 'incoming'), ('serial_no', '!=', 'serial')]}">
                                    <span style="margin-left: 10px;" class='font-weight-bold'>Import</span>
                                </button>
                                </div>
                                <field name="picking_type_code" invisible="1"/>
                                <field name="serial_no" invisible="1"/>
                                <field name="product_type" invisible="1"/>
                            </group>
                            <group string="Packages" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}">
                                <field name="package_type" domain="[('id', 'in', packaging_ids)]" groups="stock.group_tracking_lot" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}"/>
                                <field name="package_measure_selection" invisible="1"/>
                                <field name="measure_ids" widget="many2many_tags" options="{'no_create_edit':'1'}">
                                    <tree>
                                            <field name="measure" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                        </tree>
                                        <form>
                                        <sheet>
                                            <field name="measure" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                        </sheet>
                                    </form>
                                </field>
                                <field name="packaging_ids" domain="[('id', 'in', packaging_ids)]" widget="one2many_tags" string="Package Measured By" invisible="1">
                                    <!-- <tree>
                                        <field name="filter_value_ids" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    </tree>
                                    <form>
                                        <sheet>
                                            <field name="filter_value_ids" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                        </sheet>
                                    </form> -->
                                </field>
                                <field name="qty_in_pack" groups="stock.group_tracking_lot" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}"/>
                                <!-- <button name="action_put_in_package" type="object" class="oe_link" string="Put In Package" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}" groups="stock.group_tracking_lot" style="margin-left:235px; position: absolute;"/> -->
                                <field name="is_existing_package" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}"/>
                                <field name="move_package_id" attrs="{'invisible': ['|', ('picking_code', '!=', 'incoming'), ('is_existing_package', '=', False)]}" domain="[('id', 'in', filter_move_package_ids)]"/>
                                <field name="filter_move_package_ids" invisible="1"/>
                                <button name="action_put_in_package" class="oe_highlight" type="object" string="Put In Package" attrs="{'invisible': [('picking_code', '!=', 'incoming')]}" groups="stock.group_tracking_lot" style="margin-left:230px; position: absolute;width:195px;"/>
                            </group>
            <!--                <group string="Barcode Scanner">-->
            <!--                    <field name="sh_stock_move_barcode_mobile" invisible="0" />-->
            <!--                    <field name="sh_stock_move_bm_is_cont_scan" invisible="0" />-->
            <!--                </group>-->
                        </group>
                    </xpath>

<!--                    <xpath expr="//field[@name='quantity_done']/../.." position="after">-->
<!--                        <field name="fulfillment" invisible="1"/>            -->
<!--                    </xpath>-->

        </field>
    </record>

    <record id="inherit_view_stock_view_picking_form_new" model="ir.ui.view">
        <field name="name">stock.view.picking.form.inherit.new</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='operations']//field[@name='move_ids_without_package']//tree//field[@name='forecast_availability']" position="after">
                <field name="product_type" invisible="1"/>
            </xpath>

<!--            ganti qty nanti-->
            <xpath expr="//page[@name='operations']//field[@name='move_ids_without_package']//tree//field[@name='product_uom_qty']" position="before">
<!--                <field name="initial_demand" force_save="1" readonly="1"/>-->
<!--                <field name="remaining" readonly="1" force_save="1"/>-->
            </xpath>
            <xpath expr="//page[@name='operations']//field[@name='move_ids_without_package']//tree//field[@name='quantity_done']" position="attributes">
<!--                <attribute name="attrs">{'readonly': ['|', '&amp;', ('is_adjustable_picking', '=', True), ('picking_state', 'in', ('done', 'cancel')), '&amp;', ('is_adjustable_picking', '=', False), ('picking_state', '!=', 'draft')]}</attribute>-->
            </xpath>
            <xpath expr="//page[@name='operations']//field[@name='move_ids_without_package']//tree//field[@name='product_uom_qty']" position="attributes">
<!--                <attribute name="attrs">{'column_invisible': [('parent.immediate_transfer', '=', True)], 'readonly': ['|', '&amp;', ('is_adjustable_picking', '=', True), ('picking_state', 'in', ('done', 'cancel')), '&amp;', ('is_adjustable_picking', '=', False), ('picking_state', '!=', 'draft')]}</attribute>-->
            </xpath>
            <xpath expr="//page[@name='operations']//field[@name='move_ids_without_package']//tree//field[@name='quantity_done']" position="after">
<!--               <field name="is_product_service_operation" invisible="1"/>-->
<!--               <field name="is_product_service_operation_delivery" invisible="1"/>-->
<!--               <field name="is_product_service_operation_receiving" invisible="1"/>-->
<!--               <field name="move_progress" widget="progressbar" nolabel="1" attrs="{'invisible': [('product_type', '!=', 'service')]}"/>-->
<!--               <button name="action_full_quantity_done" type="object" class="oe_highlight" string="Full" attrs="{'invisible': [('product_type', '!=', 'service')]}"/>-->
<!--               <button name="action_partial_quantity_done" type="object" class="oe_highlight" string="Partial" attrs="{'invisible': [('product_type', '!=', 'service')]}"/>-->
<!--               <field name="fulfillment" readonly="1" force_save="1"/>-->
            </xpath>
        </field>
    </record>

    <record id="view_inventory_operation_move_search" model="ir.ui.view">
        <field name="name">view.inventory.operation.move.search</field>
        <field name="model">stock.move</field>
        <field name="inherit_id" ref="stock.view_move_search"/>
        <field name="arch" type="xml">
            <xpath expr="//search/filter" position="before">
                <filter string="Sales Return" name="sales_return" domain="[('location_id','=','Partner Locations/Customers')]"/>
                <filter string="Purchase Return" name="purchase_return" domain="[('location_dest_id','=','Partner Locations/Vendors')]"/>
<!--                <filter string="Internal Transfer Return" name="internal_transfer_return" domain="[('picking_type_code','=','internal')]"/>-->
                <separator/>
            </xpath>
        </field>
    </record>
</odoo>
