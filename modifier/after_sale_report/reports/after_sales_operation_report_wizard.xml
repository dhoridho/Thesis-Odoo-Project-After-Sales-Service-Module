<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_after_sales_operation_report_wizard_form" model="ir.ui.view">
        <field name="name">after.sales.operation.report.wizard.form</field>
        <field name="model">after.sales.operation.report.wizard</field>
        <field name="arch" type="xml">
            <form string="After Sales Operation Report">
                 <sheet>
                    <group>
                        <group>
                            <field name="report_data" required="1"/>
                            <field name="report_type" required="1" widget="radio"/>
                        </group>
                        <group>
                            <field name="user_type" required="1" attrs="{'invisible': [('report_data', 'in', ['sale_return'])]}"/>
                            <field name="responsible_id"
                                   string="Customer Service"
                                   domain="[(('groups_id.name', 'ilike', 'Customer Service'))]"
                                   attrs="{'invisible': [('user_type', 'not in', ['responsible'])]}"/>
                        </group>
                        <group>
                            <field name="start_date"/>
                            <field name="end_date"/>
                        </group>
                    </group>
                </sheet>
                <footer>
                    <button string="Print" name="print_report" type="object" class="oe_highlight"/>
                    <strong>or</strong>
                    <button string="Cancel" class="oe_link" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_after_sales_operation_report" model="ir.actions.act_window">
        <field name="name">After Sales Operation Report</field>
        <field name="res_model">after.sales.operation.report.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
    </record>

    <!-- PDF Report Templates -->
    <!-- Service Request PDF Report -->
    <record id="action_report_service_request_pdf" model="ir.actions.report">
        <field name="name">After Sales Operation Report</field>
        <field name="model">after.sales.operation.report.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">after_sale_report.report_service_request_template</field>
        <field name="report_file">after_sale_report.report_service_request_template</field>
        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="after_sale_report.paperformat_after_sales_report"/>
    </record>

    <!-- Alternative approach: Add paperformat if needed -->
    <record id="paperformat_after_sales_report" model="report.paperformat">
        <field name="name">After Sales Report Format</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">40</field>
        <field name="margin_bottom">23</field>
        <field name="margin_left">7</field>
        <field name="margin_right">7</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">90</field>
    </record>

    <!-- Warranty Claim PDF Report -->
    <record id="action_report_warranty_claim_pdf" model="ir.actions.report">
        <field name="name">Warranty Claim Report</field>
        <field name="model">after.sales.operation.report.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">after_sale_report.report_warranty_claim_template</field>
        <field name="report_file">after_sale_report.report_warranty_claim_template</field>
        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>
        <field name="binding_type">report</field>
    </record>

    <!-- Sale Return PDF Report -->
    <record id="action_report_sale_return_pdf" model="ir.actions.report">
        <field name="name">Sale Return Report</field>
        <field name="model">after.sales.operation.report.wizard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">after_sale_report.report_sale_return_template</field>
        <field name="report_file">after_sale_report.report_sale_return_template</field>
        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>
        <field name="binding_type">report</field>
    </record>

    <!-- Excel Report Actions -->
    <!-- Service Request Excel Report -->
<!--    <record id="action_report_service_request_xlsx" model="ir.actions.report">-->
<!--        <field name="name">Service Request Excel Report</field>-->
<!--        <field name="model">after.sales.operation.report.wizard</field>-->
<!--        <field name="report_type">xlsx</field>-->
<!--        <field name="report_name">after_sale_report.report_service_request_xlsx</field>-->
<!--        <field name="report_file">after_sale_report.report_service_request_xlsx</field>-->
<!--        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>-->
<!--        <field name="binding_type">report</field>-->
<!--    </record>-->

    <!-- Warranty Claim Excel Report -->
<!--    <record id="action_report_warranty_claim_xlsx" model="ir.actions.report">-->
<!--        <field name="name">Warranty Claim Excel Report</field>-->
<!--        <field name="model">after.sales.operation.report.wizard</field>-->
<!--        <field name="report_type">xlsx</field>-->
<!--        <field name="report_name">after_sale_report.report_warranty_claim_xlsx</field>-->
<!--        <field name="report_file">after_sale_report.report_warranty_claim_xlsx</field>-->
<!--        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>-->
<!--        <field name="binding_type">report</field>-->
<!--    </record>-->

    <!-- Sale Return Excel Report -->
<!--    <record id="action_report_sale_return_xlsx" model="ir.actions.report">-->
<!--        <field name="name">Sale Return Excel Report</field>-->
<!--        <field name="model">after.sales.operation.report.wizard</field>-->
<!--        <field name="report_type">xlsx</field>-->
<!--        <field name="report_name">after_sale_report.report_sale_return_xlsx</field>-->
<!--        <field name="report_file">after_sale_report.report_sale_return_xlsx</field>-->
<!--        <field name="binding_model_id" ref="model_after_sales_operation_report_wizard"/>-->
<!--        <field name="binding_type">report</field>-->
<!--    </record>-->


</odoo>

