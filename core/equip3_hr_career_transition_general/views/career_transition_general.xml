<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

    <record id="career_transition_general_view_form" model="ir.ui.view">
        <field name="name">career.transition.general.view.form</field>
        <field name="model">career.transition.general</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="approve" string="Approve" class="oe_highlight" type="object"  attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                    <button name="renew_contract" string="Renew Contract" class="oe_highlight" type="object"  attrs="{'invisible': ['|', ('state', '!=', 'approved'), ('is_hide_renew', '=', True)]}"/>
                    <field name="state" widget="statusbar" options="{'clickable': '0'}"/>
                </header>
                <sheet>
                    <group>
                        <group >
                            <field name="name" readonly="1" force_save="1" string="Number" />
                            <field name="employee_id" required="1"  attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="career_transition" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="is_hide_renew" invisible="1"/>
                        </group>

                        <group >
                            <field name="transition_date" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                            <field name="reason" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                        </group>
                        
                    </group>
                    <notebook>
                        <page name="career_transition_detail" string="Career Transition Detail">
                            <group name="main_group">
                                <group name="current_employee_details">
                                    <field name="id_employee" string="Employee ID" readonly="1" force_save="1"/>
                                    <field name="contract_id" readonly="1" force_save="1"/>
                                    <field name="work_location" readonly="1" force_save="1"/>
                                    <field name="department_id" readonly="1" force_save="1"/>
                                    <field name="job_id" string="Job Position" readonly="1" force_save="1"/>
                                </group>
                                <group name="new_employee_details">
                                    <field name="new_contract" attrs="{'invisible': [('career_transition', '!=', 'movement')], 'required': [('career_transition', '=', 'movement')], 'readonly': [('state', '!=', 'draft')]}"  />
                                    <field name="new_contract_type_id" attrs="{'invisible': [('career_transition', '!=', 'movement')], 'required': [('career_transition', '=', 'movement')], 'readonly': [('state', '!=', 'draft')]}" />
                                    <field name="new_work_location" attrs="{'invisible': [('career_transition', '!=', 'movement')], 'required': [('career_transition', '=', 'movement')], 'readonly': [('state', '!=', 'draft')]}" />
                                    <field name="new_department_id" attrs="{'invisible': [('career_transition', '!=', 'movement')], 'required': [('career_transition', '=', 'movement')], 'readonly': [('state', '!=', 'draft')]}" />
                                    <field name="new_job_id" attrs="{'invisible': [('career_transition', '!=', 'movement')], 'required': [('career_transition', '=', 'movement')], 'readonly': [('state', '!=', 'draft')]}" />
                                </group>
                            </group>
                            
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>


    <record id="career_transition_general_view_tree" model="ir.ui.view">
        <field name="name">career.transition.general.view.tree</field>
        <field name="model">career.transition.general</field>
        <field name="arch" type="xml">
            <tree string="Career Transition">
                <field name="name" string="Number"/>
                <field name="employee_id" />
                
            </tree>
        </field>
    </record>

    <record id="career_transition_general_action" model="ir.actions.act_window">
        <field name="name">Career Transition</field>
        <field name="res_model">career.transition.general</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>

    </record>


        
        <menuitem name="Career Transition" 
                      id="hr_career_transition_general_menu_root"
                      parent="equip3_ph_hr_restructure_menu.menu_ph_human_resource_root"
                      sequence="51"
                      />

                        
        <record id="hr_career_transition_general_menu_root" model="ir.ui.menu">
            <field name="equip_icon_class">o-hm-sidebar-parent-hrm-career-transition</field> 
        </record>

        <menuitem
            id="career_transition_general_menu"
            name="Career Transition Request"
            action="career_transition_general_action"
            parent="hr_career_transition_general_menu_root"
            sequence="10"/>
            
    
        
    
    </data>
    

</odoo>
