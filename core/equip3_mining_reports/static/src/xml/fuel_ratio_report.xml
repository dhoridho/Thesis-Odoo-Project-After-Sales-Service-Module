<templates>
    <t t-name="FuelRatioReportTemplate">
        <div class="o_view_fuel_ratio_report">
            <div class="o_mining_fuel_report_header"></div>
            <div class="o_mining_fuel_report_content"></div>
        </div>
    </t>
    
    <t t-name="FuelRatioReportHeader">
        <div class="o_mining_report_title">
            <h1>Fuel Ratio Report</h1>
        </div>

        <div class="o_mining_fuel_control_panel">
            <div class="o_panel_top">
                <table class="o_table_panel">
                    <tbody>
                        <tr>
                            <td class="o_td_label">Year</td>
                            <td class="o_year_filter_widget"/>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="o_panel_bottom">
                <div class="o_panel_left">
                    <div class="o_report_buttons">
                        <button type="button" class="o_print_pdf btn btn-primary mr-2">Print (PDF)</button>
                        <button type="button" class="o_print_xlsx btn btn-primary" id="xlsx">Export (XLSX)</button>
                    </div>
                </div>
                <div class="o_panel_right">
                    <div class="o_report_filter">
                        <div class="o_filter mr-2">
                            <div class="dropleft o_filter_site">
                                <t t-set="filter_site" t-value="filters['filter_site']"/>
                                <a class="btn btn-secondary dropdown-toggle o_filter_site_btn" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" t-att-data-filter-site="filter_site['active'][0]">
                                    <t t-esc="filter_site['active'][1]"/>
                                </a>
                                <ul class="dropdown-menu o_filter_site_dropdown" aria-labelledby=".o_filter_site_btn">
                                    <t t-foreach="filter_site['selection']" t-as="selection">
                                        <li><a class="dropdown-item o_filter_site_item" href="#" t-att-data-filter-site="selection[0]">
                                            <t t-esc="selection[1]"/>
                                        </a></li>
                                    </t>
                                </ul>
                            </div>
                        </div>
                        <div class="o_filter mr-2">
                            <div class="dropleft o_filter_pit">
                                <t t-set="filter_pit" t-value="filters['filter_pit']"/>
                                <a class="btn btn-secondary dropdown-toggle o_filter_pit_btn" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" t-att-data-filter-pit="filter_pit['active'][0]">
                                    <t t-esc="filter_pit['active'][1]"/>
                                </a>
                                <ul class="dropdown-menu o_filter_pit_dropdown" aria-labelledby=".o_filter_pit_btn">
                                    <t t-foreach="filter_pit['selection']" t-as="selection">
                                        <li><a class="dropdown-item o_filter_pit_item" href="#" t-att-data-filter-pit="selection[0]">
                                            <t t-esc="selection[1]"/>
                                        </a></li>
                                    </t>
                                </ul>
                            </div>
                        </div>
                        <div class="o_apply">
                            <button type="button" class="o_apply_filter btn btn-primary">Apply</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="FuelRatioReportTable">

        <table class="table o_table_fuel_report">
            <thead>
                <tr>
                    <th rowspan="2" class="o_freeze">Operation</th>
                    <t t-foreach="months" t-as="month">
                        <th colspan="3" class="o_separator"><t t-esc="month"/></th>
                    </t>
                </tr>
                <tr>
                    <t t-foreach="months" t-as="month">
                        <th class="o_separator">Production</th>
                        <th>Fuel Usage</th>
                        <th>Fuel Ratio</th>
                    </t>
                </tr>
            </thead>
            <tbody>
                <t t-foreach="data" t-as="operation">
                    <tr>
                        <td class="o_operation o_freeze"><t t-esc="operation['name']"/></td>
                    </tr>
                    <t t-foreach="operation['children']" t-as="child">
                        <tr>
                            <td class="o_freeze"><t t-esc="child['name']"/></td>
                            <t t-foreach="child['months']" t-as="child_month">
                                <td class="o_value o_separator"><t t-esc="formatFloat(child_month['production'], false, {'digits': [false, digits]})"/> <t t-esc="operation['uom']"/></td>
                                <td class="o_value"><t t-esc="formatFloat(child_month['fuel_usage'], false, {'digits': [false, digits]})"/> <t t-esc="child['uom']"/></td>
                                <td class="o_value o_fuel_ratio"><t t-esc="formatFloat(child_month['fuel_ratio'], false, {'digits': [false, digits]})"/> <t t-esc="operation['uom']"/>/<t t-esc="child['uom']"/></td>
                            </t>
                        </tr>
                    </t>
                </t>
            </tbody>
        </table>
    </t>

    <t t-name="FuelRatioNoContentHelper">
        <div class="o_view_nocontent">
            <div class="o_nocontent_help">
                <p class="o_view_nocontent_smiling_face">
                    No fuel ratio data for corresponding filters yet. Try changing the filters or create a new actualization record.
                </p>
                <p>
                    Some description/helper about fuel ratio report.
                </p>
            </div>
        </div>
    </t>

</templates>