<odoo>
    <data>
        <record id="edit_job_estimate_form_view_inherit_2" model="ir.ui.view">
            <field name="name">edit.job.estimate.form.view.inherit</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.edit_job_estimate_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='main_contract_ref']" position="after">
                    <field name="cost_sheet_ref" force_save="1" readonly="1"
                           attrs="{'invisible': [('contract_category','!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="edit_job_estimate_form_view_inherit" model="ir.ui.view">
            <field name="name">edit.job.estimate.form.view</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="bi_job_cost_estimate_customer.job_estimate_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']/button[@name='quotation_button']" position="before">
                    <button type="object" class="oe_stat_button" icon="o-hm-smart-construction-cost-sheet"
                            name="action_cost_sheet" attrs="{'invisible' : ['|',  ('department_type', '=', 'project'), ('state', '!=', 'confirmed')]}">
                        <div class="o_form_field o_stat_info">
                            <span class="o_stat_text">Cost Sheet</span>
                        </div>
                    </button>
                </xpath>
                <xpath expr="//field[@name='analytic_idz']" position="after">
                    <field name="budgeting_period" attrs="{'invisible': [('contract_category','!=', 'var'),]}"/>
                    <field name="project_budget_id" invisible="1"/> <!-- No longer used, not removed to not bring issues to existing databases -->
                    <field name="project_budget_ids" widget="many2many_tags"
                           attrs="{'invisible': ['|',('contract_category','!=', 'var'), ('budgeting_period', 'not in', ['monthly', 'custom'])], 'required': [('contract_category','=', 'var'), ('budgeting_period', 'in', ['monthly', 'custom'])]}"/>
                </xpath>
                <xpath expr="//field[@name='save_as_template']/../../.." position="after">
                    <group>
                        <div class="oe_inline">
                            <p role="alert" class="alert alert-info alert-dismissible rounded-0 fade show d-print-none css_editable_mode_hidden" style="font-family: inherit; font-size: 16px !important; color:inherit" attrs="{'invisible': [('contract_category','!=', 'var'),]}">
                                <span class="fa fa-info-circle"></span> You can input negative value for decreasing quantities (ex: -32, -1.2), or just input number for increasing quantities (ex: 32, 1.2). For unit price, just input the desired price (ex: 300, 20000)
                            </p>
                        </div>

                    </group>
                </xpath>
                <xpath expr="//field[@name='analytic_idz']" position="after">
                    <field name="is_set_projects_type" attrs="{'invisible': [('contract_category', '=', 'var')]}"/>
                    <field name="project_template_id" options="{'no_create': True}" attrs="{'invisible': ['|', ('contract_category', '=', 'var'),('is_set_projects_type', '=', False)], 'required': [('is_set_projects_type', '=', True)]}"/>
                </xpath>
            </field>
        </record>

        <!-- Material Estimation Inherit View-->
        <record id="material_estimation_inherit_2" model="ir.ui.view">
            <field name="name">material.estimation.fields.inherit.2</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.material_estimation_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_material_id" invisible="1"/>
                    <field name="bd_material_id" invisible="1"/>
                    <field name="is_vo_generated" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="quantity_after" string="Quantity After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='group_of_product']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='product_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('group_of_product', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='material_estimation_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>
                <!--Project Scope Estimation Tab-->
                <xpath expr="//notebook/page/field[@name='project_scope_ids']/tree/field[@name='subtotal']"
                       position="after">
                    <field name="is_vo_generated" invisible="1"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='project_scope_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='project_scope_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <!--Section Estimation Tab-->
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='subtotal']"
                       position="after">
                    <field name="is_vo_generated" invisible="1"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='quantity']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='section_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
            </field>
        </record>

        <record id="variable_estimation_variation_order_inherit" model="ir.ui.view">
            <field name="name">material.estimation.fields.inherit.2</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.variable_estimation_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='subtotal']"
                       position="after">
                    <field name="is_vo_generated" invisible="1"/>
                </xpath>
                 <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='variable_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|','|',('project_scope', '=', False),('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='variable_quantity']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='variable_ids']/tree/field[@name='variable_uom']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
            </field>
        </record>

        <!-- Labour Estimation Inherit -->
        <record id="labour_estimation_inherit_2" model="ir.ui.view">
            <field name="name">labour.estimation.fields.inherit.2</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.labour_estimation_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_labour_id" invisible="1"/>
                    <field name="bd_labour_id" invisible="1"/>
                    <field name="is_vo_generated" invisible="1"/>
<!--                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>-->
                    <field name="budget_contractors" string="Budget Contractors" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_contractors" string="Available Budget Contractors" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_time" string="Budget Time" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_time" string="Available Budget Time" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="contractors_after" string="Contractors After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="time_after" string="Time After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='group_of_product']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='product_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('group_of_product', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='quantity']" position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='labour_estimation_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>
            </field>
        </record>

        <!-- <record id="labour_estimation_page_inherit_operation" model="ir.ui.view">
            <field name="name">labour.estimation.page.inherit.operation</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.labour_estimation_page_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//form/sheet/group[2]/group[2]/field[@name='quantity']" position="before">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record> -->

        <!-- Overhead Estimation Inherit -->
        <record id="overhead_estimation_inherit_2" model="ir.ui.view">
            <field name="name">overhead.estimation.fields.inherit2</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.overhead_estimation_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_overhead_id" invisible="1"/>
                    <field name="bd_overhead_id" invisible="1"/>
                    <field name="is_vo_generated" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="quantity_after" string="Quantity After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='overhead_catagory']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='group_of_product']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='product_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('group_of_product', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='overhead_estimation_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>
            </field>
        </record>

        <!-- Equipment and Subcon Estimation Inherit -->
        <record id="equipment_subcon_estimation_inherit_2" model="ir.ui.view">
            <field name="name">equipment.subcon.estimation.fields.inherit.2</field>
            <field name="model">job.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.equipment_subcon_estimation_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="is_vo_generated" invisible="1"/>
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_internal_asset_id" invisible="1"/>
                    <field name="bd_internal_asset_id" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="quantity_after" string="Quantity After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='asset_category_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='asset_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('asset_category_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('asset_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('asset_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='internal_asset_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>

                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_equipment_id" invisible="1"/>
                    <field name="bd_equipment_id" invisible="1"/>
                    <field name="is_vo_generated" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="quantity_after" string="Quantity After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='group_of_product']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='product_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('group_of_product', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('product_id', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='equipment_estimation_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>

                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='contract_category']"
                       position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="cs_subcon_id" invisible="1"/>
                    <field name="bd_subcon_id" invisible="1"/>
                    <field name="is_vo_generated" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="quantity_after" string="Quantity After" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}" optional="hide"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='project_scope']"
                       position="before">
                    <field name="project_budget_ids" invisible="1"/>
                    <field name="project_budget_id" force_save="1" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')], 'readonly': [('is_vo_generated', '=', True)]}" domain="[('id', 'in', project_budget_ids)]"/>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='project_scope']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': [('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='section_name']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('project_scope', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='variable']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('section_name', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='description']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('variable', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='uom_id']"
                       position="attributes">
                    <attribute name="attrs">{'readonly': ['|',('variable', '=', False),('is_vo_generated', '=', True)]}</attribute>
                    <attribute name="force_save">1</attribute>
                </xpath>
                <xpath expr="//notebook/page/field[@name='subcon_estimation_ids']/tree/field[@name='coefficient']"
                       position="attributes">
                    <attribute name="attrs">{'column_invisible': [('parent.contract_category', '=', 'var')]}</attribute>
                </xpath>
            </field>
        </record>

        <record id="material_view_2" model="ir.ui.view">
            <field name="name">material.view.2</field>
            <field name="model">material.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.material_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[1]/field[@name='description']" position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="labour_view_2" model="ir.ui.view">
            <field name="name">labour.view.2</field>
            <field name="model">labour.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.labour_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[2]/field[@name='quantity']" position="before">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_contractors" string="Budget Contractors" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_contractors" string="Available Budget Contractors" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_time" string="Budget Time" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_time" string="Available Budget Time" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="subcon_view_2" model="ir.ui.view">
            <field name="name">subcon.view.2</field>
            <field name="model">subcon.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.subcon_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[1]/field[@name='description']" position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="overhead_view_2" model="ir.ui.view">
            <field name="name">overhead.view.2</field>
            <field name="model">overhead.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.overhead_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[1]/field[@name='description']" position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="equipment_view_2" model="ir.ui.view">
            <field name="name">equipment.view.2</field>
            <field name="model">internal.assets</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.asset_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[1]/field[@name='description']" position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

        <record id="asset_view_2" model="ir.ui.view">
            <field name="name">asset.view.2</field>
            <field name="model">equipment.estimate</field>
            <field name="inherit_id" ref="equip3_construction_sales_operation.equipment_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[3]/group[1]/field[@name='description']" position="after">
                    <field name="cost_sheet_ref" invisible="1"/>
                    <field name="budget_quantity" string="Budget Quantity" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="budget_unit_price" attrs="{'column_invisible': [('parent.contract_category', '!=', 'var')]}"/>
                    <field name="current_quantity" string="Available Budget Quantity" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                </xpath>
            </field>
        </record>

    </data>
</odoo>


