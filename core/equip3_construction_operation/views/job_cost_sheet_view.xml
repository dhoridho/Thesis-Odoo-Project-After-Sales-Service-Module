<odoo>
    <data>
        <record id="edit_view_job_cost_sheet_menu_tree" model="ir.ui.view">
            <field name="name">edit.job.cost.sheet.tree</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_tree"/>
            <field name="arch" type="xml">

                <xpath expr="//tree[1]" position='attributes'>
                    <attribute name="multi_edit">1</attribute>
                    <attribute name="sample">1</attribute>
                    <attribute name="create">0</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='name']" position="after">
                    <field name="active" invisible="1"/>
                    <field name="number" class="font-weight-bold"/>
                </xpath>
                <xpath expr="//tree/field[@name='name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='supplier_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='create_date']" position="attributes">
                    <attribute name="string">Creation Date</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='state']" position="attributes">
                    <attribute name="decoration-success">state == 'done'</attribute>
                    <attribute name="decoration-primary3">state == 'purchase'</attribute>
                    <attribute name="decoration-success">state == 'approved'</attribute>
                    <attribute name="decoration-warning3">state == 'to_approve'</attribute>
                    <attribute name="decoration-success2">state == 'in_progress'</attribute>
                    <attribute name="decoration-danger2">state == 'reject'</attribute>
                    <attribute name="decoration-danger">state == 'cancelled'</attribute>
                    <attribute name="decoration-warning">state == 'revised'</attribute>
                    <attribute name="widget">badge</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_cost_sheet_form_inherit_construction" model="ir.ui.view">
            <field name="name">job.cost.sheet.form</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <!--                # Existing field modification-->
                <xpath expr="//header/button[@name='create_purchase_order']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='project_id']" position="after">
                    <field name="department_field" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='supplier_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='user_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='company_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <!--   hide 'purchase order' in statusbar   -->
                <xpath expr="//header/field[@name='state']" position="attributes">
                    <attribute name="statusbar_visible">draft,in_progress,done</attribute>
                    <attribute name="attrs">{'invisible': ['|', ('cost_sheet_approval_matrix', '=', True), ('state', 'in', ['reject','cancelled','freeze'])]}</attribute>
                </xpath>

                <xpath expr="//header/field[@name='state']" position="after">
                    <field name="state1" widget="statusbar" statusbar_visible="draft,approved,in_progress,done" attrs="{'invisible': ['|', ('cost_sheet_approval_matrix', '=', False), ('state', 'in', ['reject','cancelled','freeze'])]}"/>
                    <field name="state2" widget="statusbar" statusbar_visible="draft,reject" attrs="{'invisible': ['|', ('cost_sheet_approval_matrix', '=', False), ('state', '!=', 'reject')]}"/>
                    <field name="state3" widget="statusbar" statusbar_visible="draft,in_progress,cancelled" attrs="{'invisible': [('state', '!=', 'cancelled')]}"/>
                    <field name="state4" widget="statusbar" statusbar_visible="draft,in_progress,freeze" attrs="{'invisible': [('state', '!=', 'freeze')]}"/>
                </xpath>
                
                <xpath expr="//field[@name='project_id']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">1</attribute>
                    <attribute name="force-save">1</attribute>
                </xpath>
                <xpath expr="//field[@name='project_id']" position="after">
                    <field name="partner_id" force_save="1" readonly="1" attrs="{'invisible': [('department_type', '=', 'department')], 'required': [('department_type', '=', 'project')]}"/>
                    <field name="account_tag_ids" widget="many2many_tags" force_save="1"/>
                    <field name="budgeting_method"/>
                    <field name="budgeting_period"/>
                    <field name="hide_budget_left" invisible="1"/>
                    <field name="is_empty_cost_sheet" invisible="1" force_save="1"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="department_type" invisible="1"/>
                </xpath>

                <xpath expr="//sheet/group[2]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//group/field[@name='description']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//page[1]" position="attributes">
                    <attribute name="name">material_page</attribute>
                </xpath>
                <xpath expr="//page[2]" position="attributes">
                    <attribute name="name">labour_page</attribute>
                </xpath>
                <xpath expr="//page[3]" position="attributes">
                    <attribute name="name">overhead_page</attribute>
                </xpath>

                <!--                #new fields addition-->
                <xpath expr="//sheet/div[@name='button_box']" position="after">
                    <div class="oe_title oe_left">
                        <h1>
                            <field name="number"/>
                        </h1>
                    </div>
                </xpath>

                <xpath expr="//field[@name='cost_sheet_name']" position="attributes">
                    <attribute name="placeholder">Cost Sheet Name</attribute>
                    <attribute name="readonly">1</attribute>
                    <attribute name="force-save">1</attribute>
                </xpath>

                <xpath expr="//field[@name='create_date']" position="attributes">
                    <attribute name="string">Creation Date</attribute>
                </xpath>

                <xpath expr="//field[@name='close_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='create_date']" position="before">
                    <field name="approved_date" readonly="1" attrs="{'invisible': [('state', '=', 'draft')]}" invisible="1"/>
                    <field name="close_date" readonly="1" attrs="{'invisible': [('state', '!=', 'done')]}"/>
                    <field name="warehouse_id"/>
                    <field name="company_currency_id" readonly="1"/>
                    <field name="sale_order_ref" widget="many2many_tags" force_save="1" domain="[('project_id', '=', project_id), ('state', 'in', ['sale','done'])]" invisible="1"/>
                    <field name="job_reference" widget="many2many_tags" domain="[('project_id', '=', project_id)]" force_save="1" invisible="1"/>
                    <field name="is_revision_created" invisible="1"/>   
                    <field name="is_revision_cs" invisible="1"/>             
                    <field name="cost_sheet_approval_matrix" invisible="1"/>
                    <field name="user_is_approver" invisible="1"/>
                    <field name="is_approval_matrix_filled" invisible="1"/>
                    <field name="approval_matrix_line_id" invisible="1"/>
                    <field name="approvers_ids" widget="many2many_tags" invisible="1"/>
                    <field name="approved_user_ids" widget="many2many_tags" invisible="1" readonly="0"/>
                    <field name="is_approver" invisible="1"/>
                    <field name="approved_user_text" invisible="1"/>
                    <field name="approved_user" invisible="1" readonly="0"/>
                    <field name="employee_id" invisible="1"/>
                    <field name="feedback_parent" invisible="1"/>
                    <field name="company_id" readonly="1"/>
                    <field name="branch_id" required="1" readonly="1" force_save="1"/>
                    <field name="create_uid" string='Created By'/>
                    <!--  set the boolean true in 'freeze state' -->
                    <field name="ba_freeze_state" invisible="1"/>
                    <field name="active" invisible="1"/>
                    <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                </xpath>

                <!-- <xpath expr="//field[@name='create_date']" position="after">
                </xpath> -->

                <!-- logmail -->
                <xpath expr="//form/sheet[1]" position="after">
                    <div class="oe_chatter" name="chatter">
                        <field name="message_follower_ids"/>
                        <field name="activity_ids"/>
                        <field name="message_ids"/>
                    </div>
                </xpath>

            </field>
        </record>

        <!-- Equipment Subcon tab view -->
        <record id="equipment_subcon_inherit" model="ir.ui.view">
            <field name="name">equipment.subcon.fields.inherit</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <field name="name"  position="after">
                    <field name="debug_mode" invisible="1" />
                </field>
                <xpath expr="//notebook/page/field[@name='material_ids']/tree[1]/field[@name='product_qty']" position="after">
                    <field name = "on_hand_qty"/>
                </xpath>
                <xpath expr="//notebook/page[1]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//notebook/page[2]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//notebook/page[3]" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//notebook/page[@name='overhead_page']" position="after">
                    <page string="Periodical Budget" name="periodical_budget_cons" attrs="{'invisible': [('budgeting_period', '=', 'project')]}">
                        <field name="periodical_budget_ids" nolabel="1" readonly="1" force_save="1" >
                            <tree editable="bottom">
                                <field name="name"/>
                                <field name="month" attrs="{'column_invisible': [('parent.budgeting_period', '!=', 'monthly')]}"/>
                                <field name="bd_start_date" attrs="{'column_invisible': [('parent.budgeting_period', '!=', 'custom')]}"/>
                                <field name="bd_end_date" attrs="{'column_invisible': [('parent.budgeting_period', '!=', 'custom')]}"/>
                                <field name="budget_amount_total" sum="Total"/>
                                <field name="state" widget="badge"
                                        decoration-primary="state == 'draft'"
                                        decoration-warning="state == 'to_approve'"
                                        decoration-success="state == 'approved'"
                                        decoration-primary2="state == 'in_progress'"
                                        decoration-success2="state == 'complete'"
                                        decoration-danger="state == 'rejected'"
                                        decoration-warning2="state == 'freeze'"
                                        decoration-danger2="state == 'cancelled'"/>     
                            </tree>
                        </field>
                    </page>

                    <page string="Budgeting Book" name="budgeting_page">
                        <button name="button_reset_estimation" confirm="This will delete all estimation of this Cost Sheet, are you sure?" type="object" string="Reset Estimation" class="oe_highlight" attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                        <notebook>
                            <page name="project_scope_cost_sheet" string="Project Scope" >
                                <field name="refresh_scope_section" invisible="1"/>
                                <field name="project_scope_cost_ids" readonly="1" force_save="1">
                                    <tree>
                                        <field name="sequence" widget="handle" />
                                        <field name="job_sheet_id" invisible="1"/>
                                        <field name="no" force_save="1"/>
                                        <field name="project_scope_id" force_save="1"/>
                                        <field name="amount_contract" force_save="1"/>
                                        <field name="subtotal" string="Budgeted Amount" force_save="1"/>
                                        <field name="budget_amt_left" force_save="1"/>
                                        <field name="reserved_amt" force_save="1"/>
                                        <field name="billed_amt" force_save="1"/>
                                        <field name="paid_amt" force_save="1"/>
                                        <field name="transferred_amt" force_save="1" invisible="1"/>
                                        <field name="unused_amount" force_save="1"/>
                                        <field name="actual_used_amt" force_save="1"/>
                                        <field name="allocated_budget_amt" force_save="1"/>
                                        <field name="unallocated_amount" force_save="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="section_cost_sheet" string="Section" >
                                <field name="section_cost_ids" readonly="1" force_save="1">
                                    <tree>
                                        <field name="sequence" widget="handle" />
                                        <field name="job_sheet_id" invisible="1"/>
                                        <field name="no" force_save="1"/>
                                        <field name="project_scope_id" force_save="1"/>
                                        <field name="section_id" force_save="1"/>
                                        <field name="amount_contract" force_save="1"/>
                                        <field name="subtotal" string="Budgeted Amount" force_save="1"/>
                                        <field name="budget_amt_left" force_save="1"/>
                                        <field name="reserved_amt" force_save="1"/>
                                        <field name="billed_amt" force_save="1"/>
                                        <field name="paid_amt" force_save="1"/>
                                        <field name="transferred_amt" force_save="1" invisible="1"/>
                                        <field name="unused_amount" force_save="1"/>
                                        <field name="actual_used_amt" force_save="1"/>
                                        <field name="allocated_budget_amt" force_save="1"/>
                                        <field name="unallocated_amount" force_save="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Material Estimation" name="material_estimation_cons" attrs="{'invisible': [('budgeting_method', '!=', 'gop_budget')]}">
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_gop_ids" nolabel="1" readonly="1" force_save="1" class="o_cost_material_line">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="group_of_product" readonly="1" force_save="1"/>
                                        <field name="material_gop_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_amt_left" readonly="1"  force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1"/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1" />
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="material_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_material" />
                                    </div>
                                        <field name="amount_material" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page> 
                            <page string="Material Estimation" attrs="{'invisible': [('budgeting_method', '=', 'gop_budget')]}">
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_ids" nolabel="1" force_save="1" class="o_cost_material_line" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date" readonly="1" force_save="1"/>
                                        <field name="project_scope_id" force_save="1" invisible="1"/>
                                        <field name="section_id" force_save="1" invisible="1"/>
                                        <field name="material_gop_id" readonly="1" force_save="1" optional='hide'/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="group_of_product" required='True' force_save="1"/>
                                        <field name="product_id" required='True'
                                               domain="[('group_of_product','=', group_of_product)]"/>
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id" required='True'/>
                                        <field name="price_unit"/>
                                        <field name="material_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" readonly="1"  force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_qty" readonly="1"  force_save="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1"/>
                                        <field name="purchased_qty" readonly="1"  force_save="1" string='Paid Quantity'/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                        <field name="transferred_qty" readonly="1"  force_save="1"/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="received_qty" readonly="1"  force_save="1"/>
                                        <field name="unused_qty" readonly="1" optional="hide" force_save="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_qty" readonly="1" force_save="1" />
                                        <field name="actual_used_amt" readonly="1" force_save="1" />
                                        <field name="allocated_budget_qty" readonly="1" optional="hide"/>
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_qty_na" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="po_reserved_qty" readonly="1" force_save="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                        <field name="over_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_return_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_over_amount" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="material_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_material" />
                                    </div>
                                        <field name="amount_material" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="material_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="Labour Estimation" attrs="{'invisible': [('budgeting_method', '!=', 'gop_budget')]}">
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="custom_project_progress" invisible="1"/>
                                <field name="material_labour_gop_ids" nolabel="1" readonly="1" force_save="1" class="o_cost_material_line">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="group_of_product" readonly="1" force_save="1"/>
                                        <field name="labour_gop_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_amt_left" readonly="1"  force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1" attrs="{'column_invisible': [('parent.custom_project_progress', '=', 'manual_estimation')]}"/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount' attrs="{'column_invisible': [('parent.custom_project_progress', '=', 'manual_estimation')]}"/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1" />
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="labour_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_labour" />
                                    </div>
                                        <field name="amount_labour" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="Labour Estimation" attrs="{'invisible': [('budgeting_method', '=', 'gop_budget')]}" >
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_labour_ids" nolabel="1" force_save="1" class="o_cost_labour_line" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date" readonly="1" force_save="1"/>
                                        <field name="project_scope_id" force_save="1" invisible="1"/>
                                        <field name="section_id" force_save="1" invisible="1"/>
                                        <field name="labour_gop_id" readonly="1" force_save="1" optional='hide'/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="group_of_product" required='True' force_save="1"/>
                                        <field name="product_id" required='True'
                                               domain="[('group_of_product','=', group_of_product)]"/>
                                        <field name="description"/>
                                        <field name="contractors" readonly="1"/>
                                        <field name="product_qty" string="Budgeted Quantity" invisible="1"/>
                                        <field name="time" />
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted" invisible="1"/>
                                        <field name="uom_id" required="1"/>
                                        <field name="price_unit"/>
                                        <field name="labour_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" invisible="1" />
                                        <field name="contractors_left"/>
                                        <field name="time_left"/>
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="reserved_contractors" readonly="1" force_save="1"/>
                                        <field name="reserved_time" force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_qty" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1"/>
                                        <field name="purchased_qty" readonly="1"  force_save="1" string='Paid Quantity' invisible="1"/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                        <field name="transferred_qty" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="0"/>
                                        <field name="received_qty" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="unused_qty" readonly="1" optional="hide" force_save="1" invisible="1"/>
                                        <field name="unused_time" readonly="1" optional="hide" force_save="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_qty" readonly="1" force_save="1" invisible="1"/>
                                        <field name="actual_used_time" readonly="1" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1"/>
                                        <field name="allocated_budget_qty" readonly="1" invisible="1" optional="hide"/>
                                        <field name="allocated_budget_time" readonly="1" optional="hide"/>
                                        <field name="allocated_contractors" readonly="1" optional="hide"/>
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_qty_na" readonly="1" invisible="1" optional="hide"/>
                                        <field name="unallocated_contractors" readonly="1" optional="hide"/>
                                        <field name="unallocated_budget_time" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="labour_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_labour" />
                                    </div>
                                        <field name="amount_labour" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="labour_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="Overhead Estimation" attrs="{'invisible': [('budgeting_method', '!=', 'gop_budget')]}">
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_overhead_gop_ids" nolabel="1" readonly="1" force_save="1" class="o_cost_material_line">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="group_of_product" readonly="1" force_save="1"/>
                                        <field name="overhead_gop_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_amt_left" readonly="1"  force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1"/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1" />
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="overhead_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_overhead" />
                                    </div>
                                        <field name="amount_overhead" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="Overhead Estimation" attrs="{'invisible': [('budgeting_method', '=', 'gop_budget')]}">
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_overhead_ids" nolabel="1" force_save="1" class="o_cost_overhead_line" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" />
                                        <field name="sr_no"/>
                                        <field name="date" readonly="1" force_save="1"/>
                                        <field name="project_scope_id" force_save="1" invisible="1"/>
                                        <field name="section_id" force_save="1" invisible="1"/>
                                        <field name="overhead_gop_id" readonly="1" force_save="1" optional='hide'/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="overhead_catagory" required='True' force_save="1"/>
                                        <field name="group_of_product" required='True' force_save="1"/>
                                        <field name="product_id" required='True'
                                               domain="[('group_of_product','=', group_of_product)]"/>
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id" required='True'/>
                                        <field name="price_unit"/>
                                        <field name="overhead_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" readonly="1"  force_save="1"/>
                                        <field name="reserved_amt" readonly="1"  force_save="1"/>
                                        <field name="billed_qty" readonly="1"  force_save="1"/>
                                        <field name="billed_amt" readonly="1"  force_save="1"/>
                                        <field name="purchased_qty" readonly="1"  force_save="1" string='Paid Quantity'/>
                                        <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                        <field name="transferred_qty" readonly="1"  force_save="1"/>
                                        <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                        <field name="received_qty" readonly="1"  force_save="1"/>
                                        <field name="unused_qty" readonly="1" optional="hide" force_save="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_qty" readonly="1" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1"/>
                                        <field name="allocated_budget_qty" readonly="1" optional="hide"/>
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_qty_na" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="po_reserved_qty" readonly="1" force_save="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                        <field name="over_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_return_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_over_amount" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="overhead_budget_res" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_pur" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_tra" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_left" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_overhead" />
                                    </div>
                                        <field name="amount_overhead" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_unused" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                    <field name="overhead_budget_used" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                            <page string="Asset Estimation" name="asset_page" >
                                <notebook>
                                    <page string="Internal Asset Estimation" name="internal_asset_page">
                                        <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="internal_asset_ids" widget="one2many_list" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                            <tree string="Asset" editable="bottom">
                                                <field name="sequence" widget="handle"/>
                                                <field name="sr_no"/>
                                                <field name="date" readonly="1" force_save="1"/>
                                                <field name="project_scope_id" force_save="1" invisible="1"/>
                                                <field name="section_id" force_save="1" invisible="1"/>
                                                <field name="project_scope_line_id" invisible="1"/>
                                                <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                                <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="variable_id" invisible="1"/>
                                                <field name="variable_ref" invisible="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="asset_category_id" required='True'/>
                                                <field name="asset_id" required='True'/>
                                                <field name="description"/>
                                                <field name="budgeted_qty"/>
                                                <field name="uom_id" required='True'/>
                                                <field name="price_unit"/>
                                                <field name="budgeted_amt"/>
                                                <field name="budgeted_qty_left"/>
                                                <field name="budgeted_amt_left"/>
                                                <field name="unused_qty"/>
                                                <field name="unused_amt"/>
                                                <field name="actual_used_qty"/>
                                                <field name="actual_used_amt"/>
                                                <field name="allocated_budget_qty" optional="hide"/>
                                                <field name="allocated_budget_amt" optional="hide"/>
                                                <field name="unallocated_budget_qty" optional="hide"/>
                                                <field name="unallocated_amt" optional="hide"/>
                                            </tree>
                                        </field>
                                        <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                            <field name="internas_budget_left" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                                <label for="amount_internal_asset"/>
                                            </div>
                                            <field name="amount_internal_asset" nolabel="1"
                                                   class="oe_subtotal_footer_separator" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="internas_budget_unused" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="internas_budget_used" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                        </group>
                                    </page>
                                    <page string="Equipment Lease Estimation" attrs="{'invisible': [('budgeting_method', '!=', 'gop_budget')]}">
                                        <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="material_equipment_gop_ids" nolabel="1" readonly="1" force_save="1" class="o_cost_material_line">
                                            <tree editable="bottom">
                                                <field name="sequence" widget="handle" />
                                                <field name="sr_no"/>
                                                <field name="date"/>
                                                <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                                <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="variable_ref" invisible="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="group_of_product" readonly="1" force_save="1"/>
                                                <field name="equipment_gop_amount_total" string="Budgeted Amount"/>
                                                <field name="budgeted_amt_left" readonly="1"  force_save="1"/>
                                                <field name="reserved_amt" readonly="1"  force_save="1"/>
                                                <field name="billed_amt" readonly="1"  force_save="1"/>
                                                <field name="purchased_amt" readonly="1"  force_save="1" string='Paid Amount'/>
                                                <field name="transferred_amt" readonly="1"  force_save="1" invisible="1"/>
                                                <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                                <field name="actual_used_amt" readonly="1" force_save="1" />
                                                <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                                <field name="product_amt_na" readonly="1" optional="hide"/>
                                                <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                            </tree>
                                        </field>
                                        <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                            <field name="equipment_budget_res" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_pur" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_left" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                                <label for="amount_equipment"/>
                                            </div>
                                            <field name="amount_equipment" nolabel="1"
                                                   class="oe_subtotal_footer_separator"
                                                   widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_unused" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_used" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                        </group>
                                    </page>
                                    <page string="Equipment Lease Estimation" name="equipment_page" attrs="{'invisible': [('budgeting_method', '=', 'gop_budget')]}">
                                        <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="material_equipment_ids" widget="one2many_list"
                                               force_save="1" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                            <tree string="Equipment" editable="bottom">
                                                <control>
                                                    <create name="add_product_control" string="Add a product"/>
                                                </control>
                                                <field name="sequence" widget="handle"/>
                                                <field name="sr_no"/>
                                                <field name="date" readonly="1" force_save="1"/>
                                                <field name="project_scope_id" force_save="1" invisible="1"/>
                                                <field name="section_id" force_save="1" invisible="1"/>
                                                <field name="equipment_gop_id" readonly="1" force_save="1" optional='hide'/>
                                                <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                                <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="variable_ref" invisible="1"
                                                       options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                                <field name="group_of_product" required='True' force_save="1"/>
                                                <field name="product_id" required='True'/>
                                                <field name="description"/>
                                                <field name="product_qty"/>
                                                <field name="uom_id" required='True'/>
                                                <field name="price_unit"/>
                                                <field name="equipment_amount_total" readonly="1" force_save="1"/>
                                                <field name="budgeted_qty_left"/>
                                                <field name="budgeted_amt_left"/>
                                                <field name="reserved_qty" readonly="1" force_save="1"/>
                                                <field name="reserved_amt" readonly="1" force_save="1"/>
                                                <field name="billed_qty" readonly="1" force_save="1"/>
                                                <field name="billed_amt" readonly="1" force_save="1"/>
                                                <field name="purchased_qty" readonly="1" force_save="1" string='Paid Quantity'/>
                                                <field name="purchased_amt" readonly="1" force_save="1" string='Paid Amount'/>
                                                <field name="received_qty" readonly="1"  force_save="1"/>
                                                <field name="returned_qty" readonly="1"  force_save="1"/>
                                                <field name="unused_qty" readonly="1" optional="hide" force_save="1"/>
                                                <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                                <field name="actual_used_qty" readonly="1" force_save="1"/>
                                                <field name="actual_used_amt" readonly="1" force_save="1"/>
                                                <field name="allocated_budget_qty" readonly="1" optional="hide"/>
                                                <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                                <field name="product_qty_na" readonly="1" optional="hide"/>
                                                <field name="product_amt_na" readonly="1" optional="hide"/>
                                                <field name="po_reserved_qty" readonly="1" force_save="1" optional="hide"/>
                                                <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                                <field name="over_amount" force_save="1" readonly="1" optional="hide"/>
                                                <field name="reserved_return_amount" force_save="1" readonly="1" optional="hide"/>
                                                <field name="reserved_over_amount" force_save="1" readonly="1" optional="hide"/>
                                            </tree>
                                        </field>
                                        <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                            <field name="equipment_budget_res" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_pur" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_left" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                                <label for="amount_equipment"/>
                                            </div>
                                            <field name="amount_equipment" nolabel="1"
                                                   class="oe_subtotal_footer_separator"
                                                   widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_unused" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                            <field name="equipment_budget_used" widget='monetary'
                                                   options="{'currency_field': 'currency_id'}"/>
                                        </group>
                                    </page>
                                </notebook>
                            </page>
                            <page string="Subcon Estimation" name="subcon_page" >
                                <field name="project_scope_computed" widget="many2many_tags" invisible="1"/>
                                <field name="material_subcon_ids" widget="one2many_list" force_save="1" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                    <tree string="Subcon" editable="bottom">
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sequence" widget="handle"/>
                                        <field name="sr_no"/>
                                        <field name="date" readonly="1" force_save="1"/>
                                        <field name="project_scope_id" force_save="1" invisible="1"/>
                                        <field name="section_id" force_save="1" invisible="1"/>
                                        <field name="project_scope" domain="[('id','in',parent.project_scope_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="project_section_computed" widget="many2many_tags" invisible="1"/>
                                        <field name="section_name" domain="[('id','in',project_section_computed)]" required="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable_ref" invisible="1"
                                               options="{'no_create':True, 'no_quick_create':True, 'no_create_edit':True}"/>
                                        <field name="variable" required='True'/>
                                        <field name="description"/>
                                        <field name="product_qty"/>
                                        <field name="uom_id" required='True'/>
                                        <field name="price_unit"/>
                                        <field name="subcon_amount_total" readonly="1" force_save="1"/>
                                        <field name="budgeted_qty_left"/>
                                        <field name="budgeted_amt_left"/>
                                        <field name="reserved_qty" readonly="1" force_save="1"/>
                                        <field name="reserved_amt" readonly="1" force_save="1"/>
                                        <field name="billed_qty" readonly="1" force_save="1"/>
                                        <field name="billed_amt" readonly="1" force_save="1"/>
                                        <field name="purchased_qty" readonly="1" force_save="1" string='Paid Quantity'/>
                                        <field name="purchased_amt" readonly="1" force_save="1" string='Paid Amount'/>
                                        <field name="unused_qty" readonly="1" optional="hide" force_save="1"/>
                                        <field name="unused_amt" readonly="1" optional="hide" force_save="1"/>
                                        <field name="actual_used_qty" readonly="1" force_save="1"/>
                                        <field name="actual_used_amt" readonly="1" force_save="1"/>
                                        <field name="allocated_budget_qty" readonly="1" optional="hide"/>
                                        <field name="allocated_budget_amt" readonly="1" optional="hide"/>
                                        <field name="product_qty_na" readonly="1" optional="hide"/>
                                        <field name="product_amt_na" readonly="1" optional="hide"/>
                                        <field name="po_reserved_qty" readonly="1" force_save="1" optional="hide"/>
                                        <field name="amount_return" force_save="1" readonly="1" optional="hide"/>
                                        <field name="over_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_return_amount" force_save="1" readonly="1" optional="hide"/>
                                        <field name="reserved_over_amount" force_save="1" readonly="1" optional="hide"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="subcon_budget_res" widget='monetary'
                                           options="{'currency_field': 'currency_id'}"/>
                                    <field name="subcon_budget_pur" widget='monetary'
                                           options="{'currency_field': 'currency_id'}"/>
                                    <field name="subcon_budget_left" widget='monetary'
                                           options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_subcon"/>
                                    </div>
                                    <field name="amount_subcon" nolabel="1" class="oe_subtotal_footer_separator"
                                           widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="subcon_budget_unused" widget='monetary'
                                           options="{'currency_field': 'currency_id'}"/>
                                    <field name="subcon_budget_used" widget='monetary'
                                           options="{'currency_field': 'currency_id'}"/>
                                </group>
                            </page>
                        </notebook>
                    </page>
                    <page name="internal_transfer_budget_group" string="Budget Change Request">
                        <notebook>
                            <page name="internal_transfer_budget_line" string="Budget Change Request">
                                <field name="internal_transfer_budget_line_ids" readonly="1" force_save="1">
                                    <tree>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sr_no"/>
                                        <field name="type"/>
                                        <field name="project_scope"/>
                                        <field name="section_name"/>
                                        <field name="variable_ref" invisible="1"/>
                                        <field name="overhead_category"/>
                                        <field name="asset_category_id"/>
                                        <field name="group_of_product"/>
                                        <field name="asset_id"/>
                                        <field name="product_id"/>
                                        <field name="variable"/>
                                        <field name="cur_contractors"/>
                                        <field name="adj_contractors"/>
                                        <field name="cur_time"/>
                                        <field name="adj_time"/>
                                        <field name="cur_qty"/>
                                        <field name="adj_qty"/>
                                        <field name="cur_unit_price"/>
                                        <field name="adj_unit_price"/>
                                        <field name="uom_id"/>
                                        <field name="cur_amt"/>
                                        <field name="adj_amt"/>
                                        <field name="adjusted"/>
                                        <field name="is_newly_added_product"/>
                                        <field name="is_not_from_cost_sheet"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="amount_from_adjusted" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_from_budget" string="Amount From Periodical Budget (+)" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_from_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_send_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_free" />
                                    </div>
                                        <field name="amount_free" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}" force_save="1"/>
                                </group>
                            </page>
                            <page name="internal_transfer_budget_history" string="Budget Change Request History">
                                <field name="history_itb_ids" readonly="1" force_save="1">
                                    <tree>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="itb_id"/>
                                        <field name="free_amt" sum="Total"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="amount_from_adjusted" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_from_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_send_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_free" />
                                    </div>
                                        <field name="amount_free" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}" force_save="1"/>
                                </group>
                            </page>
                        </notebook>
                    </page>
                    <page name="change_allocation_group" string="Change Allocation Budget" attrs="{'invisible': [('budgeting_period', '=', 'project')]}">
                        <notebook>
                            <page name="change_allocation_line" string="Change Allocation Budget">
                                <field name="change_allocation_line_cost_ids" readonly="1" force_save="1">
                                    <tree>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sr_no"/>
                                        <field name="type"/>
                                        <field name="project_scope"/>
                                        <field name="section_name"/>
                                        <field name="variable_ref" invisible="1"/>
                                        <field name="overhead_category"/>
                                        <field name="asset_category_id"/>
                                        <field name="group_of_product"/>
                                        <field name="asset_id"/>
                                        <field name="product_id"/>
                                        <field name="variable"/>
                                        <field name="cur_contractors"/>
                                        <field name="cur_time"/>
                                        <field name="cur_qty"/>
                                        <field name="adj_contractors"/>
                                        <field name="adj_time"/>
                                        <field name="adj_qty"/>
                                        <field name="uom_id"/>
                                        <field name="cur_amt"/>
                                        <field name="adj_amt"/>
                                        <field name="adjusted"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="internal_transfer_budget_history" string="Change Allocation Budget History">
                                <field name="change_allocation_line_history_cost_ids" readonly="1" force_save="1">
                                    <tree>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="itb_id"/>
                                        <field name="adjusted_amt" sum="Total"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </page>
                    <page name="budget_claim_history_page" string="Claimed Budget Left History">
                        <notebook>
                            <page name="material_budget_claim_history" string="Material">
                                <field name="material_budget_claim_history_cost_ids" readonly="1" force_save="1" domain="[('type','=','material')]">
                                    <tree>
                                        <field name="sr_no" invisible="1"/>
                                        <field name="purchase_order_id"/>
                                        <field name="type"/>
                                        <field name="project_scope_id"/>
                                        <field name="section_id"/>
                                        <field name="variable_id" invisible="1"/>
                                        <field name="group_of_product_id"/>
                                        <field name="product_id"/>
                                        <field name="subcon_id"/>
                                        <field name="uom_id"/>
                                        <field name="budget_amount"/>
                                        <field name="budget_claim_amount"/>
                                        <field name="job_sheet_id" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="labour_budget_claim_history" string="Labour">
                                <field name="labour_budget_claim_history_cost_ids" readonly="1" force_save="1" domain="[('type','=','labour')]">
                                    <tree>
                                        <field name="sr_no" invisible="1"/>
                                        <field name="purchase_order_id"/>
                                        <field name="type"/>
                                        <field name="project_scope_id"/>
                                        <field name="section_id"/>
                                        <field name="variable_id" invisible="1"/>
                                        <field name="group_of_product_id"/>
                                        <field name="product_id"/>
                                        <field name="subcon_id"/>
                                        <field name="uom_id"/>
                                        <field name="budget_amount"/>
                                        <field name="budget_claim_amount"/>
                                        <field name="job_sheet_id" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="overhead_budget_claim_history" string="Overhead">
                                <field name="overhead_budget_claim_history_cost_ids" readonly="1" force_save="1" domain="[('type','=','overhead')]">
                                    <tree>
                                        <field name="sr_no" invisible="1"/>
                                        <field name="purchase_order_id"/>
                                        <field name="type"/>
                                        <field name="project_scope_id"/>
                                        <field name="section_id"/>
                                        <field name="variable_id" invisible="1"/>
                                        <field name="group_of_product_id"/>
                                        <field name="product_id"/>
                                        <field name="subcon_id"/>
                                        <field name="uom_id"/>
                                        <field name="budget_amount"/>
                                        <field name="budget_claim_amount"/>
                                        <field name="job_sheet_id" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="asset_budget_claim_history" string="Asset">
                                <notebook>
                                    <page name="equipment_budget_claim_history" string="Equipment">
                                        <field name="equipment_budget_claim_history_cost_ids" readonly="1" force_save="1" domain="[('type','=','equipment')]">
                                            <tree>
                                                <field name="sr_no" invisible="1"/>
                                                <field name="purchase_order_id"/>
                                                <field name="type"/>
                                                <field name="project_scope_id"/>
                                                <field name="section_id"/>
                                                <field name="variable_id" invisible="1"/>
                                                <field name="group_of_product_id"/>
                                                <field name="product_id"/>
                                                <field name="subcon_id"/>
                                                <field name="uom_id"/>
                                                <field name="budget_amount"/>
                                                <field name="budget_claim_amount"/>
                                                <field name="job_sheet_id" invisible="1"/>
                                            </tree>
                                        </field>
                                    </page>
                                </notebook>

                            </page>
                            <page name="subcon_budget_claim_history" string="Subcon">
                                <field name="subcon_budget_claim_history_cost_ids" readonly="1" force_save="1" domain="[('type','=','subcon')]">
                                    <tree>
                                        <field name="sr_no" invisible="1"/>
                                        <field name="purchase_order_id"/>
                                        <field name="type"/>
                                        <field name="project_scope_id"/>
                                        <field name="section_id"/>
                                        <field name="variable_id" invisible="1"/>
                                        <field name="group_of_product_id"/>
                                        <field name="product_id"/>
                                        <field name="subcon_id"/>
                                        <field name="uom_id"/>
                                        <field name="budget_amount"/>
                                        <field name="budget_claim_amount"/>
                                        <field name="job_sheet_id" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>

                    </page>
                    <page name="Interwarehouse_transfer_history_page" string="Inter-warehouse Transfer History">
                        <field name="interwarehouse_transfer_history_ids" readonly="1" force_save="1">
                            <tree>
                                <field name="no"/>
                                <field name="date"/>
                                <field name="document_id"/>
                                <field name="source_location_id"/>
                                <field name="destination_location_id"/>
                                <field name="group_of_product_id"/>
                                <field name="product_id"/>
                                <field name="name"/>
                                <field name="transferred_qty"/>
                                <field name="job_cost_sheet_id" invisible="1"/>
                            </tree>
                        </field>
                    </page>
                    <page name="project_budget_transfer_group" string="Project Budget Transfer">
                        <notebook>
                            <page name="project_budget_transfer_history" string="Project Budget Transfer History">
                                <field name="history_pbt_ids" readonly="1" force_save="1">
                                    <tree>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="sr_no"/>
                                        <field name="date"/>
                                        <field name="pbt_id"/>
                                        <field name="project_id"/>
                                        <field name="dest_project_id"/>
                                        <field name="send_amount" sum="Total"/>
                                        <field name="allocation_amount" sum="Total"/>
                                        <field name="state"/>
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                    <field name="amount_from_adjusted" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_from_budget" string="Amount From Periodical Budget (+)" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_from_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <field name="amount_send_project" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                    <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                        <label for="amount_free" />
                                    </div>
                                        <field name="amount_free" nolabel="1" class="oe_subtotal_footer_separator" widget='monetary' options="{'currency_field': 'currency_id'}" force_save="1"/>
                                </group>
                            </page>
                        </notebook>
                    </page>
                    <page string="Revision History" name="cs_revision" attrs="{'invisible':[('is_revision_cs', '=', False)]}">
                        <group>
                            <field name="revision_history_id" widget="many2many_list" nolabel="1" readonly="1" />
                        </group>
                    </page>
                    <page name="cost_sheet_approval_transfer_group" string="Approval Matrix Line" attrs="{'invisible':[('cost_sheet_approval_matrix','!=',True)]}">
                        <group>
                            <group>
                                <field name="approving_matrix_cost_id" readonly="1"/>
                            </group>
                        </group>
                        <field name="cost_sheet_user_ids">
                            <tree editable="bottom" create="false" delete="false">
                                <field name="name"/>
                                <field name="user_ids" widget="many2many_tags" readonly="1" force_save="1"/>
                                <field name="matrix_user_ids" widget="many2many_tags" invisible="1" readonly="1" force_save="1"/>
                                <field name="is_delegation_mail_sent" invisible="1"/>
                                <field name="minimum_approver" readonly="1" force_save="1"/>
                                <field name="timestamp" invisible="1" force_save="1"/>
                                <field name="approver_state" invisible="1" force_save="1"/>
                                <field name="approval_status" readonly="1" force_save="1"/>
                                <field name="approved_time" readonly="1" force_save="1"/>
                                <field name="is_approve" invisible="1"/>
                                <field name="approved_employee_ids" invisible="1"/>
                                <field name="feedback" readonly="1" force_save="1"/>
                            </tree>
                        </field>
                    </page>
                </xpath>
            </field>
        </record>

        <record id="job_cost_sheet_search" model="ir.ui.view">
            <field name="name">job.cost.sheet.search</field>
            <field name="model">job.cost.sheet</field>
            <field name="arch" type="xml">
                <search>
                    <field name="project_id"/>
                    <field name="partner_id"/>
                </search>
            </field>
        </record>

        <!-- Job Cost Sheet graph View Inherit 
        <record id="edit_view_job_cost_sheet_menu_graph" model="ir.ui.view">
            <field name="name">edit.job.cost.sheet.graph.view</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_graph"/>
            <field name="arch" type="xml">
                <xpath expr="//graph/field[@name='supplier_id']" position="attributes"> 
                    <attribute name="invisible">1</attribute>  
                </xpath>
                <xpath expr="//graph/field[@name='supplier_id']" position="after"> 
                    <field name="partner_id" type="col"/> 
                </xpath>
                <xpath expr="//graph/field[@name='amount_total']" position="before"> 
                    <field name="amount_material" type="measure"/>
                    <field name="amount_labour" type="measure"/>
                    <field name="amount_subcon" type="measure"/> 
                    <field name="amount_overhead" type="measure"/>
                    <field name="amount_equipment" type="measure"/>
                </xpath> 
            </field>
        </record> -->

        <!-- Job Cost Sheet pivot View Inherit 
        <record id="edit_view_job_cost_sheet_menu_pivot" model="ir.ui.view">
            <field name="name">edit.job.cost.sheet.pivot.view</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_pivot"/>
            <field name="arch" type="xml">
                <xpath expr="//pivot/field[@name='amount_total']" position="before"> 
                    <field name="amount_material" type="measure"/>
                    <field name="amount_labour" type="measure"/>
                    <field name="amount_subcon" type="measure"/> 
                    <field name="amount_overhead" type="measure"/>
                    <field name="amount_equipment" type="measure"/>
                </xpath> 
            </field>
        </record>-->

        <record id="view_job_cost_sheet_menu_form_abs_construction_management" model="ir.ui.view">
            <field name="name">job.cost.sheet.view.form.inherit.new.tab</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group/group/field[@name='supplier_id']" position="after">
                    <field name="department_type" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="attrs">{'invisible':[('department_type','=','department')], 'required': [('department_type','=','project')]} </attribute>
                </xpath>
                <xpath expr="//notebook/page[@name='material_page']" position="before">
                    <page name="contract_history" string="Contract History">
                        <field name="contract_history_ids" widget="one2many_list" readonly="1" class='o_contract_history_line'>
                            <tree string="Contract History" editable="bottom">
                                <control>
                                    <create name="add_product_control" string="Add a product"/>
                                </control>
                                <field name="sequence" invisible="1"/>
                                <field name="sr_no" />
                                <field name="department_type" invisible="1"/>
                                <field name="contract_history"  attrs="{'column_invisible': [('parent.department_type', '=', 'department')]}"/>
                                <field name="job_estimate" attrs="{'column_invisible': [('parent.department_type', '!=', 'department')]}"/>
                                <field name="contract_category"/>
                                <field name="job_reference" widget="many2many_tags" attrs="{'column_invisible': [('parent.department_type', '=', 'department')]}"/>
                                <field name="company_id" invisible='1' />
                                <field name="date_order" attrs="{'column_invisible': [('parent.department_type', '=', 'department')]}" />
                                <field name="approved_date" attrs="{'column_invisible': [('parent.department_type', '!=', 'department')]}" invisible='1'/>
                                <field name="currency_id" invisible="1"/>
                                <field name="subtotal" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                <field name="state"
                                        widget="badge"
                                        decoration-success2="state == 'in_progress'"
                                        decoration-success="state == 'done'"
                                        decoration-danger="state == 'cancel'"/>
                            </tree>
                        </field>
                        <group name="total">
                            <group name="total_contract" string='Contract' attrs="{'invisible':[('department_type','!=','project')]}">
                                <field name="amount_contract_material" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_contract_labour" widget='monetary' 
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_contract_overhead" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_contract_asset" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_contract_equipment" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_contract_subcon" widget='monetary'
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="adjustment_sub" widget='monetary'
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="discount_sub" widget='monetary'
                                    options="{'currency_field': 'currency_id'}"/>
                                <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                    <label for="amount_contract_total"/>
                                </div>
                                <field name="amount_contract_total" nolabel="1" class="oe_subtotal_footer_separator"
                                    widget='monetary' options="{'currency_field': 'currency_id'}"/>
                            </group>
                            <group name="total_cost" string='Cost'>
                                <field name="amount_material" widget='monetary' string='Material'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_labour" widget='monetary' string='Labour'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_overhead" widget='monetary' string='Overhead'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_internal_asset" widget='monetary' string='Internal Asset'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_equipment" widget='monetary' string='Equipment'
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_subcon" widget='monetary' string='Subcon'
                                    options="{'currency_field': 'currency_id'}"/>
                                <div class="oe_subtotal_footer_separator oe_inline o_td_label">
                                    <label for="amount_total"/>
                                </div>
                                <field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator"
                                    widget='monetary' options="{'currency_field': 'currency_id'}"/>
                            </group>
                        </group>
                        <group name="total_2">
                            <group name="transfer" string='Budget Transfer'>
                                <field name="amount_send_project" widget='monetary' string="Amount Send to Other Project"
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_from_project" widget='monetary' string="Amount From Other Project"
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_from_adjusted" widget='monetary' string="Amount From Budget Change Request"
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="amount_from_budget" widget='monetary' string="Amount From Periodical Budget"
                                    options="{'currency_field': 'currency_id'}"/>
                            </group>
                            <group name="actualizaton" string='Budget Actualization'>
                                <field name="contract_budget_res" widget='monetary' string="Reserved Budget Amount"
                                    options="{'currency_field': 'currency_id'}" force_save="1"/>
                                <field name="contract_budget_pur" widget='monetary' string="Paid Budget Amount"
                                        options="{'currency_field': 'currency_id'}" force_save="1"/>
                                <field name="contract_budget_tra" widget='monetary' string="Transferred Budget Amount"
                                        options="{'currency_field': 'currency_id'}" force_save="1"/>
                                <field name="contract_budget_unused" widget='monetary' string="Budget Unused Amount"
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="contract_budget_used" widget='monetary' string="Budget Used Amount"
                                        options="{'currency_field': 'currency_id'}"/>
                                <field name="contract_budget_left" widget='monetary' string="Budget Amount Left"
                                        options="{'currency_field': 'currency_id'}"/>
                            </group>
                        </group>
                        <group name="total_3">
                            <group name="available" string='Available Budget'>
                                <field name="amount_free" widget='monetary'
                                    options="{'currency_field': 'currency_id'}"/>
                            </group>
                            <group name="profit" string='Expected Revenue and Profit'>
                                <field name="contract_exp_revenue" widget='monetary'
                                    options="{'currency_field': 'currency_id'}"/>
                                <field name="contract_exp_profit" widget='monetary'
                                        options="{'currency_field': 'currency_id'}"/>
                            </group>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//header/button[last()]" position="after">
                    <button string="Create Periodical Budget" name="create_project_budget" type="object"
                            class="btn-primary"
                            attrs="{'invisible': ['|', ('state', 'not in', ('in_progress')), ('budgeting_period', '=', 'project')]}"/>
                    <button string="Create Budget Change Request" name="create_internal_transfer_budget" type="object"
                            class="btn-secondary"
                            attrs="{'invisible': ['|', ('state', 'not in', ('in_progress')), ('budgeting_method', '=', ('total_budget'))]}"/>
                    <button string="Create Change Allocation Budget" name="create_change_allocation_request" type="object" class="btn-secondary"
                            attrs="{'invisible': ['|', ('state', 'not in', ('in_progress')), ('budgeting_period', 'in', ('project'))]}"/>
                    <button string="Create Project Budget Transfer" name="create_project_budget_transfer" type="object" class="btn-secondary"
                            attrs="{'invisible': [('state', 'not in', ('in_progress'))]}"/>
                    <!--   added Freeze & Unfreeze button  -->
                    <button string="Freeze" name="ba_freeze_job_cost" type="object" class="btn-secondary"
                             attrs="{'invisible': ['|', ('ba_freeze_state', '=', True), ('state', 'not in', ('in_progress'))]}"/>
                    <button string="Unfreeze" name="ba_unfreeze_job_cost" type="object" class="btn-secondary"
                            attrs="{'invisible': [('state', 'not in', ('freeze'))]}"/>
                    <!-- Print Cost Sheet-->
                    <button string="Print" name="cost_sheet_print" type="object" class="btn-primary" />

                </xpath>
                <xpath expr="//header/button[@name='action_approved']" position="after">
                    <button string="Reject" name="action_reject" type="object"
                            attrs="{'invisible': ['|','|',('state', '!=', 'to_approve'), ('is_approver', '=', False), ('cost_sheet_approval_matrix','=',False)]}"/>
                    <button string="Request For Approval" name="request_approval" type="object" class="btn-primary"
                            attrs="{'invisible': ['|',('state', '!=', 'draft'), ('cost_sheet_approval_matrix','=',False)]}"/>
                    <button string="In Progress" name="action_in_progress" type="object" class="btn-primary"
                            attrs="{'invisible': ['|', '&amp;', ('state', 'in', ('freeze', 'in_progress', 'to_approve', 'purchase', 'done', 'cancelled', 'reject')), ('cost_sheet_approval_matrix','=',False), 
                            '&amp;', ('state', '!=', 'approved'), ('cost_sheet_approval_matrix','!=',False)]}"/>
                    <button name="action_cost_sheet_revision" type="object" string="Create Revision" class="oe_highlight" 
                            attrs="{'invisible': ['|', ('state', '!=', 'reject'), ('is_revision_created', '=', True)]}" />
                </xpath>
                <!-- Hide buttons in freeze state  -->
                <xpath expr="//header/button[@name='action_approved']" position="attributes">
                    <attribute name="attrs">{'invisible': ['|','|',('state', '!=', 'to_approve'), ('is_approver', '=', False), ('cost_sheet_approval_matrix','=',False)]}</attribute>
                </xpath>
                <xpath expr="//header/button[@name='create_purchase_order']" position="attributes">
                    <attribute name="attrs">{'invisible':['|',('state','in',['draft','purchase','done','freeze']),('purchase_exempt','=',True)]}</attribute>
                </xpath>
                <xpath expr="//header/button[@name='action_done']" position="attributes">
                    <attribute name="attrs">{'invisible':['|',('state','in',['draft','approved','done','freeze']),('purchase_exempt','=',False)]}</attribute>
                </xpath>

            </field>
        </record>


        <record id="contract_history_view" model="ir.ui.view">
            <field name="name">contract.history.view</field>
            <field name="model">contract.history</field>
            <field name="arch" type="xml">
                <form string="Contract History">
                    <sheet>
                        <group>
                            <group>
                                <field name="job_sheet_id"/>
                                <field name="department_type" invisible="1"/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="contract_history" attrs="{'invisible': [('department_type', '=', 'department')]}"/>
                                <field name="job_reference" widget="many2many_tags" attrs="{'invisible': [('department_type', '=', 'department')]}"/>
                                <field name="job_estimate" attrs="{'invisible': [('department_type', '!=', 'department')]}"/>
                                <field name="contract_category"/>
                            </group>
                            <group>
                                <field name="total_variation_order_material" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order_labour" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order_overhead" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order_subcon" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order_asset" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order_equipment" class="oe_inline" widget="monetary" invisible="1" options="{'currency_field': 'currency_id'}" force_save='1'/>
                                <field name="total_variation_order" widget='monetary' readonly="1" force_save="1" options="{'currency_field': 'currency_id'}" attrs="{'invisible': [('contract_category', '!=', 'var')]}"/>
                                <field name="created_by"/>
                                <field name="date_order" attrs="{'invisible': [('department_type', '=', 'department')]}"/>
                                <field name="approved_date" attrs="{'invisible': [('department_type', '!=', 'department')]}"/>
                                <field name="pricelist_id" invisible="1"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="company_currency_id" invisible="1"/>
                                <field name="company_id" invisible="1"/>
                            </group>
                        </group>
                        <group>
                            <group>
                                <field name="currency_id" invisible="1"/>
                                <field name="adjustment_sub" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                <field name="discount_sub" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                <field name="subtotal" widget='monetary' options="{'currency_field': 'currency_id'}"/>
                                <field name="is_updated_subcon_exist" invisible="1"/>
                                <field name="is_added_subcon_exist" invisible="1"/>
                                <field name="is_removed_subcon_exist" invisible="1"/>
                                <field name="is_updated_asset_exist" invisible="1"/>
                                <field name="is_added_asset_exist" invisible="1"/>
                                <field name="is_removed_asset_exist" invisible="1"/>

                                <notebook attrs="{'invisible': [('contract_category', '!=', 'var')]}">
                                    <page name="updated_variation_order_history_ids" string="Updated">
                                        <field name="updated_variation_order_history_ids" readonly="1" >
                                            <tree>
                                                <field name="contract_history_id" invisible="1"/>
                                                <field name="history_category" invisible="1"/>
                                                <field name="sr_no"/>
                                                <field name="project_scope_id"/>
                                                <field name="section_id"/>
                                                <field name="group_of_product_id"/>
                                                <field name="product_id"/>
                                                <field name="subcon_id" attrs="{'column_invisible': [('parent.is_updated_subcon_exist', '=', False)]}"/>
                                                <field name="asset_id" attrs="{'column_invisible': [('parent.is_updated_asset_exist', '=', False)]}"/>
                                                <field name="quantity_before"/>
                                                <field name="quantity_after"/>
                                                <field name="contractors_before"/>
                                                <field name="contractors_after"/>
                                                <field name="time_before"/>
                                                <field name="time_after"/>
                                                <field name="uom_id"/>
                                                <field name="unit_price_before" options="{'currency_field': 'currency_id'}"/>
                                                <field name="unit_price_after" options="{'currency_field': 'currency_id'}"/>
                                                <field name="subtotal" options="{'currency_field': 'currency_id'}"/>
                                            </tree>
                                        </field>
                                    </page>
                                    <page name="added_variation_order_history_ids" string="Added">
                                        <field name="added_variation_order_history_ids" readonly="1" >
                                            <tree>
                                                <field name="contract_history_id" invisible="1"/>
                                                <field name="history_category" invisible="1"/>
                                                <field name="sr_no"/>
                                                <field name="project_scope_id"/>
                                                <field name="section_id"/>
                                                <field name="group_of_product_id"/>
                                                <field name="product_id"/>
                                                <field name="subcon_id" attrs="{'column_invisible': [('parent.is_added_subcon_exist', '=', False)]}"/>
                                                <field name="asset_id" attrs="{'column_invisible': [('parent.is_added_asset_exist', '=', False)]}"/>
                                                <field name="quantity_before"/>
                                                <field name="quantity_after"/>
                                                <field name="contractors_before"/>
                                                <field name="contractors_after"/>
                                                <field name="time_before"/>
                                                <field name="time_after"/>
                                                <field name="uom_id"/>
                                                <field name="unit_price_before" options="{'currency_field': 'currency_id'}"/>
                                                <field name="unit_price_after" options="{'currency_field': 'currency_id'}"/>
                                                <field name="subtotal" options="{'currency_field': 'currency_id'}"/>
                                            </tree>
                                        </field>
                                    </page>
                                    <page name="removed_variation_order_history_ids" string="Removed">
                                        <field name="removed_variation_order_history_ids" readonly="1" >
                                            <tree>
                                                <field name="contract_history_id" invisible="1"/>
                                                <field name="history_category" invisible="1"/>
                                                <field name="sr_no"/>
                                                <field name="project_scope_id"/>
                                                <field name="section_id"/>
                                                <field name="group_of_product_id"/>
                                                <field name="product_id"/>
                                                <field name="subcon_id" attrs="{'column_invisible': [('parent.is_removed_subcon_exist', '=', False)]}"/>
                                                <field name="asset_id" attrs="{'column_invisible': [('parent.is_removed_asset_exist', '=', False)]}"/>
                                                <field name="quantity_before"/>
                                                <field name="quantity_after"/>
                                                <field name="contractors_before"/>
                                                <field name="contractors_after"/>
                                                <field name="time_before"/>
                                                <field name="time_after"/>
                                                <field name="uom_id"/>
                                                <field name="unit_price_before" options="{'currency_field': 'currency_id'}"/>
                                                <field name="unit_price_after" options="{'currency_field': 'currency_id'}"/>
                                                <field name="subtotal" options="{'currency_field': 'currency_id'}"/>
                                            </tree>
                                        </field>
                                    </page>
                                </notebook>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="view_job_cost_sheet_smart_buttons" model="ir.ui.view">
            <field name="name">job.cost.sheet.view.form.inherit.smart.button</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position='inside'>
                    <button name="action_job_estimate"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-job-estimate"
                            attrs="{'invisible': ['|',('state', 'in', ('draft')),('total_job_estimate', '=', 0)]}">
                        <field name="total_job_estimate" widget="statinfo"/>
                    </button>
                    <button name="action_sale_order"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-crm-agreement"
                            attrs="{'invisible': ['|',('state', 'in', ('draft')),('total_sale_order', '=', 0)]}">
                        <field name="total_sale_order" widget="statinfo" string="Contracts"/>
                    </button>
                    <button name="action_project_budget"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-project-budget"
                            attrs="{'invisible': ['|',('state', 'in', ('draft')),('total_project_budget', '=', 0)]}">
                        <field name="total_project_budget" widget="statinfo"/>
                    </button>
                    <button name="action_budget_change_request"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-budget-changes-requst"
                            attrs="{'invisible': ['|',('state', 'in', ('draft')),('total_budget_change_request', '=', 0)]}">
                        <field name="total_budget_change_request" widget="statinfo"/>
                    </button>
                    <button name="action_project_budget_transfer"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-project-budget-transfer"
                            attrs="{'invisible': ['|',('state', 'in', ('draft')),('total_project_budget_transfer', '=', 0)]}">
                        <field name="total_project_budget_transfer" widget="statinfo"/>
                    </button>
                    <button class="oe_inline oe_stat_button" 
                            type="object" 
                            name="open_revision_tree" 
                            icon="fa-clipboard" 
                            attrs="{'invisible': [('revision_count', '=', 0)]}">
                        <field string="Revisions" name="revision_count" widget="statinfo" />
                    </button>
                </xpath>
            </field>
        </record>

        <!--  'Equipment' Menu rename and hide submenu-->
        <record model="ir.ui.menu" id="abs_construction_management.menu_Equipments">
            <field name="name">Asset</field>
        </record>
        <record model="ir.ui.menu" id="abs_construction_management.menu_sub_equipment_request">
            <field name="action" eval="False"/>
        </record>
        <record model="ir.ui.menu" id="abs_construction_management.menu_sub_vehicle_request">
            <field name="action" eval="False"/>
        </record>

        <!-- Revision -->
        <record id="action_cost_sheet_revision" model="ir.actions.act_window">
            <field name="name">Cost Sheet Revisions</field>
            <field name="res_model">job.cost.sheet</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('id', '=', active_id)]</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    
                </p>
            </field>
        </record>
        
        <!--  move menu from 'asset control' to 'construction'  -->
        <menuitem
                id="menu_project_asset_new"
                name="Project Asset"
                parent="abs_construction_management.menu_Equipments"
                sequence="2"/>
        <menuitem
                id="equip3_asset_fms_operation.employee_asset_request_menu"
                name="Project Asset Request"
                parent="equip3_construction_operation.menu_project_asset_new"
                sequence="1"
                action="equip3_asset_fms_operation.employee_asset_request_action"/>
        <menuitem
                id="equip3_asset_fms_operation.employee_asset_transfer_menu"
                name="Project Asset Transfer"
                parent="equip3_construction_operation.menu_project_asset_new"
                sequence="2"
                action="equip3_asset_fms_operation.employee_asset_transfer_action"/>
        <menuitem
                id="equip3_asset_fms_operation.employee_asset_return_menu"
                name="Project Asset Return"
                parent="equip3_construction_operation.menu_project_asset_new"
                sequence="3"
                action="equip3_asset_fms_operation.employee_asset_return_action"/>

        <!-- change action name of above menu -->
        <record id="equip3_asset_fms_operation.employee_asset_return_action" model="ir.actions.act_window">
            <field name="name">Project Asset Return</field>
            <field name="domain">[('department_type', '=', 'project')]</field>
            <field name="context">{'default_department_type': 'project', 'default_is_project': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Project Asset Return found, Let's create one!
                </p>
            </field>
        </record>
        
        <record id="equip3_asset_fms_operation.employee_asset_transfer_action" model="ir.actions.act_window">
            <field name="name">Project Asset Transfer</field>
        </record>

        <record id="equip3_asset_fms_operation.employee_asset_request_action" model="ir.actions.act_window">
            <field name="name">Project Asset Request</field>
            <field name="domain">[('department_type', '=', 'project')]</field>
            <field name="context">{'default_department_type': 'project', 'default_is_project': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Project Asset Request found, Let's create one!
                </p>
            </field>
        </record>
        <!--   recent added field  -->
        <record id="inherited_employee_asset_request_view_form" model="ir.ui.view">
            <field name="name">inherited.employee.asset.request.view.form</field>
            <field name="model">employee.asset.request</field>
            <field name="inherit_id" ref="equip3_asset_fms_operation.employee_asset_request_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='create_date']" position="after">
                    <field name="project_id"
                           options="{'no_create': True, 'no_quick_create':True,'no_create_edit':True}"/>
                    <field name="budgeting_method" invisible="1"/>
                    <field name="budgeting_period" invisible="1"/>
                    <field name="company_id" readonly="1"/>
                    <field name="department_type" invisible="1"/>
                    <field name="is_project" invisible="1"/>
                    <field name="cons_asset_ids" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='assets_line']/tree/field[@name='asset_id']" position="before">
                    <field name="cons_asset_line_ids" invisible="1"/>
                    <field name="project_id" invisible="1"/>
                </xpath>
            </field>
        </record>
        <record id="inherited_employee_asset_transfer_view_form" model="ir.ui.view">
            <field name="name">inherited.employee.asset.transfer.view.form</field>
            <field name="model">employee.asset.transfer</field>
            <field name="inherit_id" ref="equip3_asset_fms_operation.employee_asset_transfer_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='create_date']" position="after">
                    <field name="from_project_id" invisible="1"/>
                    <field name="to_project_id"
                            attrs="{'readonly': [('state', 'in', ['done', 'cancelled'])]}"
                            options="{'no_create': True, 'no_quick_create':True,'no_create_edit':True}"/>
                    <field name="is_project" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='asset_id']" position="before">
                    <field name="from_project_id"/>
                    <field name="to_project_id" />
                </xpath>
            </field>
        </record>
        <record id="inherited_employee_asset_return_view_form" model="ir.ui.view">
            <field name="name">inherited.employee.asset.return.view.form</field>
            <field name="model">employee.asset.return</field>
            <field name="inherit_id" ref="equip3_asset_fms_operation.employee_asset_return_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='create_date']" position="after">
                    <field name="project_id" 
                           options="{'no_create': True, 'no_quick_create':True,'no_create_edit':True}"/>
                    <field name="company_id" readonly="1"/>
                    <field name="department_type" invisible="1"/>
                    <field name="is_project" invisible="1"/>
                </xpath>
            </field>
        </record>


        <record id="action_view_job_cost_sheet_menu" model="ir.actions.act_window">
            <field name="name">Cost Sheet</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">job.cost.sheet</field>
            <field name="view_mode">tree,form,pivot,graph</field>
            <field name="domain">[('department_type', '=', 'project')]</field>
            <field name="context">{'default_department_type': 'project'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Cost Sheet found. Let's create one!
                </p>
            </field>
        </record>

        <record id="action_view_job_cost_sheet_external_menu_custom" model="ir.actions.server">
            <field name="name">Cost Sheet</field>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="model_id" ref="equip3_construction_operation.model_job_cost_sheet"/>
            <field name="code">action = model.custom_menu_management()</field>
        </record>


        <menuitem id="abs_construction_management.menu_job_costs"
        name = "Cost Sheet"
        parent = "abs_construction_management.construction_management"
        sequence="1"
        action = "equip3_construction_operation.action_view_job_cost_sheet_external_menu_custom" />

        <record model='ir.ui.menu' id='abs_construction_management.menu_job_costs'>
            <field name="groups_id" eval="[(6, 0, [ref('equip3_construction_accessright_setting.group_construction_engineer')])]"/>
        </record>

        <!-- Project Scope View -->
        <record id="project_scope_cost_sheet_view" model="ir.ui.view">
            <field name="name">project.scope.cost.sheet.view</field>
            <field name="model">project.scope.cost</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="project_scope_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="amount_contract"/>
                            </group>
                            <group name="group_1_2">
                                <field name="subtotal"/>
                                <field name="budget_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="paid_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amount"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="unallocated_amount"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <notebook>
                            <page string='Material'>
                                <field name="material_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product" />
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="material_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Labour'>
                                <field name="labour_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product" />
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="labour_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Overhead'>
                                <field name="overhead_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="overhead_catagory"/>
                                        <field name="group_of_product"/>
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="overhead_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Internal Asset'>
                                <field name="asset_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no"/>
                                        <field name="date" rinvisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name"/>
                                        <field name="asset_category_id"/>
                                        <field name="asset_id"/>
                                        <field name="description"/>
                                        <field name="budgeted_qty"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="budgeted_amt"/>
                                        <field name="budgeted_qty_left"/>
                                        <field name="budgeted_amt_left"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="unallocated_budget_qty" optional="hide"/>
                                        <field name="unallocated_amt" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Equipment Lease'>
                                <field name="equipment_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product"/>
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="equipment_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="returned_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Subcon'>
                                <field name="subcon_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no"/>
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name"/>
                                        <field name="variable" />
                                        <field name="description"/>
                                        <field name="product_qty"/>
                                        <field name="uom_id" />
                                        <field name="price_unit"/>
                                        <field name="subcon_amount_total" />
                                        <field name="budgeted_qty_left"/>
                                        <field name="budgeted_amt_left"/>
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" optional="hide" string='Paid Quantity'/>
                                        <field name="purchased_amt" optional="hide" string='Paid Amount'/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Section View -->
        <record id="section_cost_sheet_view" model="ir.ui.view">
            <field name="name">section.cost.sheet.view</field>
            <field name="model">section.cost</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="section_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope_id"/>
                                <field name="amount_contract"/>
                            </group>
                            <group name="group_1_2">
                                <field name="subtotal"/>
                                <field name="budget_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="paid_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amount"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="unallocated_amount"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <notebook>
                            <page string='Material'>
                                <field name="material_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product" />
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="material_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Labour'>
                                <field name="labour_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product" />
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="labour_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Overhead'>
                                <field name="overhead_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="overhead_catagory"/>
                                        <field name="group_of_product"/>
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="on_hand_qty" invisible="1"/>
                                        <field name="on_hand_qty_converted"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="overhead_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="transferred_qty" optional="hide"/>
                                        <field name="transferred_amt" optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Internal Asset'>
                                <field name="asset_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no"/>
                                        <field name="date" rinvisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name"/>
                                        <field name="asset_category_id"/>
                                        <field name="asset_id"/>
                                        <field name="description"/>
                                        <field name="budgeted_qty"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="budgeted_amt"/>
                                        <field name="budgeted_qty_left"/>
                                        <field name="budgeted_amt_left"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="unallocated_budget_qty" optional="hide"/>
                                        <field name="unallocated_amt" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Equipment Lease'>
                                <field name="equipment_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no" />
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name" />
                                        <field name="group_of_product"/>
                                        <field name="product_id" />
                                        <field name="description"/>
                                        <field name="product_qty" string="Budgeted Quantity"/>
                                        <field name="uom_id"/>
                                        <field name="price_unit"/>
                                        <field name="equipment_amount_total" string="Budgeted Amount"/>
                                        <field name="budgeted_qty_left" />
                                        <field name="budgeted_amt_left" />
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                        <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                        <field name="received_qty" optional="hide"/>
                                        <field name="returned_qty" optional="hide"/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                            <page string='Subcon'>
                                <field name="subcon_line_ids" widget="one2many_list" nolabel="1">
                                    <tree>
                                        <field name="sr_no"/>
                                        <field name="date" invisible="1"/>
                                        <field name="project_scope" invisible="1"/>
                                        <field name="section_name"/>
                                        <field name="variable" />
                                        <field name="description"/>
                                        <field name="product_qty"/>
                                        <field name="uom_id" />
                                        <field name="price_unit"/>
                                        <field name="subcon_amount_total" />
                                        <field name="budgeted_qty_left"/>
                                        <field name="budgeted_amt_left"/>
                                        <field name="reserved_qty" optional="hide"/>
                                        <field name="reserved_amt" optional="hide"/>
                                        <field name="billed_qty" optional="hide"/>
                                        <field name="billed_amt" optional="hide"/>
                                        <field name="purchased_qty" optional="hide" string='Paid Quantity'/>
                                        <field name="purchased_amt" optional="hide" string='Paid Amount'/>
                                        <field name="unused_qty" optional="hide"/>
                                        <field name="unused_amt" optional="hide"/>
                                        <field name="actual_used_qty" optional="hide"/>
                                        <field name="actual_used_amt" optional="hide"/>
                                        <field name="allocated_budget_qty" optional="hide"/>
                                        <field name="allocated_budget_amt" optional="hide"/>
                                        <field name="product_qty_na" optional="hide"/>
                                        <field name="product_amt_na" optional="hide"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Material -->
        <record id="material_cost_sheet_view" model="ir.ui.view">
            <field name="name">material.cost.sheet.view</field>
            <field name="model">material.material</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="product_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                                <field name="description"/>
                                <field name="product_qty" string="Budgeted Quantity"/>
                                <field name="on_hand_qty" invisible="1"/>
                                <field name="on_hand_qty_converted"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="material_amount_total" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" />
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_qty"/>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_qty"/>
                                    <field name="billed_amt" />
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_qty" string='Paid Quantity'/>
                                    <field name="purchased_amt" string='Paid Amount' />
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_qty"/>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Received'>
                                <field name="received_qty"/>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_qty_na"/>
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Labour -->
        <record id="labour_cost_sheet_view" model="ir.ui.view">
            <field name="name">labour.cost.sheet.view</field>
            <field name="model">material.labour</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="product_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                                <field name="description"/>
                                <field name="product_qty" string="Budgeted Quantity" invisible="1"/>
                                <field name="time"/>
                                <field name="contractors"/>
                                <field name="on_hand_qty" invisible="1"/>
                                <field name="on_hand_qty_converted"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="labour_amount_total" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" invisible="1"/>
                                <field name="contractors_left"/>
                                <field name="time_left"/>
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_qty" invisible="1"/>
                                <field name="reserved_contractors"/>
                                <field name="reserved_time"/>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_qty"/>
                                    <field name="billed_amt" />
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_qty" string='Paid Quantity'/>
                                    <field name="purchased_amt" string='Paid Amount' />
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_qty"/>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Received'>
                                <field name="received_qty"/>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_qty_na"/>
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Overhead -->
        <record id="overhead_cost_sheet_view" model="ir.ui.view">
            <field name="name">overhead.cost.sheet.view</field>
            <field name="model">material.overhead</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="product_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="overhead_catagory"/>
                                <field name="group_of_product"/>
                                <field name="description"/>
                                <field name="product_qty" string="Budgeted Quantity"/>
                                <field name="on_hand_qty" invisible="1"/>
                                <field name="on_hand_qty_converted"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="overhead_amount_total" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" />
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_qty"/>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_qty"/>
                                    <field name="billed_amt" />
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_qty" string='Paid Quantity'/>
                                    <field name="purchased_amt" string='Paid Amount' />
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_qty"/>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Received'>
                                <field name="received_qty"/>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_qty_na"/>
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Equipment -->
        <record id="equipment_cost_sheet_view" model="ir.ui.view">
            <field name="name">equipment.cost.sheet.view</field>
            <field name="model">material.equipment</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="product_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                                <field name="description"/>
                                <field name="product_qty" string="Budgeted Quantity"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="equipment_amount_total" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" />
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_qty"/>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_qty"/>
                                    <field name="billed_amt" />
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_qty" string='Paid Quantity'/>
                                    <field name="purchased_amt" string='Paid Amount' />
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_2" string='Received'>
                                <field name="received_qty"/>
                                <field name="returned_qty"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_qty_na"/>
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Subcon -->
        <record id="subcon_cost_sheet_view" model="ir.ui.view">
            <field name="name">subcon.cost.sheet.view</field>
            <field name="model">material.subcon</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="variable"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="description"/>
                                <field name="product_qty" string="Budgeted Quantity"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="subcon_amount_total" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" />
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_qty"/>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_qty"/>
                                    <field name="billed_amt" />
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_qty" string='Paid Quantity'/>
                                    <field name="purchased_amt" string='Paid Amount' />
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_qty_na"/>
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View Asset -->
        <record id="asset_cost_sheet_view" model="ir.ui.view">
            <field name="name">asset.cost.sheet.view</field>
            <field name="model">internal.asset</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="asset_id"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="asset_category_id"/>
                                <field name="description"/>
                                <field name="budgeted_qty" string="Budgeted Quantity"/>
                                <field name="uom_id"/>
                            </group>
                            <group name="group_1_2">
                                <field name="price_unit"/>
                                <field name="budgeted_amt" string="Budgeted Amount"/>
                                <field name="budgeted_qty_left" />
                                <field name="budgeted_amt_left" />
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                     <field name="unused_qty"/>
                                     <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_qty"/>
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="unallocated_budget_qty"/>
                                    <field name="unallocated_amt"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_qty"/>
                                    <field name="allocated_budget_amt" />
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        
        <!-- View GOP Material -->
        <record id="material_gop_cost_sheet_view" model="ir.ui.view">
            <field name="name">material.gop.cost.sheet.view</field>
            <field name="model">material.gop.material</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="group_of_product"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                            </group>
                            <group name="group_1_2">
                                <field name="material_gop_amount_total"/>
                                <field name="budgeted_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_amt" string='Paid Amount'/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_5" string='Material'>
                            <field name="material_line_ids" widget="one2many_list" nolabel="1">
                                <tree>
                                    <field name="sr_no" />
                                    <field name="date" invisible="1"/>
                                    <field name="project_scope" invisible="1"/>
                                    <field name="section_name" invisible="1"/>
                                    <field name="group_of_product" invisible="1"/>
                                    <field name="product_id" />
                                    <field name="description"/>
                                    <field name="product_qty" string="Budgeted Quantity"/>
                                    <field name="on_hand_qty" invisible="1"/>
                                    <field name="on_hand_qty_converted"/>
                                    <field name="uom_id"/>
                                    <field name="price_unit"/>
                                    <field name="material_amount_total" string="Budgeted Amount"/>
                                    <field name="budgeted_qty_left" />
                                    <field name="budgeted_amt_left" />
                                    <field name="reserved_qty" optional="hide"/>
                                    <field name="reserved_amt" optional="hide"/>
                                    <field name="billed_qty" optional="hide"/>
                                    <field name="billed_amt" optional="hide"/>
                                    <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                    <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                    <field name="transferred_qty" optional="hide"/>
                                    <field name="transferred_amt" optional="hide"/>
                                    <field name="received_qty" optional="hide"/>
                                    <field name="unused_qty" optional="hide"/>
                                    <field name="unused_amt" optional="hide"/>
                                    <field name="actual_used_qty" optional="hide"/>
                                    <field name="actual_used_amt" optional="hide"/>
                                    <field name="allocated_budget_qty" optional="hide"/>
                                    <field name="allocated_budget_amt" optional="hide"/>
                                    <field name="product_qty_na" optional="hide"/>
                                    <field name="product_amt_na" optional="hide"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- View GOP Labour -->
        <record id="labour_gop_cost_sheet_view" model="ir.ui.view">
            <field name="name">labour.gop.cost.sheet.view</field>
            <field name="model">material.gop.labour</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="group_of_product"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                            </group>
                            <group name="group_1_2">
                                <field name="labour_gop_amount_total"/>
                                <field name="budgeted_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_amt" string='Paid Amount'/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_5" string='Labour'>
                            <field name="labour_line_ids" widget="one2many_list" nolabel="1">
                                <tree>
                                    <field name="sr_no" />
                                    <field name="date" invisible="1"/>
                                    <field name="project_scope" invisible="1"/>
                                    <field name="section_name" invisible="1"/>
                                    <field name="group_of_product" invisible="1"/>
                                    <field name="product_id" />
                                    <field name="description"/>
                                    <field name="product_qty" string="Budgeted Quantity"/>
                                    <field name="on_hand_qty" invisible="1"/>
                                    <field name="on_hand_qty_converted"/>
                                    <field name="uom_id"/>
                                    <field name="price_unit"/>
                                    <field name="labour_amount_total" string="Budgeted Amount"/>
                                    <field name="budgeted_qty_left" />
                                    <field name="budgeted_amt_left" />
                                    <field name="reserved_qty" optional="hide"/>
                                    <field name="reserved_amt" optional="hide"/>
                                    <field name="billed_qty" optional="hide"/>
                                    <field name="billed_amt" optional="hide"/>
                                    <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                    <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                    <field name="transferred_qty" optional="hide"/>
                                    <field name="transferred_amt" optional="hide"/>
                                    <field name="received_qty" optional="hide"/>
                                    <field name="unused_qty" optional="hide"/>
                                    <field name="unused_amt" optional="hide"/>
                                    <field name="actual_used_qty" optional="hide"/>
                                    <field name="actual_used_amt" optional="hide"/>
                                    <field name="allocated_budget_qty" optional="hide"/>
                                    <field name="allocated_budget_amt" optional="hide"/>
                                    <field name="product_qty_na" optional="hide"/>
                                    <field name="product_amt_na" optional="hide"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View GOP Overhead -->
        <record id="overhead_gop_cost_sheet_view" model="ir.ui.view">
            <field name="name">overhead.gop.cost.sheet.view</field>
            <field name="model">material.gop.overhead</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="group_of_product"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                            </group>
                            <group name="group_1_2">
                                <field name="overhead_gop_amount_total"/>
                                <field name="budgeted_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_amt" string='Paid Amount'/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_5" string='Overhead'>
                            <field name="overhead_line_ids" widget="one2many_list" nolabel="1">
                                <tree>
                                    <field name="sr_no" />
                                    <field name="date" invisible="1"/>
                                    <field name="project_scope" invisible="1"/>
                                    <field name="section_name" invisible="1"/>
                                    <field name="group_of_product" invisible="1"/>
                                    <field name="product_id" />
                                    <field name="description"/>
                                    <field name="product_qty" string="Budgeted Quantity"/>
                                    <field name="on_hand_qty" invisible="1"/>
                                    <field name="on_hand_qty_converted"/>
                                    <field name="uom_id"/>
                                    <field name="price_unit"/>
                                    <field name="overhead_amount_total" string="Budgeted Amount"/>
                                    <field name="budgeted_qty_left" />
                                    <field name="budgeted_amt_left" />
                                    <field name="reserved_qty" optional="hide"/>
                                    <field name="reserved_amt" optional="hide"/>
                                    <field name="billed_qty" optional="hide"/>
                                    <field name="billed_amt" optional="hide"/>
                                    <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                    <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                    <field name="transferred_qty" optional="hide"/>
                                    <field name="transferred_amt" optional="hide"/>
                                    <field name="received_qty" optional="hide"/>
                                    <field name="unused_qty" optional="hide"/>
                                    <field name="unused_amt" optional="hide"/>
                                    <field name="actual_used_qty" optional="hide"/>
                                    <field name="actual_used_amt" optional="hide"/>
                                    <field name="allocated_budget_qty" optional="hide"/>
                                    <field name="allocated_budget_amt" optional="hide"/>
                                    <field name="product_qty_na" optional="hide"/>
                                    <field name="product_amt_na" optional="hide"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- View GOP Equipment -->
        <record id="equipment_gop_cost_sheet_view" model="ir.ui.view">
            <field name="name">equipment.gop.cost.sheet.view</field>
            <field name="model">material.gop.equipment</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="group_of_product"/>
                            </h1>
                        </div>
                        <group name="group_1">
                            <group name="group_1_1">
                                <field name="project_scope"/>
                                <field name="section_name"/>
                                <field name="group_of_product"/>
                            </group>
                            <group name="group_1_2">
                                <field name="equipment_gop_amount_total"/>
                                <field name="budgeted_amt_left"/>
                            </group>
                        </group>
                        <group name="group_2">
                            <group name="group_2_1" string='Reserved'>
                                <field name="reserved_amt"/>
                            </group>
                            <group name="group_2_2" string='Billed and Paid'>
                                <group name="group_2_2_1"> 
                                    <field name="billed_amt"/>
                                </group>
                                <group name="group_2_2_1"> 
                                    <field name="purchased_amt" string='Paid Amount'/>
                                </group>
                            </group>
                        </group>
                        <group name="group_3">
                            <group name="group_3_1" string='Transferred'>
                                <field name="transferred_amt"/>
                            </group>
                            <group name="group_3_2" string='Used'>
                                <group name="group_3_2_1">
                                    <field name="unused_amt"/>
                                </group>
                                <group name="group_3_2_2">
                                    <field name="actual_used_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_4">
                            <group name="group_4_1" string='Allocated'>
                                <group name="group_4_1_1">
                                    <field name="product_amt_na"/>
                                </group>
                                <group name="group_4_1_2">
                                    <field name="allocated_budget_amt"/>
                                </group>
                            </group>
                        </group>
                        <group name="group_5" string='Equipment Lease'>
                            <field name="equipment_line_ids" widget="one2many_list" nolabel="1">
                                <tree>
                                    <field name="sr_no" />
                                    <field name="date" invisible="1"/>
                                    <field name="project_scope" invisible="1"/>
                                    <field name="section_name" invisible="1"/>
                                    <field name="group_of_product" invisible="1"/>
                                    <field name="product_id" />
                                    <field name="description"/>
                                    <field name="product_qty" string="Budgeted Quantity"/>
                                    <field name="uom_id"/>
                                    <field name="price_unit"/>
                                    <field name="equipment_amount_total" string="Budgeted Amount"/>
                                    <field name="budgeted_qty_left" />
                                    <field name="budgeted_amt_left" />
                                    <field name="reserved_qty" optional="hide"/>
                                    <field name="reserved_amt" optional="hide"/>
                                    <field name="billed_qty" optional="hide"/>
                                    <field name="billed_amt" optional="hide"/>
                                    <field name="purchased_qty" string='Paid Quantity' optional="hide"/>
                                    <field name="purchased_amt" string='Paid Amount' optional="hide"/>
                                    <field name="received_qty" optional="hide"/>
                                    <field name="returned_qty" optional="hide"/>
                                    <field name="unused_qty" optional="hide"/>
                                    <field name="unused_amt" optional="hide"/>
                                    <field name="actual_used_qty" optional="hide"/>
                                    <field name="actual_used_amt" optional="hide"/>
                                    <field name="allocated_budget_qty" optional="hide"/>
                                    <field name="allocated_budget_amt" optional="hide"/>
                                    <field name="product_qty_na" optional="hide"/>
                                    <field name="product_amt_na" optional="hide"/>
                                </tree>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


    </data>
</odoo>
