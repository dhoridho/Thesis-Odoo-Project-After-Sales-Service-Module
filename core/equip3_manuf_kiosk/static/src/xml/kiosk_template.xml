<?xml version="1.0" encoding="utf-8"?>
<template xml:space="preserve">
    <t t-name="MRPManuKiosk">
        <div class="o_content" style="background:rgba(0, 0, 0, 0.3)">
            <div class="o_mrp_kiosk_kiosk_mode_container">
            <!-- <span class="o_mrp_kiosk_kiosk_backdrop"/> -->
                <div class="o_mrp_kiosk_clock text-center"/>
                <div class="o_mrp_kiosk_kiosk_mode employee_scan" id="employee_scan" style="margin-top: 10px;">
                    <style>
                        /* The Modal (background) */
                        .modal {
                        display: none; /* Hidden by default */
                        position: fixed; /* Stay in place */
                        z-index: 1; /* Sit on top */
                        padding-top: 100px; /* Location of the box */
                        left: 0;
                        top: 0;
                        width: 100%; /* Full width */
                        height: 100%; /* Full height */
                        overflow: auto; /* Enable scroll if needed */
                        background-color: rgb(0,0,0); /* Fallback color */
                        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
                        }

                        /* Modal Content */
                        .modal-content {
                        position: relative;
                        background-color: #fefefe;
                        margin: auto;
                        padding: 0;
                        border: 1px solid #888;
                        width: 60%;
                        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
                        -webkit-animation-name: animatetop;
                        -webkit-animation-duration: 0.4s;
                        animation-name: animatetop;
                        animation-duration: 0.4s
                        }

                        /* Add Animation */
                        @-webkit-keyframes animatetop {
                        from {top:-300px; opacity:0} 
                        to {top:0; opacity:1}
                        }

                        @keyframes animatetop {
                        from {top:-300px; opacity:0}
                        to {top:0; opacity:1}
                        }

                        /* The Close Button */
                        .close {
                        color: #000;
                        float: right;
                        font-size: 28px;
                        font-weight: bold;
                        }

                        .close:hover,
                        .close:focus {
                        color: #000;
                        text-decoration: none;
                        cursor: pointer;
                        }

                        .modal-header {
                        padding: 2px 16px;
                        <!-- background-color: #5cb85c; -->
                        color: white;
                        }

                        .modal-body {padding: 2px 16px;}

                        .modal-footer {
                        padding: 2px 16px;
                        background-color: #5cb85c;
                        color: white;
                        }
                    </style>
                    <div class="o_mrp_kiosk_back_button">
                        <div class="o_mrp_kiosk_user_button">
                            <p>
                                <span class="text-left">
                                    <div class="production_name d-inline-block pull-right" style="position: absolute;top: 0vw;right: 0vw;">
                                        <button class="btn btn-danger button_close" id="button_close" style="padding: 10px 15px 10px 15px; margin-top: -1px;">X</button>
                                    </div>
                                </span>
                            </p>
                        </div>
                    </div>

                    <!-- The Modal -->
                    <div id="myModal" class="modal labor_man_enter_modal">
                        <!-- Modal content -->
                        <div class="modal-content">
                            <div class="modal-header text-center">
                            <span class="close close_scan_modal">X</span>
                                <!-- <h2 class="text-center" style="margin-left: -10%;margin: 0 auto;">WELCOME</h2> -->
                            </div>
                            <div class="modal-body">
                                <p clas="text-center" style="margin: 0px 0px 50px"> 
                                    <h2>WELCOME <br/> <span t-esc="widget.workcenter_id"/> - <span t-esc="widget.workorder_dis_name"/></h2><br/>
                                    <span class="text-left">Labor ID: </span><br/>
                                    <input style="width:60%" class="manuf_kiosk_emp_manual" placeholder="Type Labor ID" name="manuf_kiosk_emp_manual"/>
                                    <a role="button" style="color: #fff; border-radius: 0px; margin-bottom: 5px; margin-right: 5px;margin-top: 2px;" class="btn btn-primary js_cls_manuf_kiosk_emp_add" id="js_id_manuf_kiosk_emp_add">
                                        <i class="fa fa-plus"></i>
                                        Enter
                                    </a>
                                </p>
                            </div>
                        </div> 
                    </div>
                    <div class="row text-center">
                        <div class="col-md-3"></div>
                        <div class="col-md-6 text-center">
                            <div class="text-center" style="padding: 20px 0px;">WELCOME 
                                <br/>
                                <span t-esc="widget.workcenter_id"/> - <span t-esc="widget.workorder_dis_name"/>
                             </div>
                            <p style="margin: 10px 0px;" class="text-center">
                                <a role="button" style="color: #fff; border-radius: 0px; margin-right: 5px;" class="btn btn-primary js_cls_manuf_kiosk_att_start_btn" id="js_id_manuf_kiosk_barcode_mobile_start_btn">
                                    <i class="fa fa-barcode"></i>
                                    SCAN NOW
                                </a>
                                <a role="button" style="display: none; color: #fff; border-radius: 0px;" class="btn btn-danger js_cls_manuf_kiosk_att_reset_btn" id="js_id_manuf_kiosk_barcode_mobile_reset_btn">
                                    <i class="fa fa-barcode"></i>
                                    STOP
                                </a>
                            </p>
                            <p class="text-center">
                                <!-- Trigger/Open The Modal -->
                                <span id="myBtn" class="js_cls_manuf_kiosk_open_scan_modal" style="color: red;">Enter Labor ID Manually</span>
                            </p>
                            <div class="js_cls_manuf_kiosk_att_vid_div" id="js_id_manuf_kiosk_att_vid_div" style="display: none;">
                                <div class="js_cls_manuf_kiosk_att_vid_div" id="js_id_manuf_kiosk_att_vid_div" style="display: none;">
                                    <group style="margin-bottom: 10px;">
                                        <div class="form-group row" style="margin-bottom: 10px;width: 75% !important;margin-left: 65px;">
                                            <strong style="align-self: center;" class="col-3">Camera</strong>
                                            <select class="col-8 form-control js_cls_manuf_kiosk_barcode_mobile_cam_select" id="js_id_manuf_kiosk_barcode_mobile_cam_select"> </select>
                                        </div>
                                    </group>
                                    <video id="js_id_manuf_kiosk_att_video" class="cls_sh_all_in_one_mbs_video_tag" width="300" height="200" style="border: 1px solid gray;"></video>
                                    <span style="display: block;">Result:</span>
                                    <code class="js_cls_manuf_kiosk_att_result" id="js_id_manuf_kiosk_att_result"></code>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3"></div>
                    </div>
                   
                </div>
                <div class="o_mrp_kiosk_kiosk_mode component_scan" id="component_scan" style="margin-top: 10px;display:none">
                    <div class="o_mrp_kiosk_back_button">
                        <div class="o_mrp_kiosk_user_button">
                            <p>
                                <span class="text-left">
                                    <div class="production_name d-inline-block pull-left">
                                        <!-- <button class="btn btn-danger button_close" id="button_close" style="position: absolute;top: 0vw;left: 0vw;padding: 20px 10px 20px 20px;border-left: 1px solid;border-bottom: 1px solid;">X</button> -->
                                    </div>
                                    <div class="work_center_name d-block w-50 mx-auto">
                                        <h2 class="wifi_in" t-esc="widget.workcenter_id"/>
                                        <h2><a t-esc="widget.workorder_dis_name"/></h2>
                                    </div>
                                    <div class="production_name d-inline-block pull-right"
                                        style="position: absolute;top: 0vw;right: 0vw;">
                                        <button class="btn btn-danger button_close" id="button_close" style="padding: 10px 15px 10px 15px; margin-top: -1px;">X</button>
                                    </div>
                                    <div class="row">
                                        <div class="pr-3">
                                        <button class=" btn btn-success button_start" id="button_start"
                                                attrs="{'invisible':['|',(widget.state, '=', 'blocked'),(widget.is_user_working, '!=', 'false')]}">Start</button>
                                        </div>
                                        <div class="pr-3" style="padding-left:0px;">
                                        <button class=" btn btn-success button_done" id="button_done"
                                                attrs="{'invisible':['|',(widget.state, '=', 'blocked'),(widget.is_user_working, '!=', 'false')]}">Done</button>
                                        </div>
                                        <div class="pr-3" style="padding-left:0px;">
                                            <button class="btn btn-warning button_pause" id="button_pause"
                                                    attrs="{'invisible':['|',(widget.state, '=', 'blocked'),(widget.is_user_working, '!=', 'false')]}">Pause</button>
                                        </div>
                                        <div class="pr-3" style="padding-left:0px;">
                                            <button class="btn btn-danger button_block" id="button_block"
                                                    attrs="{'invisible':[(widget.state, '=', 'blocked')]}">Block</button>
                                        </div>
                                        <div class="pr-3" style="padding-left:0px;">
                                            <button class="btn btn-danger button_unblock" id="button_unblock"
                                                    attrs="{'invisible':[(widget.working_state, '!=', 'blocked')]}">Unblock</button>
                                        </div>
                                        <button class="btn btn-danger button_sync" id="button_sync" style="display:none;">Sync Data</button>
                                    </div>
                                </span>
                            </p>
                        </div>
                    </div>
                    <t t-if="widget.workorder_id">
                        <div class="row">
                            <div class="col-6">
                                <table class="table table-bordered">
                                    <tr>
                                        <td>To Produce</td>
                                        <td><t t-esc="widget.product_id['data']['display_name']"/></td>
                                    </tr>
                                    <tr>
                                        <td>Quantity to Produce</td>
                                        <td>
                                            <t t-esc="widget.qty_produced"/> / <t t-esc="widget.qty_production"/>
                                            <t t-esc="widget.product_uom['data']['display_name']"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Produced Finished Goods</td>
                                        <td>
                                            <input class="js_cls_produced_finished_goods" name="produced_finished_goods" type="text" t-att-value="widget.produced_finished_product" style="width: 80%;display: inline;"/>
                                            <t t-esc="widget.produced_finished_product_uom_id['data']['display_name']"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Produced Rejected Goods</td>
                                        <td>
                                            <input class="js_cls_produced_rejected_goods" name="produced_rejected_goods" type="text" t-att-value="widget.produced_rejected_product" style="width: 80%;display: inline;"/>
                                            <t t-esc="widget.produced_rejected_product_uom_id['data']['display_name']"/>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                            <div class="col-6">
                                <table class="table table-bordered">
                                    <tr>
                                        <td>Scheduled Date</td>
                                        <td>
                                            <div class="oe_inline">
                                                <t t-if="widget.date_planned_start">
                                                    <span t-esc="widget.date_planned_start"/>
                                                </t>
                                                <strong class="mr8 oe_inline">to</strong>
                                                <t t-if="widget.date_planned_finished">
                                                    <span t-esc="widget.date_planned_finished"/>
                                                </t>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Actual Date</td>
                                        <td>

                                            <div class="oe_inline">
                                                <span id="start_date">
                                                    <t t-if="widget.date_start">
                                                        <t t-esc="widget.date_start"/>
                                                    </t>
                                                </span>
                                                <strong class="mr8 oe_inline">to</strong>
                                                <span id="end_date">
                                                    <t t-if="widget.date_end">
                                                        <t t-esc="widget.date_end"/>
                                                    </t>
                                                </span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Expected Duration</td>
                                        <td>
                                            <span t-esc="widget.duration_expected"/>
                                            <span>minutes</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Actual Duration</td>
                                        <td>
                                            <div>
                                                <span id="hour" t-esc="widget.real_hour"/>:<span id="minute" t-esc="widget.real_minute"/>:<span id="seconds" t-esc="widget.real_seconds"/> 
                                                <span id="duration" t-esc="widget.duration" class="" style="visibility: hidden;"/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Labor</td>
                                        <td>
                                            <span class="labor_name" id="labor_name"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <!-- <t t-if="widget.is_show_barcode_scanner"> -->
                            <div class="row">
                                <div class="col-6 text-left" style="margin-top: -30px; margin-bottom: -30px;">
                                    <p style="margin: 30px 0px 0px"> 
                                        Barcode/Lot/Serial Number: <br/>
                                        <input style="width:60%" class="manuf_kiosk_barcode_mobile_manual" placeholder="Type Barcode/Lot/Serial Number" name="manuf_kiosk_barcode_mobile_manual"/>
                                        <a role="button" style="color: #fff; border-radius: 0px; margin-bottom: 5px; margin-right: 5px;margin-top: 2px;" class="btn btn-primary js_cls_manuf_kiosk_barcode_mobile_add_comp" id="js_id_manuf_kiosk_barcode_mobile_add_comp">
                                            <i class="fa fa-plus"></i>
                                            Add Component
                                        </a>
                                    </p>
                                    <p style="margin: 10px 0px;">
                                        <a role="button" style="color: #fff; border-radius: 0px; margin-right: 5px;" class="btn btn-primary js_cls_manuf_kiosk_barcode_mobile_start_btn" id="js_id_manuf_kiosk_barcode_mobile_start_btn">
                                            <i class="fa fa-barcode"></i>
                                            Scan Now
                                        </a>
                                        <a role="button" style="display: none; color: #fff; border-radius: 0px;" class="btn btn-danger js_cls_manuf_kiosk_barcode_mobile_reset_btn" id="js_id_manuf_kiosk_barcode_mobile_reset_btn">
                                            <i class="fa fa-barcode"></i>
                                            Stop
                                        </a>
                                    </p>
                                    <div class="js_cls_manuf_kiosk_barcode_mobile_vid_div" id="js_id_manuf_kiosk_barcode_mobile_vid_div" style="display: none;">
                                        <div class="js_cls_manuf_kiosk_barcode_mobile_vid_div" id="js_id_manuf_kiosk_barcode_mobile_vid_div" style="display: none;">
                                            <group style="margin-bottom: 10px;">
                                                <div class="form-group row" style="margin-bottom: 0px;">
                                                    <strong style="align-self: center;" class="col-3">Camera</strong>
                                                    <select class="col-8 form-control js_cls_manuf_kiosk_barcode_mobile_cam_select" id="js_id_manuf_kiosk_barcode_mobile_cam_select"> </select>
                                                </div>
                                            </group>
                                            <video id="js_id_manuf_kiosk_bm_video" class="cls_sh_all_in_one_mbs_video_tag" width="300" height="200" style="border: 1px solid gray;"></video>
                                            <span style="display: block;">Result:</span>
                                            <code class="js_cls_manuf_kiosk_barcode_mobile_result" id="js_id_manuf_kiosk_barcode_mobile_result"></code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        <!-- </t> -->
                        <br/>
                        <div class="row">
                            <div class="col-12">
                                <div class="Components d-block w-50 mx-auto">
                                    <h2>Components
                                    <span t-ese="widget.components_ids"/></h2>
                                </div>
                                <br/>
                                <table class="table table-bordered manu_kisok_js_components_table" id="wo_component" style="width:100%;">
                                    <tr>
                                        <th>Product</th>
                                        <th>Lot/Serial Numbers</th>
                                        <th>Qty</th>
                                    </tr>
                                    <t t-foreach="widget.components_ids" t-as="o">
                                        <tr>
                                            <td> <span t-esc="o.product_id[1]"/></td>
                                            <t t-if="o.lot_name">
                                                <td><input type="text" id="lot" t-att-value="o.lot_name" disabled="disabled"/></td>
                                            </t>
                                            <t t-else="">
                                                <td><input type="text" id="lot" disabled="disabled"/></td>
                                            </t>
                                            <t t-if="o.is_scan">
                                                <td>
                                                    <t t-if="widget.is_qty_editable">
                                                        <input type="text" id="quantity" t-att-value="o.product_uom_qty"/>
                                                    </t>
                                                    <t t-else="">
                                                        <input type="text" id="quantity" t-att-value="o.product_uom_qty" disabled="disabled"/>
                                                    </t>
                                                </td>
                                            </t>
                                            <t t-else="">
                                                <td>
                                                    <t t-if="widget.is_qty_editable">
                                                        <input type="text" id="quantity" value="0"/>
                                                    </t>
                                                    <t t-else="">
                                                        <input type="text" id="quantity" value="0" disabled="disabled"/>
                                                    </t>
                                                </td>
                                            </t>
                                        </tr>
                                    </t>
                                </table>
                            </div>
                        </div>
                    </t>
                    <div t-else="" class="alert alert-danger" role="alert">
                            <b>Error: could not find corresponding employee.</b>
                        <br/>Please return to the main menu.
                        </div>
                    <a role="button" class="oe_attendance_sign_in_out" aria-label="Sign out" title="Sign out"/>
                    </div>
            </div>
        </div>
    </t>
</template>