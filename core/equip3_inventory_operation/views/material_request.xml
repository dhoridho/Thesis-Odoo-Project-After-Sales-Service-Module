<odoo>
    <data>

        <record model="ir.ui.view" id="material_request_tree_view">
            <field name="name">material.request.tree</field>
            <field name="model">material.request</field>
            <field name="arch" type="xml">
                <tree default_order="id desc">
                    <field name="name"/>
                    <field name="create_date" />
                    <field name="schedule_date" />
                    <field name="requested_by" />
                    <field name="source_document" />
                    <field name="purchase_request" />
                    <field name="internal_transfer" />
                    <field name="itr_war_count" string="Inter-Location Transfer Request"/>
                    <field name="status" optional="show" widget="badge"
                            decoration-success2="status == 'done'"
                            decoration-secondary="status == 'draft'"
                            decoration-success="status == 'assigned'"
                            decoration-warning="status == 'waiting'"
                            decoration-warning3="status =='to_approve'"
                            decoration-danger3="status == 'cancel'"
                            decoration-danger="status == 'rejected'"
                            decoration-success3="status in ('confirm', 'approved')"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="material_request_form_view">
            <field name="name">material.request.form</field>
            <field name="model">material.request</field>
            <field name="arch" type="xml">
                <form string="Material Request">
                    <header>
                        <button name="button_confirm" string="Confirm" type="object" class="oe_highlight" attrs="{'invisible': ['|', '|', ('status', '!=', 'draft'), ('check_product','=',False), ('mr_approval_matrix_id', '!=', False)]}"/>
                        <button name="button_confirm" string="Confirm" type="object" class="oe_highlight" attrs="{'invisible': ['|', '|', ('status', '!=', 'approved'), ('check_product','=',False), ('mr_approval_matrix_id','=', False)]}"/>
                        <button name="create_purchase_request"  attrs="{'invisible': [('status', '!=', 'confirm')]}" string="Create Purchase Request" type="object" class="btn btn-primary"/>
                        <button name="create_internal_transfer"  attrs="{'invisible': [('status', '!=', 'confirm')]}" string="Create Interwarehouse Transfer" type="object" class="btn btn-primary"/>
                        <button name="create_intrawarehouse_transfer"  attrs="{'invisible': [('status', '!=', 'confirm')]}" string="Create Inter-Location Transfer" type="object" class="btn btn-primary"/>
                        <button name="material_request_done" string="Done" status="approved" attrs="{'invisible': [('status', '!=', 'confirm')]}" type="object" class="btn btn-primary"/>
                        <button name="mr_request_for_approving" string="Request For Approval" attrs="{'invisible': ['|', '|', ('mr_approval_matrix_id', '=', False), ('status', '!=', 'draft'), ('check_product', '=', False)]}" type="object" class="btn btn-primary"/>
                        <button name="mr_approving" string="Approve" attrs="{'invisible': ['|', '|', ('mr_approval_matrix_id','=', False), ('is_approve_button', '=', False), ('status', '!=', 'to_approve')]}" type="object" class="btn btn-primary"/>
                        <button name="mr_reject" string="Reject" attrs="{'invisible': ['|', '|', ('mr_approval_matrix_id','=', False), ('is_approve_button', '=', False), ('status', '!=', 'to_approve')]}" type="object" class="btn btn-primary"/>
                        <button name="mr_reset_to_draft" string="Reset To Draft" attrs="{'invisible': [('is_reset_to_draft', '=', False)]}" type="object" class="btn btn-secondary"/>
                        <button name="mr_cancel" string="Cancel" attrs="{'invisible': [('status', 'in',('done','cancel'))]}" type="object" class="btn btn-secondary"/>
                        <field name="status" widget="statusbar" statusbar_visible="draft,confirm,done" attrs="{'invisible': [('mr_approval_matrix_id','!=', False)]}"/>
                        <field name="status_1" widget="statusbar" statusbar_visible="draft,to_approve,approved,confirm,done" attrs="{'invisible': ['|', ('mr_approval_matrix_id','=', False), ('status', '!=', 'approved')]}"/>
                        <field name="status_2" widget="statusbar" statusbar_visible="draft,to_approve,rejected" attrs="{'invisible': ['|', ('mr_approval_matrix_id','=', False), ('status', '!=', 'rejected')]}"/>
                        <field name="status_3" widget="statusbar" statusbar_visible="draft,to_approve,confirm,done" attrs="{'invisible': ['|', ('mr_approval_matrix_id','=', False), ('status', 'in', ('approved', 'rejected'))]}"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" name="get_purchase_request_line" type="object"
                                    attrs="{'invisible': [('pr_count', '=', 0)]}" icon="o-hm-smart-all-purchased">
                                <field string="Purchase Request" name="pr_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="get_internal_transfer" type="object"
                                    attrs="{'invisible': [('ir_count', '=', 0)]}" icon="o-hm-smart-all-on-time">
                                <field string="Internal Transfer" name="ir_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" name="get_intra_warehouse_transfer" type="object"
                                    attrs="{'invisible': [('itr_war_count', '=', 0)]}" icon="fa-truck">
                                <field string="Inter-Location Transfer" name="itr_war_count" widget="statinfo"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1> <field name="name" readonly="1"/></h1>
                        </div>
                        <field name="is_approve_button" invisible="1"/>
                        <field name="is_reset_to_draft" invisible="1"/>
                        <field name="approval_matrix_line_id" invisible="1"/>
                        <group>
                            <group>
                                <field name="requested_by" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <field name="destination_warehouse_id" required="True" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <field name="company_id"/>
                                <field name="branch_id" />
                                <field name="analytic_account_group_ids" widget="many2many_tags" domain="[('company_id', '=', company_id)]" groups="analytic.group_analytic_tags" attrs="{'readonly': [('status', '!=', 'draft')]}"/>
                                <field name="destination_location_id" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}" invisible="1"/>
                                <field name="is_material_request_approval_matrix" string="Approval Material Request" groups="stock.group_stock_manager,base.group_no_one" attrs="{'readonly':[('status', 'in', ('confirm','done'))]}"/>
                                <field name="purchase_request" invisible="1"/>
                                <field name="check_product" invisible="1"/>
                            </group>
                            <group>
                                <field name="create_date"  readonly="True"/>
                                <field name="create_uid"  readonly="True"/>
                                <field name="schedule_date" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <field name="expiry_date" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <field name="description" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <field name="source_document" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}"/>
                                <!-- <field name="mr_approval_matrix_id" attrs="{'invisible':[('is_material_request_approval_matrix','=',False)],'required': [('is_material_request_approval_matrix', '=', True)]}"/> -->
                                <field name="mr_approval_matrix_id" attrs="{'invisible':[('mr_approval_matrix_id', '=', False)]}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Product">
                                <field name="product_line"  editable="bottom"  mode="tree" context="{'default_status': status, 'default_destination_location_id': destination_location_id, 'product_line':product_line,
                                    'default_destination_warehouse_id': destination_warehouse_id}" attrs="{'readonly': [('status', 'in', ('approved', 'rejected','confirm', 'done', 'to_approve'))]}">
                                    <tree default_order="no" editable="bottom">
                                        <field name="sequence" widget="handle"/>
                                        <field name="no" readonly="1" force_save="1"/>
                                        <field name="product"/>
                                        <field name="description"/>
                                        <field name="analytic_account_group_ids" widget="many2many_tags" groups="analytic.group_analytic_tags"/>
                                        <field name="quantity" string="Demand"/>
                                        <field name="progress_quantity"/>
                                        <field name="done_qty" readonly="1" force_save="1" />
                                        <field name="product_unit_measure"/>
                                        <field name="product_uom_category_id" invisible="1"/>
                                        <field name="destination_location_id" invisible="1"/>
                                        <field name="destination_warehouse_id" readonly="1" force_save="1"/>
                                        <field name="status"/>
                                        <field name="request_date" string="Expected Date"/>
                                        <field name="material_request_id" invisible="1"/>
                                        <field name="done_qty_dup" invisible="1"/>
                                        <button name="action_show_stock" type="object" attrs="{'invisible': [('status', '!=', 'confirm')]}" string="Show Stock" class="btn btn-primary"/>
<!--                                        <field name="qty_pr" invisible="1"/>-->
<!--                                        <field name="qty_ir" invisible="1"/>-->
                                    </tree>
                                    <form create="false">
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="source_document"/>
                                                    <field name="requested_by"/>
                                                    <field name="destination_warehouse_id"/>
                                                    <field name="company_id"/>
                                                    <field name="branch_id"/>
                                                    <field name="create_date"/>
                                                    <field name="status"/>
                                                </group>
                                                <group>
                                                    <field name="product" readonly="1"/>
                                                    <field name="description" readonly="1"/>
                                                    <field name="quantity" readonly="1"/>
                                                    <field name="progress_quantity"/>
                                                    <field name="done_qty"/>
                                                    <field name="product_unit_measure" readonly="1"/>
                                                    <field name="destination_location_id" readonly="1" invisible="1"/>
                                                    <field name="request_date" readonly="1"/>
                                                </group>
                                            </group>
                                            <group string="Tracking">
                                                <group string="Purchase Request">
                                                    <field name="pr_requested_qty"/>
                                                    <field name="pr_pending_qty_to_receive"/>
                                                    <field name="pr_in_progress_qty"/>
                                                    <field name="pr_remaining_qty"/>
                                                    <field name="pr_done_qty"/>
                                                    <field name="pr_cancelled_qty"/>

                                                </group>
                                                <group string="Interwarehouse Transfer Request">
                                                    <field name="itr_requested_qty"/>
                                                    <field name="itr_in_progress_qty"/>
                                                    <field name="itr_remaining_qty"/>
                                                    <field name="itr_done_qty"/>
                                                    <field name="itr_returned_qty"/>
                                                </group>
                                                <group string="Inter-Location Transfer Request">
                                                    <field name="itw_requested_qty"/>
                                                    <field name="itw_in_progress_qty"/>
                                                    <field name="itw_remaining_qty"/>
                                                    <field name="itw_done_qty"/>
                                                </group>
                                            </group>
                                            <notebook>
                                                <page string="Purchase Request Lines">
                                                    <field name="pr_lines_ids" >
                                                        <tree string="Purchase Request Lines" create="false">
                                                            <field name="request_id"/>
                                                            <field name="request_state" widget="badge" decoration-success="request_state in ('done', 'approved')" decoration-info="request_state in ('draft', 'to_approve')" decoration-danger="request_state == 'rejected'"/>
                                                            <field name="requested_by" widget="many2one_avatar_user"/>
                                                            <field name="assigned_to" widget="many2one_avatar_user" invisible="1"/>
                                                            <field name="date_required"/>
                                                            <field name="estimated_cost" widget="monetary"/>
                                                            <field name="currency_id" invisible="1"/>
                                                            <field name="purchased_qty"/>
                                                            <field name="cancelled_qty"/>
                                                            <field name="purchase_state" widget="badge" decoration-success="purchase_state == 'done'" decoration-muted="purchase_state == 'draft'" decoration-info="purchase_state in ('sent', 'purchase')" decoration-warning="purchase_state == 'to_approve'" decoration-danger="purchase_state == 'cancelled'"/>
                                                            <field name="product_id"/>
                                                            <field name="name"/>
                                                            <field name="product_qty"/>
                                                            <field name="product_uom_id" groups="uom.group_uom"/>
                                                            <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                                                            <field name="supplier_id"/>
                                                            <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                                                            <field name="cancelled" invisible="1"/>
                                                            <field name="qty_in_progress" invisible="1"/>
                                                            <field name="qty_done" invisible="1"/>
                                                            <field name="qty_cancelled" invisible="1"/>
                                                        </tree>
                                                    </field>
                                                </page>
                                                <page string="Interwarehouse Transfer Lines">
                                                    <field name ='ir_lines_ids'>
                                                        <tree string="Internal Transfer Lines" create="false">
                                                            <field name="product_line" string="Internal Transfer"/>
                                                            <field name="status"/>
                                                            <field name="scheduled_date"/>
                                                            <field name="transfer_qty"/>
                                                            <field name="itr_in_progress_qty" invisible="1"/>
                                                            <field name="return_qty"/>
                                                            <field name="product_id"/>
                                                            <field name="description"/>
                                                            <field name="qty"/>
                                                            <field name="uom"/>
                                                            <field name="source_location_id"/>
                                                        </tree>
                                                        <form>
                                                            <div class="oe_title">
                    <!--                                            <label for="product_line"/>-->
                                                                <h1> <field name="product_line" readonly="1"/></h1>
                                                            </div>
                                                            <group>
                                                                <group>
                                                                    <field name="source_document"/>
                                                                    <field name="requested_by"/>
                                                                    <field name="create_date"/>
                                                                    <field name="company_id"/>
                                                                </group>
                                                                <group>
                                                                    <field name="product_id"/>
                                                                    <field name="description"/>
                                                                    <field name="scheduled_date"/>
                                                                    <field name="source_location_id"/>
                                                                    <field name="destination_location_id"/>
                                                                </group>
                                                            </group>
                                                            <group>
                                                                <group string="Tracking">
                                                                    <field name="qty" string="Requested Quantity"/>
                                                                    <field name="transfer_qty"/>
                                                                    <field name="return_qty"/>
                                                                </group>
                                                            </group>

                                                        </form>
                                                    </field>
                                                </page>
                                                <page string="Inter-Location Transfer Lines">
                                                    <field name="itr_war_lines_ids"/>
                                                </page>
                                            </notebook>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                            <page name="approved_matrix_ids" string="Approval Matrix Line" attrs="{'invisible': ['|', ('mr_approval_matrix_id', '=', False), ('is_material_request_approval_matrix', '=', False)]}">
                                <field name="approved_matrix_ids" context="{'approved_matrix_ids': approved_matrix_ids}">
                                    <tree editable="bottom">
                                        <field name="sequence" />
                                        <field name="user_ids" widget="many2many_tags"/>
                                        <field name="minimum_approver" />
                                        <field name="state_char" />
                                        <field name="time_stamp" invisible="1"/>
                                        <field name="feedback" />
                                    </tree>
                                </field>
                            </page>
                            <page string="Note">
                                <field name="cancel_reason" placeholder="Cancel Reason" nolabel="1"/>
                                <field name="internal_note" placeholder="Add an internal note that will be printed in the Material Request sheet" nolabel="1"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="material_request_action">
            <field name="name">Material Requests</field>
            <field name="res_model">material.request</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                </p>
            </field>
            <field name="context">{'goods_order': 1,}</field>
        </record>

        <record id="view_purchase_request_form_inherit" model="ir.ui.view">
            <field name="name">purchase.request.form.inherit</field>
            <field name="model">purchase.request</field>
            <field name="inherit_id" ref="purchase_request.view_purchase_request_form"/>
            <field name="arch" type="xml">
                <field name='description' position='after'>
                    <field name='mr_id' widget="many2many_tags" invisible="1"/>
                </field>
                <xpath expr="//field[@name='line_ids']/tree/field[@name='cancelled']" position="after">
                    <field name="mr_line_id" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record id="internal_transfer_form_inherit" model="ir.ui.view">
            <field name="name">internal.transfer.form</field>
            <field name="model">internal.transfer</field>
            <field name="inherit_id" ref="equip3_inventory_operation.view_form_internal_transfer"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='description']" position="after">
<!--                <field name='description' position='after'>-->
                    <field name='mr_id' widget="many2many_tags" invisible="1"/>
                </xpath>
            </field>
        </record>



        <record model="ir.ui.view" id="material_request_line_tree_view">
            <field name="name">material.request.line.tree</field>
            <field name="model">material.request.line</field>
            <field name="arch" type="xml">
                <tree create="false" default_order="id desc">
                    <field name="material_request_id" optional="show"/>
                    <field name="requested_by" optional="show"/>
                    <field name="request_date" optional="show"/>
                    <field name="product" optional="show"/>
                    <field name="description" optional="show"/>
                    <field name="product_unit_measure" optional="show"/>
                    <field name="requested_qty" optional="show"/>
                    <field name="pr_requested_qty" string='Purchase Request Quantity' optional="show"/>
                    <field name="itr_requested_qty" string="Internal Transfer Quantity" optional="show"/>
                    <field name="itw_requested_qty" string="Inter-Location Transfer Request Quantity" optional="show"/>
                    <field name="progress_quantity" optional="show"/>
                    <field name="remaining_qty" optional="show"/>
                    <field name="done_qty" optional="show"/>
                    <field name="done_qty_dup" invisible="1" optional="show"/>
                    <field name="company_id" optional="show"/>
                    <field name="destination_location_id" invisible="1" optional="show"/>
                    <field name="destination_warehouse_id" optional="show"/>
                    <field name="status" optional="show" widget="badge"
                            decoration-success2="status == 'done'"
                            decoration-secondary="status == 'draft'"
                            decoration-success="status == 'assigned'"
                            decoration-warning="status == 'waiting'"
                            decoration-warning3="status =='to_approve'"
                            decoration-danger3="status == 'cancel'"
                            decoration-danger="status == 'rejected'"
                            decoration-success3="status in ('confirm', 'approved')"/>
                </tree>
            </field>
        </record>

        <record id="view_tree_stock_landed_cost_inherit" model="ir.ui.view">
            <field name="name">stock.landed.cost.tree</field>
            <field name="model">stock.landed.cost</field>
            <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree/field[@name='state']" position="replace">
                    <field name="state" optional="show" widget="badge"
                                decoration-success2="state == 'done'"
                                decoration-secondary="state == 'draft'"
                                decoration-success="state == 'assigned'"
                                decoration-warning3="state == 'waiting'"
                                decoration-success3="state in ('partially_available','approved')"
                                decoration-danger3="state == 'cancel'"
                                decoration-danger="state == 'rejected'"
                                decoration-warning="state == 'confirmed'"/>
                </xpath>
            </field>
        </record>


        <!-- STOCK.LANDED.COST inherit form view -->
        <!-- <record id="stock_landed_cost_inherit_view_id" model="ir.ui.view">
            <field name="name">model.name.inherit.view.form</field>
            <field name="model">stock.landed.cost</field>
            <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_form"/>
            <field name="arch" type="xml"> -->
                <!-- Add your xpath here -->
                <!-- <xpath expr="//button[@name='button_validate']" position="after">
                    <button type="object" name="create_vendor_bill"
                                string="Create Vendor Bill"
                                class="oe_stat_button"
                                attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                </xpath>
                <xpath expr="//field[@name='picking_ids']" position="after">
                    <field name="domain_field" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='picking_ids']" position="attributes">
                    <attribute name="domain">domain_field</attribute>
                </xpath>
                <xpath expr="//button[@name='action_view_stock_valuation_layers']" position="attributes">
                    <attribute name="icon">o-hm-smart-all-valuation</attribute>
                </xpath>
                <xpath expr="//button[@name='action_view_stock_valuation_layers']" position="before">
                    <button type="object"  name="action_view_invoice"
                                string="Vendor Bills"
                                class="oe_stat_button"
                                icon="o-hm-smart-all-vendor-bilss"
                                attrs="{'invisible': [('state', '!=', 'done')]}"/>
                </xpath>
                <xpath expr="//field[@name='vendor_bill_id']" position="attributes">
                    <attribute name="domain">[('state', '=', 'draft')]</attribute>
                    <attribute name="context">{'search_default_draft': 1}</attribute>
                    <attribute name="attrs">{'readonly': [('state', '!=', 'draft')]}</attribute>
                </xpath>
            </field>
        </record> -->


        <record model="ir.ui.view" id="material_request_line_form_view">
            <field name="name">Product</field>
            <field name="model">material.request.line</field>
            <field name="arch" type="xml">
                <form create="false">
                    <sheet>
                        <group>
                            <group>
                                <div class="oe_title">
                                    <h1> <field name="material_request_id" readonly="1"/></h1>
                                </div>
                                <field name="source_document"/>
                                <field name="requested_by"/>
                                <field name="destination_warehouse_id" readonly="1"/>
                                <field name="company_id"/>
                                <field name="branch_id"/>
                                <field name="create_date"/>
                                <field name="status"/>
                            </group>
                            <group>
                                <field name="product" readonly="1"/>
                                <field name="description" readonly="1"/>
                                <field name="quantity" readonly="1"/>
<!--                                <field name="done_qty" readonly="1"/>-->
                                <field name="product_unit_measure" readonly="1"/>
                                <field name="destination_location_id" readonly="1" invisible="1"/>
                                <field name="request_date" readonly="1"/>
                            </group>
                        </group>
                        <group string="Tracking">
                            <group string="Purchase Request">
                                <field name="pr_requested_qty"/>
                                <field name="pr_pending_qty_to_receive"/>
                                <field name="pr_in_progress_qty"/>
                                <field name="pr_remaining_qty"/>
                                <field name="pr_done_qty"/>
                                <field name="pr_cancelled_qty"/>

                            </group>
                            <group string="Interwarehouse Transfer Request">
                                <field name="itr_requested_qty"/>
                                <field name="itr_in_progress_qty"/>
                                <field name="itr_remaining_qty"/>
                                <field name="itr_done_qty"/>
                                <field name="itr_returned_qty"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Purchase Request Lines">
                                <field name="pr_lines_ids" >
                                    <tree string="Purchase Request Lines" create="false">
                                        <field name="request_id"/>
                                        <field name="request_state" widget="badge" decoration-success="request_state in ('done', 'approved')" decoration-info="request_state in ('draft', 'to_approve')" decoration-danger="request_state == 'rejected'"/>
                                        <field name="requested_by" widget="many2one_avatar_user"/>
                                        <field name="assigned_to" widget="many2one_avatar_user" invisible="1"/>
                                        <field name="date_required"/>
                                        <field name="estimated_cost" widget="monetary"/>
                                        <field name="currency_id" invisible="1"/>
                                        <field name="purchased_qty"/>
                                        <field name="cancelled_qty"/>
                                        <field name="purchase_state" widget="badge" decoration-success="purchase_state == 'done'" decoration-muted="purchase_state == 'draft'" decoration-info="purchase_state in ('sent', 'purchase')" decoration-warning="purchase_state == 'to_approve'" decoration-danger="purchase_state == 'cancelled'"/>
                                        <field name="product_id"/>
                                        <field name="name"/>
                                        <field name="product_qty"/>
                                        <field name="product_uom_id" groups="uom.group_uom"/>
                                        <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                                        <field name="supplier_id"/>
                                        <field name="company_id" groups="base.group_multi_company" widget="selection"/>
                                        <field name="cancelled" invisible="1"/>
                                        <field name="qty_in_progress" invisible="1"/>
                                        <field name="qty_done" invisible="1"/>
                                        <field name="qty_cancelled" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Interwarehouse Transfer Lines">
                                <field name ='ir_lines_ids'>
                                    <tree string="Interwarehouse Transfer Lines" create="false">
                                        <field name="product_line" string="Interwarehouse Transfer"/>
                                        <field name="status"/>
                                        <field name="scheduled_date"/>
                                        <field name="transfer_qty"/>
                                        <field name="return_qty"/>
                                        <field name="product_id"/>
                                        <field name="description"/>
                                        <field name="qty"/>
                                        <field name="uom"/>
                                        <field name="source_location_id"/>
                                    </tree>
                                    <form>
                                        <div>
                                            <h1> <field name="product_line" readonly="1"/></h1>
                                        </div>
                                        <group>
                                            <group>
                                                <field name="source_document"/>
                                                <field name="requested_by"/>
                                                <field name="create_date"/>
                                                <field name="company_id"/>
                                            </group>
                                            <group>
                                                <field name="product_id"/>
                                                <field name="description"/>
                                                <field name="scheduled_date"/>
                                                <field name="source_location_id"/>
                                                <field name="destination_location_id"/>
                                            </group>
                                        </group>
                                        <group>
                                            <group string="Tracking">
                                                <field name="qty" string="Requested Quantity"/>
                                                <field name="itr_in_progress_qty"/>
                                                <field name="itr_remaining_qty"/>
                                                <field name="transfer_qty"/>
                                                <field name="return_qty" force_save="1" string="Returned Quantity"/>
                                            </group>
                                        </group>
                                            <group string="Traceability">
                                                <notebook>
                                                    <page string="Stock Picking">
                                                        <field name='picking_id'>
                                                            <tree  create="false">
                                                                <field name="name"/>
                                                                <field name="location_id"/>
                                                                <field name="location_dest_id"/>
                                                                <field name="partner_id"/>
                                                                <field name="state"/>
                                                            </tree>
                                                        </field>
                                                    </page>
                                                </notebook>
                                            </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="material_request_line_action">
            <field name="name">Material Request Line</field>
            <field name="res_model">material.request.line</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="create_pr">
            <field name="name">Create Purchase Request</field>
            <field name="res_model">mr_line.pr.wizard</field>
            <field name="binding_model_id" ref="model_material_request_line"/>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>



        <record model="ir.actions.act_window" id="create_ir">
            <field name="name">Create Interwarehouse Transfer Request</field>
            <field name="res_model">mr_line.internal_transfer</field>
            <field name="binding_model_id" ref="model_material_request_line"/>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <record model="ir.actions.act_window" id="create_ir_war_req">
            <field name="name">Create Inter-location Transfer Request</field>
            <field name="res_model">intrawarehouse.transfer</field>
            <field name="binding_model_id" ref="model_material_request_line"/>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>


        <menuitem id="material_request_menu" name="Material Requests" parent="equip3_inventory_operation.menu_operations_material_request" action="material_request_action" sequence="9"/>
        <menuitem id="material_request_line_menu_id" name="Material Requests Line" parent="equip3_inventory_operation.menu_operations_material_request" action="material_request_line_action" sequence="9"/>
        <menuitem id="material_request_master_menu" web_icon="equip3_inventory_operation,static/description/equip-icon_materialrequest.png" name="Material Requests" sequence="30"/>
        <menuitem id="material_request_parent_menu" name="Material Requests" parent="material_request_master_menu" sequence="1"/>
        <menuitem id="material_request_child_menu" name="Material Requests" sequence="1" parent="material_request_parent_menu" action="material_request_action"/>
        <menuitem id="material_request_line_child_menu" name="Material Request Lines" sequence="2" parent="material_request_parent_menu" action="material_request_line_action"/>
    </data>
</odoo>
