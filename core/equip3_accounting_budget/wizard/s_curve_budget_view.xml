<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_wizard_s_curve_budget" model="ir.ui.view">
        <field name="name">s.curve.budget.wizard</field>
        <field name="model">s.curve.budget</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <group>
                        <field name="budget_to_analyze" required="1"/>
                    </group>
                    <group >
                        <field name="crossovered_budget" attrs="{'required': [('budget_to_analyze', '=', 'budget')], 'invisible': [('budget_to_analyze', '!=', 'budget')]}" />

                        <field name="crossovered_purchase_budget" attrs="{'required': [('budget_to_analyze', '=', 'purchase_budget')], 'invisible': [('budget_to_analyze', '!=', 'purchase_budget')]}" />
                        
                        <field name="budgetary_position" widget="many2many_tags" attrs="{'required': [('budget_to_analyze', '=', 'budget')], 'invisible': [('budget_to_analyze', '!=', 'budget'),'|',('budget_to_analyze', '!=', 'purchase_budget'),('crossovered_purchase_budget_parent_id','=',False)]}" />
                        
                        <field name="group_product_purchase_budget" widget="many2many_tags" attrs="{'invisible': ['|',('budget_to_analyze', '!=', 'purchase_budget'),('crossovered_purchase_budget_parent_id','!=',False)]}" />
                        <field name="product_purchase_budget" widget="many2many_tags" attrs="{'invisible': [('budget_to_analyze', '!=', 'purchase_budget')]}" />

                        <field name="crossovered_acount_budget" attrs="{'required': [('budget_to_analyze', '=', 'account_budget')], 'invisible': [('budget_to_analyze', '!=', 'account_budget')]}" />
                        <field name="acount_account_budget" widget="many2many_tags" attrs="{'required': [('budget_to_analyze', '=', 'account_budget')], 'invisible': [('budget_to_analyze', '!=', 'account_budget')]}" />

                        <field name="period_start_date" />
                        <field name="period_end_date" />
                        <field name="crossovered_purchase_budget_parent_id" invisible="1" />
                        
                    </group>
                    
                </group>
                <footer>
                    <button name="create_scurve" string="Create S-Curve" type="object" class="oe_highlight"/>
                    <button string="Cancel" special='cancel' class="btn-secondary"/>
                </footer>
            </form>
        </field>
        </record>

        <record id="action_s_curve_budget" model="ir.actions.act_window">
            <field name="name">Budget Chart Analysis </field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">s.curve.budget</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <menuitem id="sub_menu_s_curve_budget" 
        name="Budget Chart Analysis " 
        action="action_s_curve_budget" 
        parent="equip3_accounting_budget.menu_budget_report" 
        sequence="3" />

    </data>
</odoo>
