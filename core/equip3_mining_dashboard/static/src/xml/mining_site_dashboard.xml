<?xml version="1.0" encoding="UTF-8"?>
<templates>

    <t t-name="DashboardTotalProduction">
        <div class="o_total_production">
            <div class="o_percentage">
                <span t-attf-class="fa {{ widget.data.status === 'up' ? 'fa-caret-up' : 'fa-caret-down' }} o_percentage_icon o_{{ widget.status }}"/>
                <div t-attf-class="o_value o_{{ widget.data.status }}"><t t-esc="widget.data.percentage"/>%</div>
            </div>
            <div class="o_production_info">
                <table class="o_table_production">
                    <tbody>
                        <tr class="o_this_month">
                            <td class="o_label">This Month</td>
                            <td><t t-esc="widget.data.totalThisMonth"/> <t t-esc="widget.data.uomName"/></td>
                        </tr>
                        <tr class="o_last_month">
                            <td class="o_label">Last Month</td>
                            <td><t t-esc="widget.data.totalLastMonth"/> <t t-esc="widget.data.uomName"/></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="o_production_filter">
                <div class="o_search">
                    <input class="o_search_input" 
                    t-attf-data-value="widget.operationType ? widget.operationType.value" 
                    t-attf-value="{{ widget.operationType ? widget.operationType.name : '' }}"/>
                    <span class="o_search_icon fa fa-chevron-down"/>
                    <div class="o_search_dropdown d-none">
                        <ul>
                            <t t-foreach="widget.operationTypes" t-as="operationType">
                                <li class="o_operation_type" t-att-data-value="operationType.value"><t t-esc="operationType.name"/></li>
                            </t>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="DashboardTotalVehicle">
        <div class="o_total_vehicle">
            <table class="o_table_total_vehicle">
                <tbody>
                    <tr class="o_vehicle_count">
                        <td>Total Vehicle</td>
                        <td class="o_vehicle_value"><t t-esc="widget.data.totalVehicle"/></td>
                    </tr>
                    <tr class="o_vehicle_maintenance_count">
                        <td>Vehicle under Maintenance</td>
                        <td class="o_vehicle_value"><t t-esc="widget.data.totalVehicleMaintenance"/></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="DashboardTotalFuel">
        <div class="o_fuel">
            <table class="o_table_fuel">
                <tbody>
                    <tr class="o_total_fuel">
                        <td>Total Fuel Consumption This Month</td>
                    </tr>
                    <tr class="o_fuel_value">
                        <td><t t-esc="widget.data.totalFuel"/> <t t-esc="widget.data.uomName"/></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="DashboardTotalMaintenance">
        <div class="o_maintenance_time">
            <div class="o_total_maintenance_time">Total Maintenance Time Last 7 Days</div>
            <table class="table o_table_maintenance_time">
                <thead>
                    <tr>
                        <th/>
                        <th>Asset</th>
                        <th>Asset Type</th>
                        <th>Duration (H)</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="widget.data" t-as="row">
                        <tr class="o_records" t-att-data-record-ids="row.ids.join()">
                            <td><t t-esc="row.sequence"/></td>
                            <td><t t-esc="row.name"/></td>
                            <td><t t-esc="row.type"/></td>
                            <td><t t-esc="row.duration"/></td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="DashboardVehicle">
        <div class="o_vehicle">
            <div class="o_title"><t t-esc="widget.label"/></div>
            <div class="o_content_wrapper">
                <div class="o_content">
                    <ul>
                        <t t-foreach="widget.data" t-as="asset">
                            <li t-att-data-id="asset.id" class="o_record"><t t-esc="asset.display_name"/></li>
                        </t> 
                    </ul>
                </div>
            </div>
        </div>
    </t>

    <t t-name="DashboardOperationType">
        <div class="o_operation_type_notebook o_notebook">
            <div class="o_notebook_headers">
                <ul class="nav nav-tabs">
                    <t t-foreach="widget.data" t-as="ot">
                        <li class="nav-item">
                            <a t-attf-class="nav-link {{ ot.active ? 'active' : '' }}" 
                            data-toggle="tab" 
                            disable_anchor="true" 
                            t-attf-href="#operation_type_tab" 
                            t-att-data-value="ot.value"
                            role="tab">
                                <t t-esc="ot.name"/>
                            </a>
                        </li>
                    </t>
                </ul>
            </div>
            <div class="tab-content">
                <div t-attf-class="tab-pane active" id="operation_type_tab">
                    <div class="o_operation_type_content">
                        <div class="o_operation_type_section">
                            <div class="o_total_production_graph_box o_w100"></div>
                        </div>

                        <div class="o_operation_type_section">
                            <div class="o_stripping_ratio_box o_w50"></div>
                            <div class="o_production_per_pit_box o_w50"></div>
                        </div>

                        <div class="o_operation_type_section">
                            <div class="o_production_per_day_box o_w100"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="DashboardBoxChart">
        <div t-attf-class="o_box_chart {{ widget.additionalClass ? widget.additionalClass : '' }}">
            <div class="o_box_chart_title"><t t-esc="widget.title"/></div>
            <div class="o_box_chart_container">
                <canvas t-att-id="widget.canvasId" t-att-height="widget.canvasHeight"/>
            </div>
        </div>
    </t>

    <t t-name="MiningSiteDashboard">
        <div class="o_mining_site_dashboard">
            <div class="o_dashboard_content">
                <div class="o_section o_h20">
                    <div class="o_subsection o_w33">
                        <div class="o_box o_total_production_box"></div>
                    </div>
                    <div class="o_subsection o_w33">
                        <div class="o_box o_total_vehicle_box"></div>
                    </div>
                    <div class="o_subsection o_w33">
                        <div class="o_box o_total_fuel_box"></div>
                    </div>
                </div>

                <div class="o_section o_h80">
                    <div class="o_w66">
                        <div class="o_h56">
                            <div class="o_subsection o_w100">
                                <div class="o_box o_weather"></div>
                            </div>
                        </div>
                        <div class="d-flex o_h43">
                            <div class="o_subsection o_w33">
                                <div class="o_box o_maintenance_box"></div>
                            </div>
                            <div class="o_subsection o_w33">
                                <div class="o_box o_operative_box"></div>
                            </div>
                            <div class="o_subsection o_w33">
                                <div class="o_box o_breakdown_box"></div>
                            </div>
                        </div>
                    </div>
                    <div class="o_w33">
                        <div class="o_subsection o_w100">
                            <div class="o_box o_total_maintenance_box"></div>
                        </div>
                    </div>
                </div>
                
                <div class="o_section">
                    <div class="o_subsection o_w100">
                        <div class="o_box o_operation_type_box"></div>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>