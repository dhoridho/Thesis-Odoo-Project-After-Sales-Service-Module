<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="equip3_ph_hr_working_schedule_inherit_resource_calendar_form" model="ir.ui.view">
            <field name="name">resource.calendar.form.inherit</field>
            <field name="model">resource.calendar</field>
            <field name="inherit_id" ref="resource.resource_calendar_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="before">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,generated"/>
                        <button name="action_generate" string="Generate" type="object" class="oe_highlight" attrs="{'invisible':['|',('schedule','=','fixed_schedule'),('state','=','generated')]}"/>
                    </header>
                </xpath>
                <xpath expr="//field[@name='hours_per_day']" position="before">
                    <field name="schedule" widget="radio" options="{'horizontal':true}" nolable="1"/>
                </xpath>
                <xpath expr="//group[@name='resource_details']" position="inside">
                    <group name="schedule_period">
                        <field name="schedule_period_from" attrs="{'invisible' : [('schedule', '=', 'fixed_schedule')]}"/>
                        <field name="schedule_period_to" attrs="{'invisible' : [('schedule', '=', 'fixed_schedule')]}"/>
                    </group>
                </xpath>

                <xpath expr="//field[@name='attendance_ids']" position="after">
                    <field name="attendance_ids" context="{'attendance_ids': attendance_ids}">
                        <tree editable="bottom">
                            <field name="name" required="0" attrs="{'column_invisible': [('parent.schedule', '=', 'shift_pattern')]}"/>
                            <field name="dayofweek" string="Name of Day" attrs="{'column_invisible': [('parent.schedule', '=', 'shift_pattern')]}"/>
                            <field name="sequence" string="No" attrs="{'column_invisible': [('parent.schedule', '!=', 'shift_pattern')]}"/>
                            <field name="shifting_id" attrs="{'column_invisible': [('parent.schedule', '!=', 'shift_pattern')]}"/>
                            <field name="total_days" attrs="{'column_invisible': [('parent.schedule', '!=', 'shift_pattern')], 'required': [('parent.schedule', '=', 'shift_pattern')]}"/>
                            <field name="hour_from" widget="float_time" string="Work From" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="hour_to" widget="float_time" string="Work To" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="tolerance_for_late" widget="float_time" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="break_from" string="Allowed Start Break" widget="float_time" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="break_to" string="Allowed End Break" widget="float_time" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="maximum_break" widget="float_time" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                            <field name="minimum_hours" widget="float_time" attrs="{'readonly': [('parent.schedule', '=', 'shift_pattern')]}" force_save="1"/>
                        </tree>
                    </field>
                </xpath>

                <xpath expr="//page[@name='working_hours']" position="after">
                    <page string="Calendar Working Times" name="calendar_working_times" attrs="{'invisible': [('state', '=', 'draft')]}">
                        <field name="calendar_working_time_ids">
                            <tree editable="bottom">
                                <field name="working_date" />
                                <field name="shifting_id"/>
                                <field name="work_from" widget="float_time" string="Work From"/>
                                <field name="work_to" widget="float_time" string="Work To"/>
                                <field name="tolerance_for_late" widget="float_time"/>
                                <field name="break_from" widget="float_time" string="Allowed Start Break"/>
                                <field name="break_to" widget="float_time" string="Allowed End Break"/>
                                <field name="maximum_break" widget="float_time"/>
                                <field name="minimum_hours" widget="float_time"/>
                            </tree>
                        </field>
                    </page>
                </xpath>

                <xpath expr="//field[@name='global_leave_ids']/tree/field[@name='name']" position="attributes">
                   <attribute name="style">width: 50%%</attribute>
                </xpath>

                <xpath expr="//field[@name='global_leave_ids']/tree/field[@name='date_from']" position="attributes">
                   <attribute name="style">width: 25%%</attribute>
                </xpath>
                
                <xpath expr="//field[@name='global_leave_ids']/tree/field[@name='date_to']" position="attributes">
                   <attribute name="style">width: 25%%</attribute>
                </xpath>

                <xpath expr="//field[@name='attendance_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
