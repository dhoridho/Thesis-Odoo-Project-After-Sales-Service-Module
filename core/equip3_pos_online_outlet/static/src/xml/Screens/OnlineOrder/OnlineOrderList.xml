<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="OnlineOrderList" owl="1">
        <div class="ticket-screen screen order-online-list" t-on-activate-edit-mode="activateEditMode">
            <div class="screen-content">
                <div class="controls">
                    <div class="buttons">
                        <button class="highlight" t-on-click="back" t-if="state.detailIsShown">
                            <i class="fa fa-chevron-left"></i>
                            <t t-if="!env.isMobile"> Back</t>
                        </button>
                        <button class="highlight" t-on-click="back" t-if="!state.detailIsShown" t-att-class="backButtonAddClass">
                            <i class="fa fa-chevron-left"></i>
                            <t t-if="!env.isMobile"> Back</t>
                        </button>

                        <button class="highlight backtohome-button" t-on-click="backToHome" t-if="!state.detailIsShown" t-att-class="backtohomeButtonAddClass">
                            <i class="fa fa-chevron-left"></i>
                            <t t-if="!env.isMobile"> Back</t>
                        </button>

                        <button class="highlight close-screen-button" t-on-click="closeScreen" t-if="!state.detailIsShown" t-att-class="closeScreenButtonAddClass">
                            <i class="fa fa-chevron-left"></i>
                            <t t-if="!env.isMobile"> Back</t>
                        </button>

                    </div>
                    <SearchBar automaticSearchOrder="true" t-if="!state.detailIsShown" config="searchBarConfig" placeholder="'Search OnlineOrder...'"/>

                    <OnlineOutletStatus t-if="!state.detailIsShown"/>

                    <button class="button-right" t-on-click="clearSearch">
                        <i class="fa fa-refresh "></i>
                        <t t-if="!env.isMobile"> Show All</t>
                    </button>
                </div>
                <div t-if="state.detailIsShown" class="client-details-contents subwindow-container-fix">
                    <OnlineOrderDetail order="state.editModeProps.order" t-props="state.editModeProps"/>
                    <!-- TODO: when props change, OnlineOrderDetail will change, It reason we call t-props
                    -->
                </div>
                <table class='summary-table' t-if="getOrders and getOrders.length != 0">
                    <colgroup>
                        <col width="7%"/>
                        <col width="15%"/>
                        <col width="10%"/>
                        <col width="10%"/>
                        <col width="8%"/>
                        <col width="10%"/>
                        <col width="15%"/>
                        <col width="10%"/>
                        <col width="15%"/>
                    </colgroup>
                    <tr class="receipt-line header">
                        <td style="text-align: left">
                            Order From
                        </td>
                        <td style="text-align: left">
                            Order Type
                        </td>
                        <td style="text-align: left">
                            Info
                        </td>
                        <td style="text-align: center">
                            Order Date
                        </td>
                        <td style="text-align: center">
                            Ready Time
                        </td>
                        <td style="text-align: center">
                            Is Ready?
                        </td>
                        <td style="text-align: center">
                            Total
                        </td>
                        <td style="text-align: center">
                            Online Status
                        </td>
                        <td style="text-align: center">
                            Status
                        </td>
                        <td>
                            Action
                        </td>
                    </tr>
                    <t t-set="number" t-value="1"/>
                    <t t-foreach="getOrders" t-as="order" t-key="order.id">
                        <OnlineOrderRow order="order"
                            number="number"
                            t-att-class="{'highlight': getHighlight}"
                            selectedOrder="state.selectedOrder"
                            detailIsShown="state.detailIsShown"
                            t-on-click-accept-order="actionAcceptOrder"
                            t-on-click-reject-order="actionRejectOrder"
                            t-on-click-create-pos-order="actionCreatePOSOrder"
                            t-on-click-order="clickOrder"/> 
                        <t t-set="number" t-value="number +1"/>
                    </t>
                </table>
                <t t-else="">
                    <h1 class="loading-orders">... NOT FOUND ANY ONLINE ORDER ...</h1>
                </t>
            </div>
        </div>
    </t>

</templates>
