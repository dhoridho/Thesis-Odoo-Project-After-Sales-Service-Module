<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="OnlineOrderDetail" owl="1">
        <t t-set="order" t-value="props.order"/>
        <section class='client-details edit'
                 style="max-height: 600px;min-height: 300px;height: fit-content;">
            <style>
                .pos .screen.OnlineOrder-list .client-details.edit .client-detail .label {
                    width: 150px;
                }
            </style>
            <div class="header">
                
            </div>
            <div class='client-name'>
                <a class='so_link' target='_blank' order="order" t-att-href="OrderUrl" title="Open OnlineOrder">
                    <t t-if="order.order_number">
                        <t t-esc="order.order_number"/>
                    </t>
                    <t t-else="">
                        N/A
                    </t>
                    <span> </span>
                    <span>(Click Open Order)</span>
                </a>
            </div>
            <div class='client-details-box clearfix'>
                <div class='client-details-left'>
                    <div class='client-detail'>
                        <span class='label'>Order From</span>
                        <t t-esc="getOrderFrom(order.order_from) or 'N/A'"/>
                    </div>
                    <div class='client-detail'>
                        <span class='label'>Order Type</span>
                        <t t-esc="getOrderType(order.order_type) or 'N/A'"/>
                    </div>
                    <div class='client-detail'>
                        <span class='label'>Order Number</span>
                        <t t-esc="order.order_number or 'N/A'"/>
                    </div>
                    <div class='client-detail'>
                        <span class='label'>Order Date</span>
                        <span>
                            <t t-if="order.order_date">
                                <t t-esc="getDate(order.order_date)"/>
                            </t>
                            <t t-else="">
                                N/A
                            </t>
                        </span>
                    </div>
                    <div class='client-detail'>
                        <span class='label'>Online Status</span>
                        <t t-esc="order.online_state or 'N/A'"/>
                    </div>
                </div>
                <div class='client-details-right'>
                    <div class='client-detail'>
                        <span class='label'>Amount Total</span>
                        <t t-esc="env.pos.format_currency(order.amount_total)"/>
                    </div>
                    <div class='client-detail'>
                        <span class='label'>Status</span>
                        <span style="text-transform:capitalize;">
                            <t t-esc="order.state or 'N/A'"/>
                        </span>
                    </div>
                </div>

                <!--  -->
            </div>
            <div class='client-details-box clearfix'>
                <div class='client-detail'>
                    <div class='lines_detail'>
                        <table style=" width: 100%; display: table;">
                            <tr style=" background-color: gray; color: white;">
                              <th style="text-align: left; padding:4px;">Product</th>
                              <th style="text-align: left; padding:4px;">Note</th>
                              <th style="text-align: right; padding:4px;">Price</th>
                              <th style="text-align: center; padding:4px;">Quantity</th>
                              <th style="text-align: right; padding:4px;">Subtotal</th>
                            </tr>
                            <t t-set="number" t-value="1"/>
                            <t t-foreach="getOnlineOrderLines" t-as="line" t-key="line.id">
                                <tr>
                                    <td style="text-align: left;padding:4px;">
                                        <t t-esc="line.product_id[1] or 'N/A'"/>
                                    </td>
                                    <td style="text-align: left;padding:4px;">
                                        <t t-esc="line.note or '-'"/>
                                    </td>
                                    <td style="text-align: right;padding:4px;">
                                        <t t-esc="env.pos.format_currency(line.price)"/>
                                    </td>
                                    <td style="text-align: center;padding:4px;">
                                        <t t-esc="line.qty or 'N/A'"/>
                                    </td>
                                    <td style="text-align: right;padding:4px;">
                                        <t t-esc="env.pos.format_currency(line.subtotal)"/>
                                    </td>
                                    <t t-set="number" t-value="number +1"/>
                                </tr>
                            </t>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </t>
</templates>
