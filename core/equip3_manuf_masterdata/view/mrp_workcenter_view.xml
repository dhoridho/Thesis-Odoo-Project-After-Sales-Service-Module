<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="workcenter_location_inherit" model="ir.ui.view">
        <field name="name">mrp.workcenter.location.form.inherit</field>
        <field name="model">mrp.workcenter</field>
        <field name="inherit_id" ref="mrp.mrp_workcenter_view"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='%(mrp.mrp_workorder_report)d']" position="after">
                <button name="%(mrp_workorder_finished)d" type="action" class="oe_stat_button" icon="o-hm-sidebar-sub-pos-history" context="{'search_default_workcenter_id': id}">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_text">Production History</span>
                    </div>
                </button>
            </xpath>
            <field name="company_id" position="after">
                <field name="is_branch_required" invisible="1"/>
                <field name="branch_id" attrs="{'required': [('is_branch_required', '=', True)]}" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="create_date" string="Created On" readonly="1"/>
                <field name="create_uid" string="Created By" required="True" readonly="1"/>
            </field>
            <field name="name" position="replace">
                <field name="name" string="Name" required="True"/>
                <field name="location_id" domain="[('usage', '=', 'internal'), '|', ('branch_id', '=', branch_id), ('branch_id', '=', False)]" required="True" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="location_finished_id" domain="[('usage', '=', 'internal'), '|', ('branch_id', '=', branch_id), ('branch_id', '=', False)]" required="True" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="location_rejected_id" domain="[('usage', '=', 'internal'), '|', ('branch_id', '=', branch_id), ('branch_id', '=', False)]" required="True" options="{'no_create': True, 'no_create_edit': True}"/>
                <field name="location_byproduct_id" domain="[('usage', '=', 'internal'),'|', ('branch_id', '=', branch_id), ('branch_id', '=', False)]" required="True" options="{'no_create': True, 'no_create_edit': True}"/>
            </field>
            <xpath expr="//page[@name='general_info']/group[1]" position="after">
                <separator string="Overhead Time" invisible="1"/>
                <field name="oh_time" invisible="1">
                    <tree editable="bottom">
                        <field name="product" required="True" options="{'no_create': True, 'no_create_edit':True}"/>
                    </tree>
                </field>
                <separator string="Overhead Material" invisible="1"/>
                <field name="ov_material" invisible="1">
                    <tree editable="bottom">
                        <field name="product" required="True" options="{'no_create': True, 'no_create_edit':True}"/>
                        <field name="consumed"/>
                        <field name="consumed_uom"/>
                    </tree>
                </field>
            </xpath>
             <xpath expr="//form" position="inside">
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </xpath>

            <xpath expr="//field[@name='alternative_workcenter_ids']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

        </field>
    </record>

    <record id="mrp_workcenter_tree_view_inherit" model="ir.ui.view">
        <field name="name">mrp.workcenter.tree.view.inherit</field>
        <field name="model">mrp.workcenter</field>
        <field name="inherit_id" ref="mrp.mrp_workcenter_tree_view"/>
        <field name="arch" type="xml">
            <field name="company_id" position="attributes">
                    <attribute name="invisible">1</attribute>
                </field>
        </field>
    </record>

</odoo>