<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- mrp.workcenter.group multi-company & multi-branch rules -->
    <record id="mrp_workcenter_group_company_rule" model="ir.rule">
        <field name="name">Mrp WorkCenter Group Multi-Company</field>
        <field name="model_id" ref="model_mrp_workcenter_group"/>
        <field name="domain_force">[
            '|', 
                ('company_id', '=', False), 
                ('company_id', 'in', company_ids)
        ]</field>
    </record>

    <record id="mrp_workcenter_group_branch_rule" model="ir.rule">
        <field name="name">Mrp WorkCenter Group Multi-Branch</field>
        <field name="model_id" ref="model_mrp_workcenter_group"/>
        <field name="domain_force">[
            '|',
                ('branch_id', '=', False),
                ('branch_id', 'in', branch_ids)
        ]</field>
    </record>

    <!-- mrp.workcenter multi-branch rule, multi-company rule already added on mrp module -->
    <record id="mrp_workcenter_branch_rule" model="ir.rule">
        <field name="name">Mrp WorkCenter Multi-Branch</field>
        <field name="model_id" ref="model_mrp_workcenter"/>
        <field name="domain_force">[
            '|',
                ('branch_id', '=', False),
                ('branch_id', 'in', branch_ids)
        ]</field>
    </record>

    <!-- mrp.bom multi-branch rule, multi-company rule already added on mrp module -->
    <record id="mrp_bom_branch_rule" model="ir.rule">
        <field name="name">Mrp Bill of Material Multi-Branch</field>
        <field name="model_id" ref="model_mrp_bom"/>
        <field name="domain_force">[
            '|',
                ('branch_id', '=', False),
                ('branch_id', 'in', branch_ids),
            '|',
                ('operation_ids', '=', False),
                '|',
                    ('operation_ids.branch_id', '=', False),
                    ('operation_ids.branch_id', 'in', branch_ids)
        ]</field>
    </record>

    <!-- mrp.routing.workcenter multi-branch rule, multi-company rule already added on mrp module -->
    <record id="mrp_routing_workcenter_branch_rule" model="ir.rule">
        <field name="name">Mrp Routing WorkCenter Multi-Branch</field>
        <field name="model_id" ref="model_mrp_routing_workcenter"/>
        <field name="domain_force">[
            '|',
                ('branch_id', '=', False), 
                ('branch_id', 'in', branch_ids),
            '|',
                ('bom_id', '=', False),
                '|',
                    ('bom_id.branch_id', '=', False),
                    ('bom_id.branch_id', 'in', branch_ids),
            '|', 
                ('workcenter_id', '=', False),
                '|',
                    ('workcenter_id.branch_id', '=', False),
                    ('workcenter_id.branch_id', 'in', branch_ids)
        ]</field>
    </record>
</odoo>