<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="pos_online_outlet_campaign_form_inherit" model="ir.ui.view">
        <field name="name">pos.online.outlet.campaign.form.inherit</field>
        <field name="model">pos.online.outlet.campaign</field>
        <field name="inherit_id" ref="equip3_pos_online_outlet.pos_online_outlet_campaign_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='oe_title_header']" position="after">
                <group attrs="{'invisible': [('campaign_type','!=','grabfood')]}">
                    <group>
                        <separator name="conditions" string="Conditions"/>
                        <field name="outlet_id"
                            attrs="{'required': [('campaign_type','=','grabfood')]}" options="{'no_create':True}" />
                        <field name="start_date"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="end_date"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="eater_type"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="min_basket_amount"/>
                        <field name="bundle_quantity"/>

                        <separator string="Quotas"/>
                        <field name="total_count"/>
                        <field name="total_count_per_user"/>

                        <separator name="applicable_days"  string="Applicable Days"/>
                        <field name="start_time" widget="float_time"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="end_time" widget="float_time"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="is_sunday"/>
                        <field name="is_monday"/>
                        <field name="is_tuesday"/>
                        <field name="is_wednesday"/>
                        <field name="is_thursday"/>
                        <field name="is_friday"/>
                        <field name="is_saturday"/>
                    </group>
                    <group>
                        <separator name="discount" string="Discount"/>
                        <field name="discount_type"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="discount_value"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="discount_cap" attrs="{'invisible': [('discount_type','!=','percentage')]}"/>
                        <field name="discount_scope"
                            attrs="{'required': [('campaign_type','=','grabfood')]}"/>
                        <field name="discount_product_ids" 
                            attrs="{'invisible': [('discount_scope','!=','items')], 'required': [('discount_scope','=','items')]}" 
                            options="{'no_create':True}" 
                            widget="many2many_tags"/>
                        <field name="discount_category_ids" 
                            attrs="{'invisible': [('discount_scope','!=','category')], 'required': [('discount_scope','=','category')]}"
                            options="{'no_create':True}" 
                            widget="many2many_tags"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
</odoo>