<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="purchase_requisition_line_view_tree" model="ir.ui.view">
        <field name="name">purchase.requisition.line.view.tree</field>
        <field name="model">purchase.requisition.line</field>
        <field name="arch" type="xml">
            <tree create="false" edit="false" default_order='create_date desc'>
                <field name="requisition_id" string="Blanket Order Reference" optional="show"/>
                <field name="vendor_id" optional="show"/>
                <field name="product_id" optional="show"/>
                <field name="product_description_variants" string="Product Description" optional="show"/>
                <field name="product_qty" optional="show"/>
                <field name="qty_ordered" optional="show"/>
                <field name="qty_received" optional="show"/>
                <field name="qty_invoiced" optional="show"/>
                <field name="qty_remaining" optional="show"/>
                <field name="product_uom_id" string="UoM" optional="show"/>
                <field name="schedule_date" optional="show"/>
                <field name="destination_warehouse" optional="hide"/>
                <field name="account_tag_ids" optional="hide"/>
                <field name="price_unit" optional="show"/>
                <field name="branch_id" optional="hide"/>
                <field name="company_id" optional="hide"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="product_purchase_blanket_order_lines_orders">
        <field name="name">Purchase Blanket Order Lines</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.requisition.line</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'services_good': 0, 'default_is_goods_orders' : True}</field>
        <field name="domain">[('is_goods_orders', '=', True)]</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('equip3_purchase_other_operation.purchase_requisition_line_view_tree')})]" />
    </record>

    <record model="ir.actions.act_window" id="product_purchase_blanket_order_lines_orders_services">
        <field name="name">Purchase Blanket Order Lines</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.requisition.line</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'services_good': 1, 'default_is_services_orders' : True}</field>
        <field name="domain">[('is_services_orders', '=', True)]</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('equip3_purchase_other_operation.purchase_requisition_line_view_tree')})]" />
    </record>

    <record model="ir.actions.act_window" id="product_purchase_blanket_order_lines">
        <field name="name">Purchase Blanket Order Lines</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.requisition.line</field>
        <field name="view_mode">tree,form</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'tree', 'view_id': ref('equip3_purchase_other_operation.purchase_requisition_line_view_tree')})]" />
    </record>

    <menuitem id="main_menu_blanket_orders_goods" name="Purchase Blanket Orders"
              parent="purchase.menu_procurement_management" sequence="12" />

    <menuitem id="purchase_requisition.menu_purchase_requisition_pro_mgt" name="Purchase Blanket Order" action="purchase_requisition.action_purchase_requisition"
              parent="equip3_purchase_other_operation.main_menu_blanket_orders_goods" sequence="12" />
          
    <menuitem id="menu_purchase_blanket_order_lines_goods" name="Purchase Blanket Order Lines" action="product_purchase_blanket_order_lines_orders"
              parent="equip3_purchase_other_operation.main_menu_blanket_orders_goods" sequence="12" />

    <menuitem id="main_menu_balnket_orders_services" name="Purchase Blanket Orders"
              parent="equip3_purchase_operation.menu_purchase_services_goods" sequence="10" />

    <menuitem id="menu_purchase_blanket_order_lines_services" name="Purchase Blanket Order Lines" action="product_purchase_blanket_order_lines_orders_services"
              parent="equip3_purchase_other_operation.main_menu_balnket_orders_services" sequence="10" />
</odoo>