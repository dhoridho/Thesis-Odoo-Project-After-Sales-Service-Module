<?xml version="1.0"?>
<odoo>

    <!--Patient Test Results-->
    <record model="ir.ui.view" id="patient_laboratory_test_view">
        <field name="name">Laboratory Test</field>
        <field name="model">patient.laboratory.test</field>
        <field name="inherit_id" ref="acs_laboratory.patient_laboratory_test_view"/>
        <field name="arch" type="xml">
            <field name="physician_id" position="after">
                <field name="appointment_id" domain="[('patient_id','=',patient_id)]"/>
            </field>
            <field name="date_analysis" position="after">
                <field name="hospitalization_id" domain="[('patient_id','=',patient_id)]"/>
                <field name="print_in_discharge" attrs="{'invisible': [('hospitalization_id', '=', False)]}"/>
            </field>
        </field>
    </record>

    <!--Patient Lab Results-->
    <record model="ir.ui.view" id="patient_laboratory_test_request_form">
        <field name="name">Test Requests</field>
        <field name="model">acs.laboratory.request</field>
        <field name="inherit_id" ref="acs_laboratory.patient_laboratory_test_request_form"/>
        <field name="arch" type="xml">
            <field name="lab_bill_id" position="before">
                <field name="hospitalization_id" domain="[('patient_id','=',patient_id)]"/>
                <field name="appointment_id" domain="[('patient_id','=',patient_id)]"/>
                <field name="treatment_id" domain="[('patient_id','=',patient_id)]"/>
            </field>
        </field>
    </record>

</odoo>