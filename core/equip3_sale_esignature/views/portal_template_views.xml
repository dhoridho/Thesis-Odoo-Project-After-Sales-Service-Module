<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="portal_my_details" inherit_id="portal.portal_my_details">
        <xpath expr="//div[hasclass('col-lg-8')]/div[hasclass('row')]" position="before">
            <h2 class="mt-3" style="font-weight:bold;margin-bottom: -20px;">Company</h2>
        </xpath>
        <xpath expr="//div[hasclass('col-lg-8')]/div[hasclass('row')]" position="after">
            <h2 class="mt-3" style="font-weight:bold;">PIC</h2>
            <div class="row">
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_name">Name</label>
                    <input type="text" name="pic_name" class="form-control" t-att-value="pic_partner.name" />
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="email">Email</label>
                    <input type="email" name="pic_email" class="form-control" t-att-value="pic_partner.email" />
                </div>

                <div class="clearfix" />
                <div class="form-group col-xl-6">
                    <label class="col-form-label label-optional" for="pic_company_name">Company Name</label>
                    <input type="text" name="pic_company_name" class="form-control" disabled="disabled" t-att-value="partner.commercial_company_name"/>
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label label-optional" for="pic_vat">VAT Number</label>
                    <input type="text" disabled="disabled" name="pic_vat" class="form-control" t-att-value="partner.vat"/>
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_phone">Phone</label>
                    <input type="tel" name="pic_phone" class="form-control" t-att-value="pic_partner.phone" />
                </div>

                <div class="clearfix" />
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_street">Street</label>
                    <input type="text" name="pic_street" class="form-control" t-att-value="pic_partner.street"/>
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_city">City</label>
                    <input type="text" name="pic_city" class="form-control" t-att-value="pic_partner.city" />
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label label-optional" for="pic_zipcode">Zip / Postal Code</label>
                    <input type="text" name="pic_zipcode" class="form-control" t-att-value="pic_partner.zip" />
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_country_id">Country</label>
                    <select name="pic_country_id" class="form-control">
                        <option value="">Country...</option>
                        <t t-foreach="countries or []" t-as="country">
                            <option t-att-value="country.id" t-att-selected="country.id == int(country_id) if country_id else country.id == pic_partner.country_id.id">
                                <t t-esc="country.name" />
                            </option>
                        </t>
                    </select>
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label label-optional" for="pic_state_id">State / Province</label>
                    <select name="pic_state_id" class="form-control">
                        <option value="">select...</option>
                        <t t-foreach="states" t-as="state">
                            <option t-att-value="state.id" t-att-data-pic_country_id="state.country_id.id" t-att-selected="state.id == pic_partner.state_id.id">
                                <t t-esc="state.name" />
                            </option>
                        </t>
                    </select>
                </div>
                <div class="form-group col-xl-6">
                    <label class="col-form-label" for="pic_identity_number">Identity Number</label>
                    <input type="text" name="pic_identity_number" t-att-value="partner.identity_number" class="form-control" />
                </div>
            </div>
        </xpath>
        <xpath expr="//button[@type='submit']" position="after">
            <button type="button" class="btn register_privy btn-primary float-right mr-2 mb32" t-if="not partner.signature_token">
                Register Privy
            </button>
            <button type="button" class="btn btn-primary float-right mr-2 mb32 privy_account" t-if="partner.signature_token">
                Privy Account
            </button>
        </xpath>
    </template>

</odoo>