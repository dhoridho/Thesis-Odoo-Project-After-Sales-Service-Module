<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
   <t t-name="ProductExchangePopup" owl="1">
        <div class="modal-dialog">
            <div class="popup popup-textinput return_popup_style">
                <div class="title">
                    <span>
                        Exchange Products 
                    </span>
                    <span class="button" id="complete_exchange" t-on-click="click_complete_exchange" style="position: absolute;right: 1%;top: -1%;background-color: #5c92a7;color: white;width: 28%;">
                        Complete Exchange
                    </span>
                </div>
                <div class="body" style="margin: 5px;">
                    <div class='container_div'>
                        <table border="1" frame="void" rules="rows" class="return_popup_table">
                            <tr class="return_popup_tr">
                                <th class="table_data_cells"><p>Product (<span style="color:#2f6e75">Qty</span>.)</p></th>
                                <th class="table_data_cells">Exchange Qty.</th>
                            </tr>

                            <t t-foreach="props.orderlines || []" t-as="line" t-key="line.id">
                                <tr class="return_popup_tr">
                                    <td class="table_data_cells"><t t-esc="line.product_id[1]"/> (<b style="color:#2f6e75"><t t-esc="line.qty - line.line_qty_returned"/></b>)</td>
                                    <td class="table_data_cells exchange_qty"><input 
                                        t-att-line-qty-remaining='line.qty - line.line_qty_returned' 
                                        t-att-line-line_qty_returned="line.line_qty_returned" 
                                        t-att-line-id="line.id" 
                                        t-att-line-product-id="line.product_id[0]" 
                                        t-att-line-price_unit="line.price_unit"
                                        t-att-line-discount="line.discount"
                                        t-att-line-qty="line.qty"
                                        t-att-line-price_subtotal="line.price_subtotal"
                                        t-att-line-price_subtotal_incl="line.price_subtotal_incl"
                                        type="number" 
                                        value="0"></input></td>
                                </tr>
                            </t>

                        </table>
                    </div>
                </div>
                <div class="footer">
                    <div class="button" id="exchange_order" t-on-click="click_exchange_order" style="background-color: rgb(94, 191, 143);color: white;">
                        Exchange
                    </div>
                    <div class="button cancel" t-on-click="cancel">
                        Cancel
                    </div>
                </div>
            </div>
        </div>
   </t>
</templates>