<odoo>

    <record id="view_customer_inherit_sale_purchase" model="ir.ui.view">
        <field name="name">view.customer.inherit.sale.purchase</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="equip3_sale_operation.view_customer_inherit" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='email']" position="after">
                <field name="is_approving_matrix_customer" invisible="1" />
                <field name="state" invisible="1"/>
                <field name="state2" invisible="1"/>
                <field name="state3" invisible="1"/>
                <button name="action_request_for_approval" string="Request For Approval" type="object" class="oe_highlight" invisible="1"/>
                <button name="action_approved" string="Approve" type="object" class="oe_highlight" invisible="1"/>
                <button name="action_rejected" string="Reject" type="object" class="decoration-secondary" invisible="1"/>
                <button name="action_set_to_draft" string="Set to Draft" type="object" class="oe_highlight" invisible="1"/>
            </xpath>

            <xpath expr="//button[@name='%(equip3_purchase_masterdata.blacklist_partner_wiz_action)d']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
                
            <xpath expr="//button[@name='%(equip3_purchase_masterdata.whitelist_partner_wiz_action)d']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
              
            <xpath expr="//button[@name='action_set_to_draft']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
              
            <xpath expr="//field[@name='parent_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
              
            <xpath expr="//widget[@name='web_ribbon']" position="attributes">
                <attribute name="attrs">{'invisible': ['|',('active', '=', True),('state_customer','=','blacklisted')]}</attribute>
            </xpath>
            
            <xpath expr="//widget[@name='web_ribbon']" position="after">
                <widget name="web_ribbon" title="Blacklisted" bg_color="bg-dark" attrs="{'invisible': ['|',('active', '=', True),('state_customer','!=','blacklisted')]}"/>
            </xpath>

            <xpath expr="//field[@name='state_customer']" position="before">
                <field name="is_approving_matrix_customer" invisible="1"/>
                <field name="is_approve_button_customer" invisible="1"/>
                <field name="approving_matrix_customer_id" invisible="1"/>
                <field name="customer_rank" invisible="1"/>
                <field name="is_customer" invisible="1"/>
                
                
                
                <button name="action_request_for_approval_customer" string="Request For Approval" type="object" class="oe_highlight" 
                    attrs="{'invisible':['|','|','|', ('state_customer', '!=', 'draft'), ('is_approving_matrix_customer', '=', False),
                    ('customer_rank', '=', 0),('is_customer', '=', False)]}"/>
                <button name="action_approved_customer" string="Approve" type="object" class="oe_highlight" attrs="{'invisible':['|', '|', '|',('state_customer', '!=', 'waiting_approval'), ('is_approving_matrix_customer', '=', False), ('is_approve_button_customer', '=', False), ('customer_rank', '=', 0)]}"/>
                <button name="action_rejected_customer" string="Reject" type="object" class="decoration-secondary" attrs="{'invisible':['|', '|', '|',('state_customer', '!=', 'waiting_approval'), ('is_approving_matrix_customer', '=', False), ('is_approve_button_customer', '=', False), ('customer_rank', '=', 0)]}"/>
                <button name="action_set_to_draft_customer" string="Set to Draft" type="object" class="oe_highlight" attrs="{'invisible':['|' ,('state_customer', '!=', 'rejected'), ('state_customer', '=', 'blacklisted')]}"/>
                <button string="Blacklist" name="%(equip3_purchase_masterdata.blacklist_partner_wiz_action)d" type="action" class="" attrs="{'invisible':[('state_customer','=','blacklisted')]}"/>
                <button string="Unblacklist" name="%(equip3_purchase_masterdata.whitelist_partner_wiz_action)d" type="action" class="" attrs="{'invisible':[('state_customer','!=','blacklisted')]}"/>
              </xpath>

        </field>
    </record>
</odoo>