<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="student_form_view_button_visibility" model="ir.ui.view">
        <field name="name">student.form.view.button.visibility</field>
        <field name="model">student.student</field>
        <field name="inherit_id" ref="equip3_school_operation.view_order_form_inherit_student"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_apply']" position="attributes">
                <attribute name="groups">school.group_school_administration</attribute>
            </xpath>

            <xpath expr="//button[@name='action_reject']" position="attributes">
                <attribute name="attrs">{'invisible' : ['|', ('is_approve_button', '=', False), ('state', 'not in', ('applied', 'done'))]}</attribute>
            </xpath>
        </field>
    </record>
</odoo>