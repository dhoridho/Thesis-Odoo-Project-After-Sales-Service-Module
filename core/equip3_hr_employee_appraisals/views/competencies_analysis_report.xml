<odoo>
<data>

    <record id="employee_performance.report_competencies_pivot" model="ir.ui.view">
        <field name="name">report.competencies.pivot</field>
        <field name="model">report.competencies.appraisal</field>
        <field name="arch" type="xml">
           <pivot string="Employee Competencies" disable_linking="True">
               <field name="employee_id" type="row"/>
               <field name="target"  type="measure"/>
               <field name="score" string="Self Assessment" type="measure"/>
               <field name="final_assessment" string="Final Assessment" type="measure"/>
               <field name="weightage"  type="measure"/>
               <field name="competency_match" string="Competency Match (%)"  type="measure"/>
               <field name="competency_gap"  type="measure"/>
               <field name="weightage_score"  type="measure"/>
           </pivot>
        </field>
   </record>

   <record id="compentencies_analysis_search" model="ir.ui.view">
        <field name="name">report.competencies.appraisal.search</field>
        <field name="model">report.competencies.appraisal</field>
        <field name="arch" type="xml">
            <search>
                <field name="employee_id"/>
                <field name="competency_areas"/>
            </search>
        </field>
    </record>

   <record id="employee_performance.report_report_competencies_pivot_action" model="ir.actions.act_window">
    <field name="name">Competency Analysis</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">report.competencies.appraisal</field>
    <field name="view_mode">pivot</field>
    <field name="view_id" ref="employee_performance.report_competencies_pivot"/>
</record>

<menuitem id="employee_performance.menu_report_competencies" 
name="Competency Analysis"
parent="employee_performance.menu_reporting_config" 
action="employee_performance.report_report_competencies_pivot_action" />

<record model='ir.ui.menu' id='employee_performance.menu_report_competencies'>
    <field name="groups_id" eval="[(6, 0, [ref('equip3_hr_employee_appraisals.group_hr_appraisal_manager')])]"/>
</record>




</data>


</odoo>