<odoo>
<data>



    <record id="report_report_key_performance_apraisal_pivot" model="ir.ui.view">
        <field name="name">report.key.performance.pivot</field>
        <field name="model">report.key.performance.appraisal</field>
        <field name="arch" type="xml">
           <pivot string="Employee Perform Analysis" disable_linking="True">
               <field name="employee_id" type="row"/>
               <field name="target"  type="measure"/>
               <field name="employee_rate" string="Self Assessment" type="measure"/>
               <field name="manager_rate" string="Final Assessment" type="measure"/>
               <field name="weightage" string="Weightage" type="measure"/>
               <field name="assessment_score" string="Assessment Score (%)" type="measure"/>
               <field name="weightage_score" string="Weightage Score " type="measure"/>
           </pivot>
        </field>
   </record>

   <record id="performance_analysis_search" model="ir.ui.view">
        <field name="name">report.key.performance.appraisal.search</field>
        <field name="model">report.key.performance.appraisal</field>
        <field name="arch" type="xml">
            <search>
                <field name="employee_id"/>
                <field name="job_id"/>
            </search>
        </field>
    </record>

    <record id="employee_performance.report_report_key_performance_pivot_action" model="ir.actions.act_window">
        <field name="name">Performance Analysis</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">report.key.performance.appraisal</field>
        <field name="view_mode">pivot</field>
        <field name="view_id" ref="report_report_key_performance_apraisal_pivot"/>
    </record>


    <menuitem id="employee_performance.menu_report_performance" 
    name="Performance Analysis"
    parent="employee_performance.menu_reporting_config" 
    action="employee_performance.report_report_key_performance_pivot_action" />

    <record model='ir.ui.menu' id='employee_performance.menu_report_performance'>
        <field name="groups_id" eval="[(6, 0, [ref('equip3_hr_employee_appraisals.group_hr_appraisal_manager')])]"/>
    </record>



</data>


</odoo>