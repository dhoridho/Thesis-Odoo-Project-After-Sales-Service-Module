<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="succession_planning_view_form" model="ir.ui.view">
            <field name="name">appraisals.succession.planning.view.form</field>
            <field name="model">appraisals.succession.planning</field>
            <field name="arch" type="xml">
                <form string="">
                    <header>
                        <button name="action_find_successor_candidate"
                                string="Find Successor Candidates"
                                type="object"
                                class="oe_highlight"
                                attrs="{'invisible': ['|', ('show_find_successor', '=', False), ('is_generated', '=', True)]}" />
                    </header>
                    <sheet>
                        <group>
                            <label for="name" class="oe_edit_only"/>
                            <h1><field name="name" /></h1>
                            
                            <field name="job_id" />
                            <field name="successor_template_id" />
                            <field name="show_find_successor" invisible="1" />
                            <field name="is_generated" invisible="1" />
                        </group>
                        <group name="position_holder" string="Job Position Holder">
                            <field name="position_holder_ids" nolabel="1">
                                <kanban default_group_by="job_id" default_order="current_score desc" limit="5"  quick_create="false" group_create="false" create="false" delete="false">
                                    <field name="job_id"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div t-attf-class="oe_kanban_color_1 oe_kanban_card oe_semantic_html_override o_kanban_record">
                                                <div class="row">
                                                    <div class="col-6 d-flex align-items-center justify-content-center">
                                                        <div class="d-home">
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong>
                                                                    <field name="name"/>
                                                                </strong>
                                                            </div>
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong class="o_kanban_record_title">
                                                                    <field name="job_id" />
                                                                </strong>
                                                            </div>
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong>
                                                                    <field name="email"/>
                                                                </strong>
                                                            </div>
                                                            <div class="button-details">
                                                                    <button string="Details"
                                                                            name="%(equip3_hr_employee_appraisals.hr_appraisal_job_position_holder_wizard_action)d"
                                                                            class="btn btn-primary"
                                                                            type="action">
                                                                            Details
                                                                    </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-6 d-flex align-items-center justify-content-center">
                                                        <div class="text-center">
                                                            <strong>
                                                                Current Score
                                                            </strong><br/>
                                                            <span>
                                                                <field name="current_score"/> %
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="oe_clear"/>
                                            </div>
                                            
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </group>

                        <group name="successor_candidate" string="Successor Candidate">
                            <field name="successor_candidate_ids" nolabel="1">
                                <kanban default_group_by="job_id" default_order="current_score desc" limit="5"  quick_create="false" group_create="false" create="false" delete="false">
                                    <field name="job_id"/>
                                    <templates>
                                        <t t-name="kanban-box">
                                            <div t-attf-class="oe_kanban_color_1 oe_kanban_card oe_semantic_html_override o_kanban_record">
                                                <div class="row">
                                                    <div class="col-6 d-flex align-items-center justify-content-center">
                                                        <div class="d-home">
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong>
                                                                    <field name="name"/>
                                                                </strong>
                                                            </div>
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong class="o_kanban_record_title">
                                                                    <field name="job_id" />
                                                                </strong>
                                                            </div>
                                                            <div style="max-width:150px;overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                                                                <strong>
                                                                    <field name="email" />
                                                                </strong>
                                                            </div>
                                                            <div class="button-details">
                                                                    <button string="Details"
                                                                            name="%(equip3_hr_employee_appraisals.hr_appraisal_successor_candidate_wizard_action)d"
                                                                            class="btn btn-primary"
                                                                            type="action">
                                                                            Details
                                                                    </button>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-6 d-flex align-items-center justify-content-center">
                                                        <div class="text-center">
                                                            <div class="col-12">
                                                                <strong>
                                                                    Target Score
                                                                </strong><br/>
                                                                <span>
                                                                    <field name="target_score"/> %
                                                                </span>
                                                            </div>
                                                            <div class="col-12">
                                                                <strong>
                                                                    Current Score
                                                                </strong><br/>
                                                                <span>
                                                                    <field name="current_score"/> %
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="oe_clear"/>
                                            </div>
                                            
                                        </t>
                                    </templates>
                                </kanban>
                            </field>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="succession_planning_view" model="ir.ui.view">
            <field name="name">appraisals.succession.planning.tree</field>
            <field name="model">appraisals.succession.planning</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name" readonly="1"/>
                </tree>
            </field>
        </record>

        <record id="succession_planning_action" model="ir.actions.act_window">
            <field name="name">Succession Planning</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">appraisals.succession.planning</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                There is no data click here to add new Successor Parameter.
                </p>
            </field>
        </record>

        <menuitem
            name="Succession Planning"
            id="succession_planning_menu"
            parent="employee_performance.menu_template"
            action="succession_planning_action"
            sequence="4"/>

    </data>
</odoo>