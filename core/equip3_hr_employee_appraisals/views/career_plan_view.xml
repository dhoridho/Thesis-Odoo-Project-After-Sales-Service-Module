<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <record id="employee_career_interest_tree_view" model="ir.ui.view">
            <field name="name">employee.career.interest.tree</field>
            <field name="model">employee.career.interest</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name="job_interest"/>   
                    <field name="department_id" force_save="1"/>   
                    <field name="current_manager_ids" force_save="1" widget="many2many_tags"/>   
                    <field name="description"/>
                    <field name="create_date" string = "Created On" />  
                    <field name="create_uid"  invisible="1" />   
                </tree>
            </field>
        </record>
        
        <record id="employee_career_interest_view_form" model="ir.ui.view">
            <field name="name">employee.career.interest.view.form</field>
            <field name="model">employee.career.interest</field>
            <field name="arch" type="xml">
                <form string="Create Plan">
                    <sheet>
                        <group>
                            <field name="job_interest" />
                            <field name="description" />
                            
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- <record model="ir.actions.act_window" id="action_career_interest">
            <field name="name">My Career Interest</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">employee.career.interest</field>
            <field name="view_mode">tree</field>
            <field name="domain">[('create_uid', '=', uid)]</field>
        </record> -->

        <record id="action_career_interest" model="ir.actions.server">
            <field name="name">My Career Interest</field>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="model_id" ref="equip3_hr_employee_appraisals.model_employee_career_interest"/>
            <field name="code">action = model.custom_menu()</field>
        </record>

         <menuitem name="Career Plan" id="menu_career_plan" 
                  parent="employee_performance.menu_template" sequence="4" />

        <menuitem name="My Career Interest" id="menu_career_interest" action="action_career_interest"
                  parent="menu_career_plan" sequence="1" />

        <record model='ir.ui.menu' id='menu_career_interest'>
            <field name="groups_id" eval="[(6, 0, [ref('equip3_hr_employee_appraisals.group_hr_appraisal_self_service')])]"/>
        </record>

        <record id="hr_employee_career_plan_view_form" model="ir.ui.view">
            <field name="name">hr.employee.view.form.inherit.career.plan</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='public']" position="after">
                    <page name="career_plan" string="Career Interest">
                        <div class="row">
                            <div class="col-lg-12 d-flex">
                               
                                <field mode="tree" nolabel="1" name="career_plan_ids" widget="employee_career_interest">
                                    <tree>
                                        <field name="create_date" string = "Created On" />
                                        <field name="job_interest"/>
                                    </tree>
                                </field>   
                            </div>
                        </div>
                    </page>
                </xpath>
        </field>
    </record>



       



       

        

                                              

        

    </data>
</odoo>