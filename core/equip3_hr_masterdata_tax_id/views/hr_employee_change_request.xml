<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="hr_employee_change_request_form_view_inherit" model="ir.ui.view">
            <field name="name">hr.employee.change.request.form.inherit</field>
            <field name="model">hr.employee.change.request</field>
            <field name="inherit_id" ref="equip3_hr_masterdata_employee.hr_employee_change_request_form_view"/>
            <field name="arch" type="xml">
                <field name="country_id" position="after">
                    <field name="country_domicile_code" options='{"no_open": True, "no_create": True}' force_save="1" readonly="1"/>
                </field>
                <xpath expr="/form/sheet/notebook/page[@name='personal_information']/group/group[4]" position="after">
                    <group string="BPJS Information" invisible="1">
                        <field name="bpjs_ketenagakerjaan_no" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="bpjs_ketenagakerjaan_date" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="bpjs_kesehatan_no" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="bpjs_kesehatan_date" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                    </group>
                    <group string="Tax Information" invisible="1">
                        <field name="is_expatriate" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="expatriate_tax" attrs="{'invisible': [('is_expatriate', '!=', True)], 'required': [('is_expatriate', '=', True)], 'readonly':[('state','not in',['draft'])]}"/>
                        <field name="is_tax_treaty" attrs="{'invisible': [('expatriate_tax', '!=', 'pph26')], 'required': [('expatriate_tax', '=', 'pph26')], 'readonly':[('state','not in',['draft'])]}"/>
                        <field name="have_npwp" widget="radio" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="npwp_no" widget="mask" data-inputmask-mask="99.999.999.9-999.999"
                               attrs="{'invisible': [('have_npwp', '!=', 'yes')], 'required': [('have_npwp', '=', 'yes')], 'readonly':[('state','not in',['draft'])]}"/>
                        <field name="employee_tax_category" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="employee_tax_status" required="1" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="tax_calculation_method" required="1" readonly="1"/>
                        <field name="ptkp_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}" attrs="{'readonly':[('state','not in',['draft'])]}"/>
                        <field name="kpp_id" attrs="{'invisible': [('have_npwp', '!=', 'yes')], 'required': [('have_npwp', '=', 'yes')], 'readonly':[('state','not in',['draft'])]}" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,'no_create': True}"/>
                    </group>
                </xpath>
            </field>
        </record>
    
    </data>
</odoo>