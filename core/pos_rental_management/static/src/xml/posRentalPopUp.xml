<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="WkRentSelectionPopUp" owl="1">
        <div class="modal-dialog">
            <div class="wk_redeem_popup" style="padding:10px;overflow:hidden;">
                <header class="title">
                    <i class="fa fa-times cancel" t-on-click="cancel" style="font-size:25px;float:right;margin-top:-5px;cursor:pointer" aria-hidden="true"></i>
                    <t t-if="props.product.isRangeSelectionPopup">
                        <i class="fa fa-arrow-left cancel" t-on-click="back" style="font-size:25px;float:left;margin-top:-5px;cursor:pointer" aria-hidden="true"></i>
                    </t>
                </header>
                <div class="wk_loyalty_image">
                    <img style="pointer-events: none;" src="/pos_rental_management/static/description/icon.png" width="70px" height="70px" />
                    <h3 style="font-size:18px">Rent Configuration</h3>
                </div>
                <div style="height:40vh; overflow-y:auto;">
                    <div>
                        <table>
                            <!-- <t t-debug="pdb"></t> -->
                            <t t-if="props.product.isTenureOptionsPopup">
                                <t t-call="tenureOptionsTemplate"/>
                            </t>
                            <t t-if="props.product.isRangeSelectionPopup">
                                <t t-call="rangeSelectionTemplate"/>
                            </t>
                        </table>
                    </div>
                    <div>
                        <alert class="popupWarningMessage" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">
                            <small>Warning!!</small>
                        </alert>
                    </div>
                </div>
                <t t-if="props.product.isRangeSelectionPopup">
                    <footer>
                        <button class="button wk_redeem_now" t-on-click="return_product_price">PROCEED</button>
                    </footer>
                </t>
            </div>
        </div>
    </t>

    <t t-name="tenureOptionsTemplate" owl="1">
        <tr class="predefined-tenure-options">
            <td>
                <t t-debug="pdb"></t>
                <t t-foreach="props.product.tenure_data" t-as="data" t-key="data.id">
                    <t t-if="props.line.selectedTenure and props.line.selectedTenure.id == data.id">
                        <button style="color:#37644e;margin-right:10px;" t-on-click="_open_range_selection_popup" class="button wk_redeem_now active" t-att-tenure-id="data.id" t-att-uom-id="data.tenure_uom_id[0]">
                            <t t-esc="data.name + ' @'+ env.pos.format_currency(data.tenure_amount)+ '/'+data.tenure_uom_id[1].replace('(s)', '')"/>
                        </button>
                    </t>
                    <t t-else="">
                        <button style="color:#37644e;margin-right:10px;" t-on-click="_open_range_selection_popup" class="button wk_redeem_now" t-att-tenure-id="data.id" t-att-uom-id="data.tenure_uom_id[0]">
                            <t t-esc="data.name + ' @'+ env.pos.format_currency(data.tenure_amount)+ '/'+data.tenure_uom_id[1].replace('(s)', '')"/>
                        </button>
                    </t>
                </t>
            </td>
        </tr>
    </t>

    <t t-name="rangeSelectionTemplate" owl="1">
        <tr>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:11px">Selected Tenure</h3>
            </td>
            <td>
                <h3 style="color:#37644e; margin-left: 50px;text-align: start;">
                    <t t-esc="env.pos.format_currency(props.product.selectedTenure.tenure_amount)+ '/'+props.product.selectedTenure.tenure_uom_id[1].replace('(s)', '')"/>
                </h3>
            </td>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:-120px;">Minimum 
                    <t t-esc="props.product.selectedTenure.tenure_uom_id[1]"/>
                Required</h3>
            </td>
            <td>
                 <h3 style="color:#37644e; margin-left: 10px;text-align: start;">
                    <t t-esc="props.product.selectedTenure.tenure_start_count"/>
                </h3>
            </td>
        </tr>
        <tr>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:11px">Tenure Count</h3>
            </td>
            <td>
                <input type="number" t-att-value="props.line.added_tenure_count" class="tenure_count" required="1" style="margin-left:-17%;;max-width: 120px;height:25px;"/>
                <h3 style="display: inline;margin-left: 3px;">
                    <t t-esc="props.product.selectedTenure.tenure_uom_id[1]"/>
                </h3>
            </td>
            <t t-if="props.product.is_security_required">
                <td style="text-align:left">
                    <h3 style="font-size:16px;margin-left:11px">Security Amount </h3>
                </td>
                <td>
                    <h3 style="color:#37644e; margin-left: 10px;text-align: start;">
                        <t t-esc=" env.pos.format_currency(props.product.rental_security_amount) || ''  " />
                    </h3>
                </td>
            </t>
        </tr>
        <tr>
            <h3 style="font-size:16px;margin-left:-15px">OR</h3>
        </tr>
        <tr>
            <script>
                $(function() {
                    $("#startdatepicker").datepicker();
                    $("#enddatepicker").datepicker();
                });
            </script>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:11px">Start Date</h3>
            </td>
            <td>
                <div style="color:#37644e; margin-left: 30px;text-align: start;">
                    <input type="text" class="input_date" id="startdatepicker" placeholder="MM/DD/YYYY" style="height:25px;width: 120px;" t-att-value="props.line.startDate"/>
                </div>
            </td>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:-100px">End Date</h3>
            </td>
            <td>
                <div style="color:#37644e; margin-left: -50px;text-align: start;">
                    <input type="text" class="input_date" id="enddatepicker" placeholder="MM/DD/YYYY" style="height:25px;margin-right: 10px;margin-left: -8%;width: 120px;" t-att-value="props.line.endDate"/>
                </div>
            </td>
        </tr>
        <tr>
            <td style="text-align:left">
                <h3 style="font-size:16px;margin-left:11px;margin-top:20px">Description</h3>
            </td>
            <td>
                <textarea class="rental_note" t-att-value="props.line.rental_note" style="margin-left: 30px;min-width: 140%;height: 50px;margin-top:20px" placeholder="Add a Note...........">
                    <t t-esc="props.line.rental_note"/>
                </textarea>
            </td>
        </tr>
    </t>

</templates>
