<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_template_property_form" model="ir.ui.view">
        <field name="name">product.template.only.form.view</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="equip3_inventory_accessright_setting.view_template_property_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']/parent::h1" position="after">
                <label class="oe_edit_only mt-3" for="secret_name" string="Secret Name" attrs="{'invisible': [('is_secret_product', '=', False)]}" groups="equip3_manuf_inventory.group_use_secret_product"/>
                <h1 attrs="{'invisible': [('is_secret_product', '=', False)]}" groups="equip3_manuf_inventory.group_use_secret_product">
                    <field name="secret_name" placeholder="Secret Name" attrs="{'required': [('is_secret_product', '=', True)]}"/>
                </h1>
            </xpath>

            <xpath expr="//group[@name='accessright']" position="inside">
                <field name="is_secret_product" widget="boolean_toggle" groups="equip3_manuf_inventory.group_use_secret_product"/>
            </xpath>
        </field>
    </record>
</odoo>