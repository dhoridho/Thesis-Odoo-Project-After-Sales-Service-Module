<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <record id="recur_account_payment_register_form" model="ir.ui.view">
        <field name="name">recur.account.payment.register.form</field>
        <field name="model">account.payment.register</field>
        <field name="inherit_id" ref="account.view_account_payment_register_form" />
        <field name="arch" type="xml">
            <xpath expr="//group/group[@name='group2']" position="after">
                <group name='prepayment1' col='4' attrs="{'invisible': [('is_show_prepayment','=',False)]}">
                    <field name="is_prepayment"/>
                    <field name="is_show_prepayment" invisible="1"/>
                </group>

                    <!-- <label for="is_prepayment"/> -->
                    <!-- <div class="o_row">
                        <field name="is_prepayment" nolabel="1"/>
                        <span class="text-muted">The Prepayment used for prepaid transactions. Please check your invoice account is prepayment account to ensure the journal entries is correct</span>
                    </div> -->

                <group></group>
                <span class="text-muted" attrs="{'invisible':[('is_prepayment','=',False)]}">
                The Prepayment used for prepaid transactions. Please check your invoice account is prepayment account to ensure the journal entries is correct
                </span>
                <group></group>
                <group name='prepayment2'>
                    <field name="prepayment_journal_id" domain="[('type','in',['general','bank','cash'])]" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}" modifiers="{'required':true}" />
                    <field name="start_date" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}" modifiers="{}"/>
                    <field name="end_date" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}" modifiers="{}"/>

                    <field name="move_type" invisible='1' />

                    <field name="revenue_account" attrs="{'invisible':['|', ('move_type','=','in_invoice'), ('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>

                    <field name="revenue_account" string='Expense Account' attrs="{'invisible':['|', ('move_type','=','out_invoice'), ('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>

                    <!-- <div name='wage' modifiers="{}" style='margin-right:10px;'>
                        <label for="revenue_account" style="font-weight: bold;" attrs="{'invisible': ['|', ('is_prepayment','=',False), ('move_type','=','in_invoice')]}"/>
                        <label for="revenue_account" style="font-weight: bold;" string="Expense Account" attrs="{'invisible': ['|', ('is_prepayment','=',False), ('move_type','=','out_invoice')]}"/>
                    </div>
                    <div class="o_row" name="wage" modifiers="{}">
                        <field name="revenue_account" style='margin-left:10px;' nolabel='1' attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}" />
                    </div> -->
                    <!-- <field name="revenue_account" string='Expense Account' attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>
                    
                    <field name="revenue_account" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[ ('is_prepayment','=',True)]}"/> -->
                    <!-- , 'domain':[('user_type_id','in',('Income', 'Other Income'))] -->
                </group>
            </xpath>

            <xpath expr="//group/group[@name='prepayment2']" position="after">
                <group name='prepayment3'>
                    <label for="recurring_interval" modifiers="{}" attrs="{'invisible':[('is_prepayment','=',False)]}"/>
                    <div class="o_row" name="wage" modifiers="{}">
                        <field name="recurring_interval" nolabel="1" id="recurring_interval" modifiers="{}" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>
                        <span modifiers="{}">
                            <field name="recurring_interval_unit" on_change="1" id="recurring_interval_unit" modifiers="{}" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>
                        </span>
                    </div>
                    <label for="stop_recurring_interval" modifiers="{}" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>
                    <div class="o_row" name="wage" modifiers="{}">
                        <field name="stop_recurring_interval" nolabel="1" on_change="1" id="stop_recurring_interval" modifiers="{}" attrs="{'invisible':[('is_prepayment','=',False)], 'required':[('is_prepayment','=',True)]}"/>
                        <span modifiers="{}">
                            <field name="stop_recurring_interval_unit" nolabel="1" modifiers="{}" id="stop_recurring_interval_unit" attrs="{'invisible':[('is_prepayment','=',False)], 'readonly':True}"/>
                        </span>
                    </div>
                </group>
            </xpath>

        </field>
    </record>

</odoo>