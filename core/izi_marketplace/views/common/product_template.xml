<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data noupdate="0">
    <record id="izi_marketplace.form_product_template_form_view" model="ir.ui.view">
      <field name="name">Product Template Form View</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="equip3_inventory_masterdata.view_product_template_tab_form_new"/>
      <field name="arch" type="xml">
        <xpath expr="//page[@name='general_information_new']" position="inside">
          <notebook attrs="{'invisible':[('map_line_ids', '=', [])]}">
            <page string="Marketplace Product">
              <group name="marketplace" string="Marketplace Products">
                <field name="map_line_ids" nolabel="1">
                  <tree order="marketplace">
                    <field name="marketplace"/>
                    <field name="mp_account_id"/>
                    <field name="name"/>
                    <field name="default_code"/>
                    <field name="map_type"/>
                    <field name="state"/>
                  </tree>
                </field>
              </group>
            </page>
          </notebook>
        </xpath>
      </field>
    </record>
    <record id="izi_marketplace.form_product_template_only_form_view" model="ir.ui.view">
      <field name="name">Product Template Only Form View</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_only_form_view"/>
      <field name="arch" type="xml">
        <header position="inside">
            <button string="Upload to Marketplace" type="object" name="action_post_marketplace" attrs="{'invisible': ['|', ('type', '!=', 'product'), ('is_marketplace', '!=', True)]}"/>
        </header>
        <!-- <xpath expr="//div[@class='oe_title']/div[@name='options']" position="inside">
          <div>
            <field name="is_marketplace"/>
            <label for="is_marketplace"/>
          </div>
        </xpath> -->
        <xpath expr="//notebook" position="inside">
          <page name="marketplace" string="Marketplace">
            <group name="mp_type" string="Marketplace">
              <div>
                <div>
                  <field name="is_marketplace"/>
                  <label for="is_marketplace"/>
                </div>
                <div attrs="{'invisible': [('is_marketplace', '=', False)]}">
                  <field name="is_shopee"/>
                  <label for="is_shopee"/>`
                </div>
                <div attrs="{'invisible': [('is_marketplace', '=', False)]}">
                  <field name="is_tokopedia"/>
                  <label for="is_tokopedia"/>
                </div>
                <div attrs="{'invisible': [('is_marketplace', '=', False)]}">
                  <field name="is_lazada"/>
                  <label for="is_lazada"/>
                </div>
                <div attrs="{'invisible': [('is_marketplace', '=', False)]}">
                  <field name="is_tiktok"/>
                  <label for="is_tiktok"/>
                </div>
              </div>
            </group>
            <notebook>
                <page string="Shopee Information" name="shopee" attrs="{'invisible': ['|', ('is_shopee', '=', False), ('is_marketplace', '=', False)]}">
                    <group>
                        <group>
                            <label for="sp_item_id"/>
                            <div class="o_row" name="sp_item_id">
                              <field name="sp_item_id" readonly="1" force_save="1"/>
                            </div>
                        </group>
                    </group>
                </page>
                <page string="Tokopedia Information" name="tokopedia" attrs="{'invisible': ['|', ('is_tokopedia', '=', False), ('is_marketplace', '=', False)]}">
                    <group>
                        <group>
                            <label for="tp_item_id"/>
                            <div class="o_row" name="tp_item_id">
                              <field name="tp_item_id" readonly="1" force_save="1"/>
                            </div>
                        </group>
                    </group>
                </page>
                <page string="Lazada Information" name="lazada" attrs="{'invisible': ['|', ('is_lazada', '=', False), ('is_marketplace', '=', False)]}">
                    <group>
                        <group>
                            <label for="lz_item_id"/>
                            <div class="o_row" name="lz_item_id">
                              <field name="lz_item_id" readonly="1" force_save="1"/>
                            </div>
                        </group>
                    </group>
                </page>
                <page string="Tiktok Shop Information" name="tiktok" attrs="{'invisible': ['|', ('is_tiktok', '=', False), ('is_marketplace', '=', False)]}">
                    <group>
                        <group>
                            <label for="tts_item_id"/>
                            <div class="o_row" name="tts_item_id">
                              <field name="tts_item_id" readonly="1" force_save="1"/>
                            </div>
                        </group>
                    </group>
                </page>
                <page string="Logistic" name="mp_logistic" groups="product.group_stock_packaging" attrs="{'invisible':['|', ('type', '=', 'service'), ('is_marketplace', '=', False)]}">
                    <group name="logistic">
                        <group name="group_lots_and_weight" string="Logistics" attrs="{'invisible': [('type', 'not in', ['product', 'consu'])]}">
                          <label for="weight"/>
                          <div class="o_row" name="weight">
                              <field name="weight" widget="float" attrs="{'required': [('is_marketplace', '=', True)]}"/>
                              <span><field name="weight_uom_name"/></span>
                          </div>
                          <label for="volume"/>
                          <div class="o_row" name="volume">
                              <field name="volume" string="Volume" widget="float"/>
                              <span><field name="volume_uom_name"/></span>
                          </div>
                        </group>
                        <group name="dimention" string="Dimention">
                          <label for="mp_length"/>
                          <div class="o_row">
                              <field name="mp_length" widget="integer" attrs="{'required': [('is_marketplace', '=', True)]}"/>
                              <span>cm</span>
                          </div>
                          <label for="mp_width"/>
                          <div class="o_row">
                              <field name="mp_width" widget="integer" attrs="{'required': [('is_marketplace', '=', True)]}"/>
                              <span>cm</span>
                          </div>
                          <label for="mp_height"/>
                          <div class="o_row">
                              <field name="mp_height" widget="integer" attrs="{'required': [('is_marketplace', '=', True)]}"/>
                              <span>cm</span>
                          </div>
                        </group>
                    </group>
                </page>
                <page name="notes" string="Description" attrs="{'invisible': [('is_marketplace', '=', False)]}">
                    <group name="description">
                        <group string="Description for Customers">
                            <field name="description" nolabel="1" placeholder="This note will show up on sales orders."/>
                        </group>
                    </group>
                </page>
                <page name="images" string="Images" attrs="{'invisible': [('is_marketplace', '=', False)]}">
                    <button name="action_create_images_wizard" string="Upload Image" type="object" class="btn-primary mb-lg-3"/>
                    <group string="Product Images">
                        <field class="o_website_sale_image_list" name="mp_product_image_ids" nolabel="1" view_mode="tree,form">
                            <tree string="Upload or remove image" create="0" delete="1">
                                <field name="sequence" widget="handle"/>
                                <field class="oe_avatar" name="image" widget="image"/>
                                <field name="name" readonly="1"/>
                                <field name="file_name" force_save="1" invisible="1"/>
                                <field name="mimetype" invisible="1"/>
                                <field name="image_width" invisible="1"/>
                                <field name="image_height" invisible="1"/>
                            </tree>
                        </field>
                    </group>
                </page>
                <page name="mp_variants" string="Variants" attrs="{'invisible': [('is_marketplace', '=', False)]}">
                    <button name="action_create_variants_marketplace" string="Create Variants" type="object" class="btn-primary mb-lg-3"/>
                    <button name="action_delete_variants_marketplace" string="Delete All Variants" type="object" class="btn-primary mb-lg-3 ml-2"/>
                    <field name="mp_attribute_value_ids">
                        <tree editable="bottom"  create="0" delete="0">
                            <field name="attribute_value_ids" widget="many2many_tags"/>
                            <field name="default_code" required="True"/>
                            <field name="quantity"/>
                            <field name="sales_price"/>
                            <field name="product_tmpl_id" invisible="1" />
                            <field name="product_id" invisible="1" />
                        </tree>
                    </field>
                    <p class="oe_grey oe_edit_only">
                        <strong>Info</strong>: adding variant in above form first
                        and input additional field here, e.g. sku, image, stock and original price.
                    </p>
                </page>
                <page string="Wholesales" name="wholesale" attrs="{'invisible': [('is_marketplace', '=', False)]}">
                    <group string="Product Wholesales">
                        <field name="mp_product_wholesale_ids" nolabel="1" view_mode='tree'>
                            <tree>
                                <field name="min_qty" readonly="1"/>
                                <field name="max_qty" readonly="1"/>
                                <field name="price" readonly="1"/>
                            </tree>
                        </field>
                    </group>
                </page>
            </notebook>
          </page>
        </xpath>
        <xpath expr="//page[@name='variants']" position="attributes">
          <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
      </field>
    </record>
    <record id="izi_marketplace.form_hidden_page_product_template1" model="ir.ui.view">
      <field name="name">form.hidden.page.product.template1</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="equip3_general_features.view_product_template_form_inherited"/>
      <field name="arch" type="xml">
        <xpath expr="//page[@name='Alternative']" position="attributes">
          <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
      </field>
    </record>
    <record id="izi_marketplace.form_hidden_page_product_template2" model="ir.ui.view">
      <field name="name">form.hidden.page.product.template2</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_form_view"/>
      <field name="arch" type="xml">
        <xpath expr="//notebook" position="inside">
          <field name="is_marketplace" invisible="1"/>
        </xpath>
        <xpath expr="//group[@name='invoicing']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='sales']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='purchase']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='shop']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='invoicing']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='inventory']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
      </field>
    </record>
    <record id="izi_marketplace.form_hidden_page_product_template3" model="ir.ui.view">
      <field name="name">form.hidden.page.product.template3</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="point_of_sale.product_template_form_view"/>
      <field name="arch" type="xml">
        <xpath expr="//notebook" position="inside">
          <field name="is_marketplace" invisible="1"/>
        </xpath>
        <xpath expr="//page[@name='pos']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
      </field>
    </record>
    <record id="izi_marketplace.form_hidden_page_product_template4" model="ir.ui.view">
      <field name="name">Product Template Form View</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="equip3_inventory_masterdata.view_product_template_tab_form_new"/>
      <field name="arch" type="xml">
        <xpath expr="//notebook" position="inside">
          <field name="is_marketplace" invisible="1"/>
        </xpath>
        <xpath expr="//page[@name='general_information_new']//group//group[last()]" position="attributes">
            <attribute name="attrs">{'invisible': [('is_marketplace', '=', True)]}</attribute>
        </xpath>
        <xpath expr="//page[@name='general_information_new']" position="inside">
            <group string="Description" name="marketplace_description" attrs="{'invisible': [('is_marketplace', '=', False)]}">
                <field name="description" nolabel="1" placeholder="This note is only for internal purposes."/>
            </group>
        </xpath>
      </field>
    </record>
  </data>
</odoo>