<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>

        <record model="ir.ui.menu" id="odoo_consignment_process.menu_consignment_customer_orders">
            <field name='name'>Consignment Orders</field>
        </record>

        <!-- ACTION DO CONSIGNMENT -->
        <record id="action_do_consignment" model="ir.actions.act_window">
            <field name="name">Delivery Consignment</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('is_consignment','=',True),('picking_type_code', '=', 'outgoing')]</field>
            <!-- <field name="context">{}</field> -->
            <field name="context">{'default_is_consignment' : True,'picking_type_code': 'outgoing'}</field>
            <!-- <field name="search_view_id" ref="stock.view_picking_internal_search"/> -->
        </record>

        <!-- MENU DO CONSIGNMENT -->
        <menuitem
            id="menu_do_consignment"
            name="Delivery Consignment"
            parent="odoo_consignment_process.menu_consignment_inventory"
            action="action_do_consignment"
            sequence="13" />

        <!-- ACTION RN CONSIGNMENT -->
        <record id="action_rn_consignment" model="ir.actions.act_window">
            <field name="name">Receiving Consignment</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('is_consignment','=',True),('picking_type_code', '=', 'incoming')]</field>
            <field name="context">{'default_is_consignment' : True,'picking_type_code': 'incoming', 'create': False, 'group_header': False}</field>

        </record>

        <!-- MENU RN CONSIGNMENT -->
        <menuitem
            id="menu_rn_consignment"
            name="Receiving Consignment"
            parent="odoo_consignment_process.menu_consignment_inventory"
            action="action_rn_consignment"
            sequence="12" />

        <!-- ACTION for vendors -->
        <record id="odoo_consignment_process.action_partner_consigners_form" model="ir.actions.act_window">
            <field name="domain">[('vendor_sequence', '!=', False),('supplier_rank', '>', 0),('is_vendor', '=', True),('state2','=','approved')]</field>
        </record>

        <!-- VIEW SALE ORDER LINE CONSIGNMENT  -->

        <!-- <record id="reporting_marginal_report" model="ir.ui.view">
            <field name="name">Marginal Report</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="product_id"/>
                    <field name="consignor"/>
                    <field name="consignee"/>
                    <field name="default_code"/>
                    <field name="purchase_order_id"/>
                    <field name="product_lots"/>
                    <field name="product_qty"/>
                    <field name="unit_price"/>
                    <field name="purchase_price"/>
                    <field name="purchase_qty"/>
                    <field name="purchase_total"/>
                    <field name="sale_order_line"/>
                    <field name="sale_qty"/>
                    <field name="sale_price"/>
                    <field name="margin"/>
                    <field name="consignment_status"/> -->
                    <!-- <field name="purchase_order_line_id"/> -->
                <!-- </tree>
            </field>
        </record> -->

        <!-- ACTION MARGINAL REPORT -->
        <!-- <record id="action_marginal_report" model="ir.actions.act_window">
            <field name="name">Marginal Report</field>
            <field name="res_model">sale.order.line</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="reporting_marginal_report"/>
            <field name="context">{'default_is_consignment' : True}</field>
        </record> -->

        <!-- Menu Marginal Report -->
        <!-- <menuitem
            id="menu_marginal_report"
            name="Marginal Report"
            parent="odoo_consignment_process.menu_reporting_products"
            action="action_marginal_report"
            sequence="7" /> -->

    </data>


</odoo>
