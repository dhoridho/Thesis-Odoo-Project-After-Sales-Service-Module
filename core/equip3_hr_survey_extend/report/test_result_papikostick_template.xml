<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <template id="papikostick_test_result_template" >
        <div class="survey_ist">
            <t t-foreach="docs._print_report_custom()" t-as="doc">
                <div class="col-12 mb-4 text-center">
                    <h2 style="color: #be1e2d;">PAPI KOSTICK</h2>
                </div>

                <div class="mb-4 text-justify">
                    PAPI (Personality and Preference Inventory) adalah “personality assessment” (alat tes penilaian kepribadian) terkemuka yang digunakan oleh para profesional HR (Human Resource) dan manajer terkait untuk mengevaluasi perilaku dan gaya kerja Individu pada semua tingkatan. 
                    PAPI Kostick mengukur dinamika kepribadian (psychodynamics) dengan memerhatikan keterkaitan dunia sekitarnya (environment) termasuk perilaku dan nilai perusahaan (values) yang diterapkan dalam suatu perusahaan/situasi kerja dalam bentuk motif (need) dan standar gaya perilaku menurut persepsi kandidat (role) yang terekam saat psikotes.
                </div>
                
                <div class="divTable">
                    <div class="divTableRow">
                        <div class="divTableCell">Applicant ID</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['applicant_id']" /></div>

                        <div class="divTableCell">Psychological Category</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['psychological_category']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">Name</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['name']" /></div>

                        <div class="divTableCell">Gender</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['gender']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">E-mail</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['email']" /></div>

                        <div class="divTableCell">Age</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['age']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">Job Position</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['job_position']" /></div>

                        <div class="divTableCell">Test Date</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell">
                            <t t-esc="doc['taken_on']" 
                                t-options='{
                                    "widget": "datetime",
                                    "format": "dd/MM/yyyy HH:mm"
                                }'/>
                        </div>
                    </div>
                </div>

                <div class="col-12 mb-4 mt-4 text-center">
                    <h2 style="color: #be1e2d;">PAPI KOSTICK SCORE</h2>
                </div>
                <div class="row">
                    <div class="col-12">
                        <table class="main_table">
                            <thead>
                                <tr class="text-center" style="background-color: #be1e2d; color: white;">
                                    <th class="align-middle">Parameter</th>
                                    <th class="align-middle">Sub Parameter</th>
                                    <th class="align-middle">Code</th>
                                    <th class="align-middle">Score</th>
                                    <th class="align-middle">Score Category</th>
                                    <th class="align-middle">Final Score</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc['papikostick_score']" t-as="papikostick_score">
                                    <tr class="text-center">
                                        <td class="align-middle">
                                            <t t-esc="papikostick_score['parameter']" />
                                        </td>
                                        <td class="align-middle">
                                            <span t-raw="'&lt;br/&gt;'.join(papikostick_score['description_code'].split('\n'))" />
                                        </td>
                                        <td class="align-middle">
                                            <span 
                                                style="white-space: pre-wrap;" 
                                                t-esc="'\n'.join(papikostick_score['code_pl'].split())" />
                                        </td>
                                        <td class="align-middle">
                                             <span 
                                                style="white-space: pre-wrap;"
                                                t-esc="'\n'.join(papikostick_score['score_code'].split())" />
                                        </td>
                                        <td class="align-middle">
                                            <span t-raw="'&lt;br/&gt;'.join(papikostick_score['analysis'].split('\n'))" />
                                        </td>
                                        <td class="align-middle">
                                            <t t-esc="round(papikostick_score['score'], 2)" />
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-12 mt-4 text-center">
                    <h2 style="color: #be1e2d;">GRAFIK PAPI KOSTICK</h2>
                </div>
                <div class="row">
                    <div class="col-12">
                        <br/>
                        <div class="">
                            <img t-att-src="'data:image/png;base64,%s' % doc['grafik_papikostick']"
                                    width="100%" />
                        </div>
                    </div>
                </div>
            </t>
        </div>
	</template>
</odoo>