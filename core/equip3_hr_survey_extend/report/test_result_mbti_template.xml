<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <template id="mbti_test_result_template" >
        <div class="survey_mbti">
            <t t-foreach="docs._print_report_custom()" t-as="doc">
                <div class="col-12 mb-4 text-center">
                    <h2 style="color: #be1e2d;">MBTI</h2>
                </div>

                <div class="mb-4 text-justify">
                    MBTI (Mayers-Briggs Type Indicator) adalah sebuah uji kepribadian yang pertama kali diperkenalkan oleh Katharine Cook Briggs dan anakynya, Isabel Briggs pada tahun 1942. Tes MBTI ini memiliki tujuan utama untuk menentukan tipe kepribadian agar semua orang bisa memahami dirinya dan mendapatkan pekerjaan yang sesuai dengan tipe kepribadiannya. Tes MBTI membagi kepribadian seseorang berdasarkan beberapa dikotomi kategori, yaitu Introversion [I] vs Extraversion [E], Intuitive [N] vs Sensory [S], Thinking [T] vs Feeling [F], dan Judging [J] vs Perceiving [P].
                </div>
                
                <div class="divTable">
                    <div class="divTableRow">
                        <div class="divTableCell">Applicant ID</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['applicant_id']" /></div>

                        <div class="divTableCell">Psychological Category</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['psychological_category']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">Name</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['name']" /></div>

                        <div class="divTableCell">Gender</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['gender']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">E-mail</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['email']" /></div>

                        <div class="divTableCell">Age</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['age']" /></div>
                    </div>

                    <div class="divTableRow">
                        <div class="divTableCell">Job Position</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell"><t t-esc="doc['job_position']" /></div>

                        <div class="divTableCell">Test Date</div>
                        <div class="divTableCell">:</div>
                        <div class="divTableCell">
                            <t t-esc="doc['taken_on']" 
                                t-options='{
                                    "widget": "datetime",
                                    "format": "dd/MM/yyyy HH:mm"
                                }'/>
                        </div>
                    </div>
                </div>

                <t t-foreach="doc['personality_ids']" t-as="personality">
                    <div class="col-12 mb-4 mt-4 text-center">
                        <h3 style="color: #be1e2d;">MBTI Personality</h3>
                        <h3 style="color: #be1e2d;"><t t-esc="personality['name']" /></h3>
                    </div>
                </t>

                <div class="personality-representation">
                    <img 
                        class="personality-representation mx-auto d-block"
                        t-att-src="'data:image/png;base64,%s' % doc['personality_representation']"
                        width="50%"/>
                </div>
                <!-- <div class="row">
                    <div class="col-12">
                        <br/>
                        <div class="grafik" style="margin-top: 300px;">
                            <img t-att-src="'data:image/png;base64,%s' % doc['personality_representation']"/>
                        </div>
                    </div>
                </div> -->

                <t t-foreach="doc['personality_ids']" t-as="personality">
                    <div class="col-12 mb-4 mt-4 text-center">
                        <h2 style="color: #be1e2d;"><t t-esc="personality['name']" /></h2>
                        <p><t t-esc="personality['description']" /></p>
                    </div>

                    <div class="col-12 mb-4 text-center">
                        <h4 style="color: black;">Advice and Self-Development</h4>
                        <p><t t-esc="personality['advice_and_self_development']" /></p>
                    </div>

                    <div class="col-12 mb-4 text-center">
                        <h4 style="color: black;">Suitable Profession</h4>
                        <p><t t-esc="personality['suitable_profession']" /></p>
                    </div>

                    <div class="col-12 mb-4 text-center">
                        <h4 style="color: black;">Famous Figure</h4>
                        <p><t t-esc="personality['famous_figure']" /></p>
                    </div>

                    <div class="col-12 mb-4 text-center">
                        <h4 style="color: black;">Job Suggestions</h4>
                        <p><t t-esc="doc['job_suggestion']" /></p>
                    </div>
                </t>

                <div class="col-12 mb-4 text-center">
                    <h4 style="color: black;">Dimensional Score</h4>
                </div>
                <div class="row">
                    <div class="col-12">
                        <table class="main_table">
                            <thead>
                                <tr class="text-center" style="background-color: #be1e2d; color: white;">
                                    <th class="align-middle">Personality</th>
                                    <th class="align-middle">Score</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc['dimensional_score_ids']" t-as="dimensional_score">
                                    <tr>
                                        <td class="align-middle">
                                            <t t-esc="dimensional_score['name']"  />
                                        </td>
                                        <td class="align-middle">
                                            <t t-esc="dimensional_score['score']" t-options='{"widget": "float", "precision": 2}' />%
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>

                <br/><br/><br/><br/>
                <div class="col-12 mb-4 mt-4 text-center">
                    <t t-foreach="doc['personality_ids']" t-as="personality">
                        <h2 style="color: #be1e2d;"><t t-esc="personality['name']" /></h2>
                    </t>
                </div>
                <div class="row">
                    <div class="col-12 mb-4">
                        <table class="main_table">
                            <thead>
                                <tr class="text-center" style="background-color: #be1e2d; color: white;">
                                    <th class="align-middle">Personality</th>
                                    <th class="align-middle">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc['personality_each_dimensions'].items()" t-as="item">
                                    <tr>
                                        <th class="align-middle">
                                            <t t-esc="item[0]" />
                                        </th>
                                        <td>
                                            <ul>
                                                <t t-foreach="item[1]" t-as="value">
                                                    <li><t t-esc="value" /></li>
                                                </t>
                                            </ul>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-12 mb-4 text-center">
                    <h2>Thank You.</h2>
                </div>
            </t>
        </div>
	</template>
</odoo>