<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

<t t-name="oi_web_search.SearchMenu" t-inherit="web.DropdownMenu" t-inherit-mode="primary" owl="1">
    <xpath expr="//ul[@role='menu']" position="inside">
    	<div class="o_search_menu">
	    	<div class="dropdown-item-text" t-foreach="filters_fields" t-as="field">
	    		<label t-att-for="field.name" class="o_search_label">
	    			<span class="o_search_label_string" t-esc="field.description" />    			
	    		</label>
	    		<t t-if="field.fieldType=='boolean'">
	    			<select class="o_input o_boolean_select" t-att-name="field.fieldName">
	    				<option value=""></option>
	    				 <option value="true">is true</option>
	    				 <option value="false">is false</option>
	    			</select>
	    		</t>						
	    		<t t-elif="field.range">
	    			<div class="o_input o_input_range" t-att-name="field.fieldName">
	    				<div t-att-name="field.fieldName" class="o_input1 col-xs-6" />       	
	    				<div t-att-name="field.fieldName" class="o_input2 col-xs-6" />     	
	    			</div>
	    		</t>
	    		<t t-else="1">
	    			<div t-att-name="field.fieldName" class="o_input" /> 
	    		</t>
	    		<span class="o_search_label_info" t-att-name="field.fieldName" />
	    	</div>
			<div class="dropdown-item-text">
		        <button class="btn btn-primary o_apply_search" type="button" t-on-click.prevent="_onApplyButtonClick()">Apply</button>
		        <span> </span>
		        <button class="btn btn-secondary o_search_all_fields" type="button" t-on-click.prevent="_onAllFieldsButtonClick()">All Fields</button>
		         <span> </span>
		        <button class="btn btn-secondary o_search_advance" type="button" t-on-click.prevent="_onAdvanceButtonClick()">Advance</button>
			</div>  
		</div>
    </xpath>
</t>

<t t-name="oi_web_search.ControlPanel" t-inherit="web.ControlPanel" t-inherit-mode="extension" owl="1">
	<xpath expr="//FilterMenu" position="before">
		<SearchMenu t-if="props.searchMenuTypes.includes('filter')" class="o_search_menu" fields="fields" />	
	</xpath>
</t>

<div t-name="oi_web_search.all.fields" class="o_search_menu_advace_dialog">
	<div class="row">
		<div class="col-sm-1" />
		<input class="o_field_char o_input col-sm-9 filter_fields" name="_search" />
	</div>
	<t t-foreach="fields" t-as="field">
		<div class="col-sm-12 row field_row" t-att-data-name="field.name.toUpperCase()" t-att-data-string="field.string.toUpperCase()">
			<labal t-att-for="field.name" t-if="field" class="o_search_label col-sm-3">
				<span class="o_search_label_string" t-esc="field.string" />				
				<div class="text-muted" t-if="debug">
					<span t-esc="field.name" /> (<span t-esc="field.type" />)
				</div>
			</labal>	
	        <select class="col-sm-2 o_input o_input_operator" t-att-data-field-type="field.type" t-att-data-name="field.name">
	        	<option value=""></option>
	            <option t-foreach="OPERATORS_SELECTION[FIELD_OPERATOR[field.type]] || []" t-as="operator" t-key="operator_index"
	                t-att-value="operator.symbol"                    
	                t-esc="operator.description"
	            />
	        </select>
	        <div class="col-sm-1" />
	   		<t t-if="field.type=='boolean'">
	   		</t>						
	   		<t t-elif="['date', 'datetime', 'float', 'integer', 'monetary'].includes(field.type)">
	   			<div class="col-sm-6 o_field_input o_input_range o_hidden row" t-att-name="field.name">
	   				<div t-att-name="field.name" class="o_input1 o_input col-sm-4" />       	
	   				<div class="col-sm-2"></div>
	   				<div t-att-name="field.name" class="o_input2 o_input col-sm-4" />     	
	   			</div>
	   		</t>
	   		<t t-else="1">
	   			<div t-att-name="field.name" class="o_field_input o_input col-sm-6 o_hidden" /> 
	   		</t>
		</div>	
	</t>
</div>

<div t-name="web.SearchMenu.domain" class="o_search_menu_advace_dialog">
	<div class="o_input">
		<input class="o_field_char o_field_widget o_input o_input_description" name="description" placeholder="Description" type="text" />
	</div>
	<br />
</div>

</templates>
