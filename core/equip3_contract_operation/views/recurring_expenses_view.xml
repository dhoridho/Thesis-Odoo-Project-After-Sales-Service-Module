<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <record id="agreement_recurring_expenses_view_tree" model="ir.ui.view">
            <field name="name">agreement.recurring.expenses.view.tree</field>
            <field name="model">agreement.recurring.expenses</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="recurring_type"/>
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="recurring_expenses_form">
            <field name="name">agreement.recurring.expenses.form</field>
            <field name="model">agreement.recurring.expenses</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <label for="name"/>
                            <h1>
                                <field name="name" placeholder="e.g. Contract for 1 day" class="oe_inline" required="1"/>
                            </h1>
                            <group>
                                <field name="recurring_type" required="1"/>
                                <field name="day" attrs="{'required': [('recurring_type', '=','day')],'invisible': [('recurring_type', '!=', 'day')]}"/>
                                <field name="week" attrs="{'required': [('recurring_type', '=','week')],'invisible': [('recurring_type', '!=', 'week')]}"/>
                                <field name="month" attrs="{'required': [('recurring_type', '=','month')],'invisible': [('recurring_type', '!=', 'month')]}"/>
                                <field name="year" attrs="{'required': [('recurring_type', '=','year')],'invisible': [('recurring_type', '!=', 'year')]}"/>
                                <label for="recurring_duration" modifiers="{}"/>
                                <div class="o_row" name="wage" modifiers="{}">
                                    <field name="recurring_duration" nolabel="1" on_change="1" id="recurring_duration" modifiers="{}"/>
                                    <span modifiers="{}">
                                        <h5 attrs="{'required': [('recurring_type', '=','day')],'invisible': [('recurring_type', '!=', 'day')]}">Day(s)</h5>
                                        <h5 attrs="{'required': [('recurring_type', '=','week')],'invisible': [('recurring_type', '!=', 'week')]}">Week(s)</h5>
                                        <h5 attrs="{'required': [('recurring_type', '=','month')],'invisible': [('recurring_type', '!=', 'month')]}">Month(s)</h5>
                                        <h5 attrs="{'required': [('recurring_type', '=','year')],'invisible': [('recurring_type', '!=', 'year')]}">Year(s)</h5>
                                    </span>
                                </div>

                            </group>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="agreementrecurring_expenses_action" model="ir.actions.act_window">
            <field name="name">Recurring Expenses</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">agreement.recurring.expenses</field>
            <field name="view_mode">tree,form</field>
            <field name="binding_view_types">form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new recurring expenses.
                </p>
            </field>
        </record>

        <menuitem name="Recurring Expenses" id="agreement_recurring_expenses_menu" parent="agreement_legal.agreement_configuration" sequence="0" action="agreementrecurring_expenses_action" />
    </data>
</odoo>