<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_quotations_with_onboarding_consignments" model="ir.actions.act_window">
      <field name="name">Consignment Quotations</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">sale.order</field>
      <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
      <field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/>
      <field name="context">{'search_default_my_quotation': 1, 'default_sale_consign': True, 'create': 0}</field>
      <field name="domain">[('state', '!=', 'sale'),('sale_consign','=',True)]</field>
      <field name="view_ids" eval="[(5, 0, 0),
              (0, 0, {'view_mode': 'tree', 'view_id' : ref('sale.view_quotation_tree_with_onboarding')}),
              
              (0, 0, {'view_mode': 'form', 'view_id': ref('equip3_consignment_sales.sale_order_form_view_inherit_consignment_quo')})]"/>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Create a new quotation, the first step of a new sale!
        </p><p>
        Once the quotation is confirmed by the customer, it becomes a sales order.<br/> You will be able to create an invoice and collect the payment.
      </p>
      </field>
    </record>

    <!-- <record id="action_model_quo_tree_with_ids" model="ir.actions.act_window.view">
      <field name="act_window_id" ref="action_quotations_with_onboarding_consignments" />
      <field name="view_id" ref="sale.view_quotation_tree_with_onboarding"/>
      <field name="view_mode">tree</field>
      <field name="sequence">1</field>
    </record>
     
    <record id="action_model_quo_form_with_ids" model="ir.actions.act_window.view">
      <field name="act_window_id" ref="action_quotations_with_onboarding_consignments" />
      <field name="view_id" ref="sale_order_form_view_inherit_consignment_quo"/>
      <field name="view_mode">form</field>
      <field name="sequence">2</field>
    </record> -->

    <record id="action_orders_consignments" model="ir.actions.act_window">
      <field name="name">Consignment Orders</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">sale.order</field>
      <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
      <field name="search_view_id" ref="sale.sale_order_view_search_inherit_sale"/>
      <field name="context">{'default_sale_consign': True, 'create': 0}</field>
      <field name="domain">[('sale_consign','=',True),('state', 'in', ('sale', 'cancel')), ('sale_state', '!=', 'cancel'), ('is_quotation_cancel', '=', False)]</field>
      <field name="view_ids" eval="[(5, 0, 0),
              (0, 0, {'view_mode': 'tree', 'view_id': ref('sale.view_quotation_tree_with_onboarding')}),
              (0, 0, {'view_mode': 'form', 'view_id': ref('equip3_consignment_sales.sale_order_form_view_inherit_consignment_quo')})]"/>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Create a new quotation, the first step of a new sale!
        </p><p>
        Once the quotation is confirmed, it becomes a sales order.<br/> You will be able to create an invoice and collect the payment.
      </p>
      </field>
    </record>

    <menuitem id="sale_consign_menu"
              name="Sales Consignment"
              parent="sale.sale_menu_root"
              sequence="2"/>

    <record id="equip3_consignment_sales.sale_consign_menu" model="ir.ui.menu">
      <field name="equip_icon_class">o-hm-sidebar-parent-sales-orders</field>
    </record>

    <record id="sale.report_sales_team" model="ir.ui.menu">
      <field name="sequence">4</field>
    </record>

    <record id="sale.menu_sale_invoicing" model="ir.ui.menu">
      <field name="sequence">3</field>
    </record>

    <record id="equip3_sale_masterdata.customer_menu" model="ir.ui.menu">
      <field name="sequence">3</field>
    </record>

    <menuitem id="menu_consignment_quotations"
              name="Consignment Quotations"
              parent="sale_consign_menu"
              action="action_quotations_with_onboarding_consignments"
              sequence="2"/>

    <menuitem id="menu_consignment_orders"
              name="Consignment Orders"
              parent="sale_consign_menu"
              action="action_orders_consignments"
              sequence="3"/>

    <record id="sale.action_quotations_with_onboarding" model="ir.actions.act_window">
      <field name="domain">[('state', 'not in', ('sale','done')),('sale_consign','=',False)]</field>
    </record>

    <record id="sale.action_orders" model="ir.actions.act_window">
      <field name="domain">[('sale_consign','=',False),('state', 'in', ('sale', 'cancel', 'done')), ('sale_state', '!=', 'cancel'), ('is_quotation_cancel', '=', False)]</field>
    </record>
</odoo>