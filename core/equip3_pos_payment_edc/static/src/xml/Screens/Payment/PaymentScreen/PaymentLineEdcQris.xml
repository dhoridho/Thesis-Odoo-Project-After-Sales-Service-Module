<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="PaymentLineEdcQris" owl="1">
        <tr class="receipt-line tr-payment-edc payment-edc-qris" t-att-data-res_id="props.line.cid">
            <td colspan="3" class="td-payment-edc">
                <div class="payment-edc">
                    <div class="payment-edc-actions">
                        <t t-if="props.line.payment_edc_state == 'paid'">
                            <div class="btn-payment-edc btn-payment-edc-paid">
                                <span>Paid</span>
                            </div>
                        </t>

                        <t t-if="['sent','paid'].includes(props.line.payment_edc_state) == false">
                            <div class="btn-payment-edc btn-payment-edc-send" t-on-click="sendRequestQris(props.line)">
                                <span>Send Request</span>
                            </div>
                            <t t-if="props.line.payment_method.is_edc_manual_input">
                                <span style="padding:0 15px;"> or </span>
                                <EdcManualInputCode line="props.line"/>
                            </t>
                        </t>
                        <t t-if="props.line.payment_edc_state == 'sent'">
                            <div class="btn-payment-edc btn-payment-edc-send" t-on-click="checkPaymentQris(props.line)">
                                <span>Check Payment</span>
                            </div>

                        </t>
                    </div>
                    <div class="payment-edc-label">
                        <t t-if="props.line.payment_edc_state == 'paid'">
                            <t t-if="getApprovalCode(props.line)">
                                Approval Code: <span><t t-esc="getApprovalCode(props.line)"/></span>
                            </t>
                        </t>
                        <t t-if="props.line.payment_edc_state == 'sent'">
                            <span>Successfully printed QR code</span>
                        </t>
                    </div>
                </div>
            </td>
        </tr>
    </t>

</templates>

