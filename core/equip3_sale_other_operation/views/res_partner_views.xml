<?xml version="1.0" encoding="utf-8"?>
<odoo>

      <record id="view_form_res_partner" model="ir.ui.view">
            <field name="name">res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="sh_sale_credit_limit.res_partner_sale_credit_limit_form"/>
            <field name="arch" type="xml">
                  <xpath expr="//field[@name='customer_credit']/.." position="replace"/>
                  <xpath expr="//page[@name='accounting']" position="inside">
                        <group string="Credit Limit">
                              <group class="col-2">
                                    <field name="customer_credit"/>
                                    <field name="filter_brand_ids" invisible="1"/>
                                    <field name="cust_credit_limit" attrs="{'invisible': ['|',('set_customer_credit_limit_per_brand','=',True),('customer_credit','=',False)] , 'required': [('customer_credit','=',True)]}" style="width: 200px;" readonly="1" force_save="1"/>
                                    <field name="customer_credit_limit" style="width: 200px;" attrs="{'invisible': ['|',('set_customer_credit_limit_per_brand','=',True),('customer_credit','=',False)], 'readonly': True}" force_save="1"/>
                                    <field name="set_customer_onhold" attrs="{'invisible': ['|', ('customer_credit','=',False), ('is_over_credit_limit', '=', False)]}"/>
                                    <field name="set_customer_credit_limit_per_brand" attrs="{'invisible': [('customer_credit','=',False)]}"/>
                              </group>
                              <group class="col-2">
                                    <field name="is_customer_invoice_overdue"/>
                                    <field name="is_over_credit_limit" invisible="1"/>
                                    <field name="is_invoice_overdue" invisible="1"/>
                                    <field name="customer_max_invoice_overdue" attrs="{'invisible': [('is_customer_invoice_overdue','=',False)]}" required="1" readonly="1" force_save="1"/>
                                    <field name="is_set_customer_on_hold" attrs="{'invisible': ['|', ('is_customer_invoice_overdue','=',False), ('is_invoice_overdue', '=', False)]}"/>
                              </group>
                              <group class="col-2">
                                    <field name="is_open_invoice_limit"/>
                                    <field name="no_open_inv_limit" readonly="1" attrs="{'invisible': [('is_open_invoice_limit','=',False)]}"/>
                                    <field name="avl_open_inv_limt" attrs="{'invisible': [('is_open_invoice_limit','=',False)]}"/>
                                    <field name="open_invoice_limit" invisible="1"/>
                                    <field name="customer_on_hold_open_invoice" attrs="{'invisible': ['|', ('is_open_invoice_limit','=',False), ('open_invoice_limit', '=', False)]}" />
                              </group>
                              <group class="col-2">
                                    <field name="customer_over_limit" attrs="{'invisible': [('customer_credit','=',False),('is_customer_invoice_overdue','=',False),('is_open_invoice_limit','=',False)]}"/>
                              </group>
                        </group>
                        <group id="product_brand_ids">
                              <field name="product_brand_ids" nolabel="1" context="{'product_brand_ids': product_brand_ids}" attrs="{'invisible': ['|', '&amp;', ('set_customer_credit_limit_per_brand','=',False), ('customer_credit','=',True), ('customer_credit','=',False)]}">
                                    <tree editable="bottom" create="false">
                                          <field name="sequence" width="5%" string="No."/>
                                          <field name="brand_id" required="1" readonly="1" force_save="1" width="35%" options="{'no_create': True, 'no_create_edit' : True}" domain="parent.filter_brand_ids"/>
                                          <field name="customer_credit_limit" readonly="1" width="30%"/>
                                          <field name="customer_avail_credit_limit" readonly="1" width="30%"/>
                                    </tree>
                                    <form string="Product Brand">
                                          <group>
                                          <group>
                                          <field name="partner_id"/>
                                          <field name="customer_credit_limit"/>
                                          <field name="new_credit_limit_amount"/>
                                          <field name="sequence"/>
                                          <field name="limit_request_id"/>
                                          </group>
                                          <group>
                                          <field name="brand_id"/>
                                          <field name="customer_avail_credit_limit"/>
                                          <field name="last_credit_limit_amount"/>
                                          <field name="sequence2"/>
                                          </group>
                                          </group>
                                          <group colspan="12">
                                          <notebook>
                                                <page string="Brand">
                                                      <field name="brand_ids">
                                                      <tree>
                                                      <field name="brand_name"/>
                                                      </tree>
                                                      </field>
                                                </page>
                                          </notebook>
                                          </group>
                                        </form>
                                    
                              </field>
                        </group>
                  </xpath>
            </field>
      </record>

      <record id="view_partner_form_product_label" model="ir.ui.view">
            <field name="name">res.partner.form.product.label</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                  <xpath expr="//notebook" position="inside">
                        <page id="product_label" string="Products Label" attrs="{'invisible':[('show_customer_product_label', '=', False)]}">
                              <field name="show_customer_product_label" invisible="1"/>
                              <group>
                                    <field name="customer_product_label_ids" context="{'default_customer_id': active_id,'default_res_customer_id': active_id,'default_from_customer': True}" nolabel="1">
                                          <tree editable="bottom">
                                                <field name="customer_product_template_id" invisible="1"/>
                                                <field name="product_id" required="1" domain="[('sale_ok', '=', True)]"/>
                                                <field name="product_label"/>
                                                <field name="from_customer" invisible="1"/>
                                          </tree>
                                    </field>
                              </group>
                        </page>
                  </xpath>
            </field>
      </record>
</odoo>
