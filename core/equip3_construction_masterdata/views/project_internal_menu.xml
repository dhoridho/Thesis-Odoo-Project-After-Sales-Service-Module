<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    
        <!-- Menu Project Internal -->
        <menuitem 
            id="construction_internal_project"
            name="Construction Internal"
            web_icon="equip3_construction_masterdata,static/src/img/Construction internals.png"
        />

        <!-- Icon Project Internal -->
        <record id="construction_internal_project" model="ir.ui.menu">
            <field name="equip_category_id" ref="equip3_hashmicro_ui.category_operations"/>
        </record>

        <!-- Menu Project -->
        <menuitem id="project_internal_construction"
            name = "Projects"
            parent="construction_internal_project"
            sequence="6"
        />
        <record id="project_internal_construction" model="ir.ui.menu">
            <field name="equip_icon_class">o-hm-sidebar-parent-construction-job-orders</field>
        </record>

        <!-- Action Project -->
        <record id="action_view_project_internal" model="ir.actions.act_window">
            <field name="name">Projects</field>
            <field name="res_model">project.project</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="project.view_project_project_filter"/>
            <field name="domain">[('department_type', '=', 'department')]</field>
            <field name="context">{'default_department_type': 'department'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Create a new project.
                </p><p>
                    Organize your activities (plan tasks, track issues, invoice timesheets) for internal, personal or customer projects.
                </p>
            </field>
        </record>


            
        <record id="open_view_project_all_internal_custom" model="ir.actions.server">
            <field name="name">Projects</field>
            <field name="type">ir.actions.server</field>
            <field name="state">code</field>
            <field name="model_id" ref="model_project_project"/>
            <field name="code">action = model.custom_menu()</field>
        </record>


        <!-- Menu Projects - Projects -->
        <menuitem id="menu_action_view_project_internal"
            name="Projects"
            action="open_view_project_all_internal_custom"
            parent="project_internal_construction"
            sequence="1"
        />



    </data>    
</odoo>
