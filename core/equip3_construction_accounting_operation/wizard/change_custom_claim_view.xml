<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_form_change_custom_claim_const" model="ir.ui.view">
        <field name="name">change.custom.claim.form</field>
        <field name="model">change.custom.claim.wiz</field> 
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <group>
                            <field name="type_change" widget="radio"/>
                            <field name="claim_id" invisible="1"/>
                            <field name="onchange_pass" invisible="1"/>
                        </group>   
                    </group>
                    <group attrs="{'invisible':[('type_change','=','force')]}">
                        <group>
                            <field name="claim_type" force_save="1" readonly='1'/>
                        </group>
                    </group>
                    <notebook attrs="{'invisible':[('type_change','=','force')]}"> 
                        <page name="progressive_milestone_term" string="Milestone and Contract Terms" attrs="{'invisible':[('claim_type','!=','milestone')]}">
                            <group>
                                <field name="milestone_term_ids" class="o_milestone_line_sale" attrs="{'invisible':[('claim_type','!=','milestone')]}" nolabel="1">
                                    <tree editable="bottom">
                                        <field name="sequence" widget="handle" invisible="1"/>
                                        <field name="sr_no"/>
                                        <field name="change_id" invisible="1"/>
                                        <field name="reference" invisible="1"/>
                                        <field name="name" required='1' attrs="{'readonly':[('is_invoiced','=',True)]}"/>
                                        <field name="type_milestone" string="Claim Type" readonly="1" force_save="1"/>
                                        <field name="claim_percentage" string="Contract Terms (%)" attrs="{'readonly':[('is_invoiced','=',True)]}"/>
                                        <field name="is_invoiced" string="Invoiced" readonly="1" force_save="1"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <page name="monthly_claim" string="Monthly Claim" attrs="{'invisible':[('claim_type','!=','monthly')]}">
                            <group>
                                <group>
                                    <label for="repeat_on_month" string="Repeat On" attrs="{'invisible': [('claim_type', '!=', 'monthly')]}"/>
                                        <div class="o_row" attrs="{'invisible': [('claim_type', '!=', 'monthly')]}">
                                            <field name="repeat_on_month" attrs="{'required': [('claim_type', '=', 'monthly')]}"/>
                                            <field name="repeat_day" attrs="{'invisible': [('repeat_on_month', '=', 'day')], 'required': [('claim_type', '=', 'monthly'), ('repeat_on_month', '=', 'date')]}" />
                                            <field name="repeat_week" attrs="{'invisible': [('repeat_on_month', '=', 'date')], 'required': [('claim_type', '=', 'monthly'), ('repeat_on_month', '=', 'day')]}" />
                                            <field name="repeat_weekday" attrs="{'invisible': [('repeat_on_month', '=', 'date')], 'required': [('claim_type', '=', 'monthly'), ('repeat_on_month', '=', 'day')]}" />
                                        </div>
                                </group>
                                <group>
                                    <field name="is_create_automatically" attrs="{'invisible': [('claim_type', '!=', 'monthly')]}" force_save="1" readonly='1'/>
                                    <label for="repeat_time" string="Time" attrs="{'invisible': ['|', ('claim_type', '!=', 'monthly'), ('is_create_automatically', '=', False)]}" />
                                    <div class="o_row" attrs="{'invisible': ['|', ('claim_type', '!=', 'monthly'), ('is_create_automatically', '=', False)]}">
                                        <field name="repeat_time" force_save="1" readonly="1"/>
                                    </div>
                                </group>   
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <footer>
                    <button name="action_confirm" string="Confirm" type="object" class="oe_highlight" attrs="{'invisible':[('type_change','=','force')]}"/>
                    <button name="create_invoice" string="Confirm" type="object" class="oe_highlight" attrs="{'invisible':[('type_change','=','change')]}"/>
                    <button string="Cancel" special="cancel" class="btn-secondary"/>
                </footer>    
            </form>
        </field>
    </record>

</odoo>