<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--    LOST LEADS ANALYSIS-->
    <!--    <record model="ir.ui.view" id="lost_leads_analysis_report_graph">-->
    <!--        <field name="name">lost.leads.analysis.report.graph</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <graph string="Lost Leads Analysis" type="line" sample="1" disable_linking="1">-->
    <!--                <field name="name" type="col"/>-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="lost_day" type="measure"/>-->
    <!--            </graph>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record model="ir.ui.view" id="lost_leads_analysis_report_pivot">-->
    <!--        <field name="name">lost.leads.analysis.report.pivot</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <pivot string="Lost Leads Analysis">-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="name" type="row"/>-->
    <!--                <field name="lost_day" type="measure"/>-->
    <!--            </pivot>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="action_lost_lead_analysis" model="ir.actions.act_window">-->
    <!--        <field name="name">Lost Leads Analysis</field>-->
    <!--        <field name="res_model">crm.lead</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                (0, 0, {'view_mode': 'graph', 'view_id': ref('lost_leads_analysis_report_graph')}),-->
    <!--                (0, 0, {'view_mode': 'pivot', 'view_id': ref('lost_leads_analysis_report_pivot')})]"/>-->
    <!--        <field name="view_mode">graph,pivot</field>-->
    <!--        <field name="context">{'search_default_inactive':1}</field>-->
    <!--    </record>-->

    <!--    <menuitem id="lost_lead_analysis_menuitem" action="action_lost_lead_analysis" parent="crm.crm_menu_report"/>-->


    <!--&lt;!&ndash;    WON LEADS ANALYSIS&ndash;&gt;-->
    <!--    <record model="ir.ui.view" id="won_leads_analysis_report_graph">-->
    <!--        <field name="name">won.leads.analysis.report.graph</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <graph string="Won Leads Analysis" type="line" sample="1" disable_linking="1">-->
    <!--                <field name="name" type="col"/>-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="won_day" type="measure"/>-->
    <!--            </graph>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record model="ir.ui.view" id="won_leads_analysis_report_pivot">-->
    <!--        <field name="name">won.leads.analysis.report.pivot</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <pivot string="Won Leads Analysis">-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="name" type="row"/>-->
    <!--                <field name="won_day" type="measure"/>-->
    <!--            </pivot>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="action_won_lead_analysis" model="ir.actions.act_window">-->
    <!--        <field name="name">Won Leads Analysis</field>-->
    <!--        <field name="res_model">crm.lead</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                (0, 0, {'view_mode': 'graph', 'view_id': ref('won_leads_analysis_report_graph')}),-->
    <!--                (0, 0, {'view_mode': 'pivot', 'view_id': ref('won_leads_analysis_report_pivot')})]"/>-->
    <!--        <field name="view_mode">graph,pivot</field>-->
    <!--    </record>-->

    <!--    <menuitem id="won_lead_analysis_menuitem" action="action_won_lead_analysis" parent="crm.crm_menu_report"/>-->


    <!--&lt;!&ndash;    FIRST LEADS ANALYSIS&ndash;&gt;-->
    <!--    <record model="ir.ui.view" id="meeting_leads_analysis_report_graph">-->
    <!--        <field name="name">meeting.leads.analysis.report.graph</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <graph string="First Meetings Analysis" type="line" sample="1" disable_linking="1">-->
    <!--                <field name="name" type="col"/>-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="meeting_day" type="measure"/>-->
    <!--            </graph>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record model="ir.ui.view" id="meeting_leads_analysis_report_pivot">-->
    <!--        <field name="name">meeting.leads.analysis.report.pivot</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <pivot string="First Meetings Analysis">-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="name" type="row"/>-->
    <!--                <field name="meeting_day" type="measure"/>-->
    <!--            </pivot>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="action_meeting_lead_analysis" model="ir.actions.act_window">-->
    <!--        <field name="name">First Meetings Analysis</field>-->
    <!--        <field name="res_model">crm.lead</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                (0, 0, {'view_mode': 'graph', 'view_id': ref('meeting_leads_analysis_report_graph')}),-->
    <!--                (0, 0, {'view_mode': 'pivot', 'view_id': ref('meeting_leads_analysis_report_pivot')})]"/>-->
    <!--        <field name="view_mode">graph,pivot</field>-->
    <!--    </record>-->

    <!--    <menuitem id="meeting_lead_analysis_menuitem" action="action_meeting_lead_analysis" parent="crm.crm_menu_report"/>-->


    <!--&lt;!&ndash;    QUOTATION LEADS ANALYSIS&ndash;&gt;-->
    <!--    <record model="ir.ui.view" id="quotation_leads_analysis_report_graph">-->
    <!--        <field name="name">quotation.leads.analysis.report.graph</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <graph string="Leads to Quotation Analysis" type="line" sample="1" disable_linking="1">-->
    <!--                <field name="name" type="col"/>-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="quotation_day" type="measure"/>-->
    <!--            </graph>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record model="ir.ui.view" id="quotation_leads_analysis_report_pivot">-->
    <!--        <field name="name">quotation.leads.analysis.report.pivot</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <pivot string="Leads to Quotation Analysis">-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="name" type="row"/>-->
    <!--                <field name="quotation_day" type="measure"/>-->
    <!--            </pivot>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="action_quotation_lead_analysis" model="ir.actions.act_window">-->
    <!--        <field name="name">Leads to Quotation Analysis</field>-->
    <!--        <field name="res_model">crm.lead</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                (0, 0, {'view_mode': 'graph', 'view_id': ref('quotation_leads_analysis_report_graph')}),-->
    <!--                (0, 0, {'view_mode': 'pivot', 'view_id': ref('quotation_leads_analysis_report_pivot')})]"/>-->
    <!--        <field name="view_mode">graph,pivot</field>-->
    <!--    </record>-->

    <!--    <menuitem id="quotation_lead_analysis_menuitem" action="action_quotation_lead_analysis" parent="crm.crm_menu_report"/>-->


    <!--&lt;!&ndash;    ASSIGNED LEADS ANALYSIS&ndash;&gt;-->
    <!--    <record model="ir.ui.view" id="assigned_leads_analysis_report_graph">-->
    <!--        <field name="name">assigned.leads.analysis.report.graph</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <graph string="Leads Assigned Analysis" type="line" sample="1" disable_linking="1">-->
    <!--                <field name="name" type="col"/>-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="day_open" type="measure"/>-->
    <!--            </graph>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record model="ir.ui.view" id="assigned_leads_analysis_report_pivot">-->
    <!--        <field name="name">assigned.leads.analysis.report.pivot</field>-->
    <!--        <field name="model">crm.lead</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <pivot string="Leads Assigned Analysis">-->
    <!--                <field name="user_id" type="row"/>-->
    <!--                <field name="name" type="row"/>-->
    <!--                <field name="stage_day" type="measure" string="Duration First Move Stage (Hour)"/>-->
    <!--            </pivot>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="action_assigned_lead_analysis" model="ir.actions.act_window">-->
    <!--        <field name="name">Leads Assigned Analysis</field>-->
    <!--        <field name="res_model">crm.lead</field>-->
    <!--        <field name="view_ids" eval="[(5, 0, 0),-->
    <!--                (0, 0, {'view_mode': 'graph', 'view_id': ref('assigned_leads_analysis_report_graph')}),-->
    <!--                (0, 0, {'view_mode': 'pivot', 'view_id': ref('assigned_leads_analysis_report_pivot')})]"/>-->
    <!--        <field name="view_mode">graph,pivot</field>-->
    <!--    </record>-->

    <!--    <menuitem id="assigned_lead_analysis_menuitem" action="action_assigned_lead_analysis" parent="crm.crm_menu_report"/>-->

    <record id="crm.crm_opportunity_report_menu" model="ir.ui.menu">
        <field name="active" eval="False" />
    </record>

    <record id="crm_leads_analysis_report_tree_view" model="ir.ui.view">
        <field name="name">crm.opportunity.report.tree.lead.analysis</field>
        <field name="model">crm.lead.analysis.new</field>
        <field name="arch" type="xml">
            <tree>
                <field name="partner_id"/>
                <field name="name"/>
                <field name="activity_data"/>
                <field name="user_ids" widget="many2many_tags"/>
                <field name="team_id"/>
                <field name="create_date"/>
                <field name="date_deadline"/>
                <field name="activity_type_id"/>
                <field name="activity_state"/>
                <field name="user_id"/>
                <field name="expected_revenue" widget="integer"/>
            </tree>
        </field>
    </record>

    <record id="crm_leads_analysis_report_graph_view" model="ir.ui.view">
        <field name="name">crm.opportunity.report.graph.lead.analysis</field>
        <field name="model">crm.lead.analysis.new</field>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <graph string="Leads Analysis" stacked="True" sample="1">
                <field name="create_date" interval="month" type="col"/>
                <field name="user_id" type="col"/>
            </graph>
        </field>
    </record>

    <record model="ir.ui.view" id="crm_leads_analysis_report_pivot_view">
        <field name="name">leads.analysis.report.pivot</field>
        <field name="model">crm.lead.analysis.new</field>
        <field name="arch" type="xml">
            <pivot string="Leads Analysis">
                <field name="lead_id" type="row"/>
                <field name="user_id" type="row"/>
                <field name="create_date" interval="month" type="col"/>
                <field name="lead_count" type="measure"/>
                <field name="weightage" type="measure"/>
            </pivot>
        </field>
    </record>
    <record id="crm_leads_analysis_report_search_view" model="ir.ui.view">
        <field name="name">crm.lead.analysis.new.search</field>
        <field name="model">crm.lead.analysis.new</field>
        <field name="arch" type="xml">
            <search string="Search Opportunities">
                <filter string="Had First Meetings" name="had_one_metting" domain="[('one_metting', '=', True)]"/>
                <filter string="Had Multiple Meetings" name="had_multiple_metting" domain="[('multiple_metting', '=', True)]"/>
                <filter string="All Included Lost" name="all_included_lost" domain="['|', ('active', '=', True), ('active', '=', False)]"/>
                <separator/>
                <filter string="Creation Date" name="creation_date" date="create_date"/>
                <filter string="Closed Date" name="close_date" date="date_closed"/>
                <separator/>
                <filter string="Won" name="won" domain="['&amp;', ('active', '=', True), ('stage_id.is_won', '=', True)]"/>
                <filter string="Lost" name="lost" domain="['&amp;', ('active', '=', False), ('probability', '=', 0)]"/>

                <searchpanel view_types="tree,kanban,pivot,graph">
                    <field name="team_id"/>
                    <field name="user_id" string="Assigned To"/>
                    <field name="company_id" groups="base.group_multi_company" icon="fa-building"/>
                </searchpanel>
            </search>
        </field>
    </record>
    <record id="action_lead_pivot_analysis" model="ir.actions.act_window">
        <field name="name">Leads Pivot Analysis</field>
        <field name="res_model">crm.lead.analysis.new</field>
        <field name="view_mode">pivot,graph</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'graph', 'view_id': ref('crm_leads_analysis_report_graph_view')}),
                          (0, 0, {'view_mode': 'pivot', 'view_id': ref('crm_leads_analysis_report_pivot_view')}),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('crm_leads_analysis_report_tree_view')})]"/>
        <field name="search_view_id" ref="crm_leads_analysis_report_search_view"/>
        <field name="help">This report analyses the source of your leads.</field>
    </record>

    <menuitem
            id="menuitem_lead_pivot_analysis"
            name="Leads Pivot Analysis"
            parent="crm.crm_menu_report"
            action="action_lead_pivot_analysis"
            sequence="1"/>

</odoo>