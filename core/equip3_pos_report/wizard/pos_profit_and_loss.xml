<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- tree view -->
    <record id="view_pos_profit_and_loss_tree" model="ir.ui.view">
        <field name="name">view_pos_profit_and_loss_tree</field>
        <field name="model">pos.profit.and.loss</field>
        <field name="arch" type="xml">
            <tree string="Profit and Loss" create="0">
                <field name="start_datetime" required="1"/>
                <field name="end_datetime" required="1"/>
                <field name="pos_order_line_id" invisible="1"/>
                <field name="product_id"/>
                <field name="qty"/>
                <field name="product_uom_id"/>
                <field name="price_unit"/>
                <field name="discount"/>
                <field name="taxes"/>
                <field name="price_subtotal"/>
                <field name="cost_price"/>
                <field name="profit_and_loss"/>
                <field name="percentage_profit_and_loss"/>

                <field name="pos_branch_id" optional="hide"/>
                <field name="partner_id" optional="hide"/>
                <field name="company_id" optional="hide"/>
                <field name="pos_config_id" optional="hide"/>
                <field name="order_id" optional="hide"/>
                <field name="session_id" optional="hide"/>
                <field name="date_order" optional="hide"/>
                <field name="categ_id" optional="hide"/>
                <field name="pos_categ_id" optional="hide"/>
            </tree>
        </field>
    </record>

    <record id="pos_profit_loss_filter" model="ir.ui.view">
            <field name="name">pos.profit.and.loss.filter</field>
            <field name="model">pos.profit.and.loss</field>
            <field name="arch" type="xml">
                <search string="Search POS Profit and Loss Report">
                    <filter string="This Day" name="this_day" domain="[
                        ('date_order','&lt;',time.strftime('%%Y-%%m-%%d 23:59:59')),
                        ('date_order','&gt;=',(datetime.date.today()-datetime.timedelta(hours=24)).strftime('%%Y-%%m-%%d 00:00:00'))]"/>
                    <filter string="This Month" name="this_month" domain="[
                        ('date_order', '&lt;', (context_today()+relativedelta(months=1)).strftime('%%Y-%%m-01')), 
                        ('date_order', '&gt;=', time.strftime('%%Y-%%m-01'))]"/>

                    <group expand="0" string="Group By">
                        <filter string="Branch" name="groupby_pos_branch_id" domain="[]" context="{'group_by': 'pos_branch_id'}"/>
                        <filter string="Customer" name="groupby_partner_id" domain="[]" context="{'group_by': 'partner_id'}"/>
                        <filter string="Company" name="groupby_company_id" domain="[]" context="{'group_by': 'company_id'}"/>
                        <filter string="Point of Sales" name="groupby_pos_config_id" domain="[]" context="{'group_by': 'pos_config_id'}"/>
                        <filter string="Orders" name="groupby_order_id" domain="[]" context="{'group_by': 'order_id'}"/>
                        <filter string="Sessions" name="groupby_session_id" domain="[]" context="{'group_by': 'session_id'}"/>
                        <filter string="Date Order" name="groupby_date_order" domain="[]" context="{'group_by': 'date_order'}"/>
                        <filter string="Product Category" name="groupby_categ_id" domain="[]" context="{'group_by': 'categ_id'}"/>
                        <filter string="Pos Category" name="groupby_pos_categ_id" domain="[]" context="{'group_by': 'pos_categ_id'}"/>
                    </group>
                </search>
            </field>
        </record>

    <!-- pivot view -->
    <record id="view_pos_profit_and_loss_pivot" model="ir.ui.view">
        <field name="name">view_pos_profit_and_loss_pivot</field>
        <field name="model">pos.profit.and.loss</field>
        <field name="arch" type="xml">
            <pivot string="Profit and Loss">
                <field name="qty" type="measure"/>
                <field name="price_unit" type="measure"/>
                <field name="discount" type="measure"/>
                <field name="taxes" type="measure"/>
                <field name="price_subtotal" type="measure"/>
                <field name="cost_price" type="measure"/>
                <field name="profit_and_loss" type="measure"/>
                <field name="percentage_profit_and_loss" type="measure"/>
                <field name="pos_branch_id" type="row"/>
            </pivot>
        </field>
    </record>

    <!-- action -->
    
</odoo>