<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="ReserveTablePopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-confirm reserve-table-popup">
                <header class="title drag-handle">
                    <t t-esc="props.title"/>
                </header>
                <main class="body">
                    <div class="reserve-popup-contain clearfix">
                        <div class="pull-left r_popup_left">
                            <div class="popup_item">
                                <strong class="rsv-label">Time and Date</strong>
                                <input type="date" name="rsv_date" class="rsv-form-control tbl_date" t-model="state.reserve_dt" required="1" t-att-min="dateToday"/>
                                <input type="time" name="rsv_time" class="rsv-form-control tbl_time" t-model="state.reserve_time" required="1"/>
                            </div>

                            <div class="popup_item">
                                <strong class="rsv-label">Customer</strong>
                                <input type="text" name="rsv_customer" class="rsv-form-control" t-model="state.reserve_customer" required="1"/>
                         <!--        <select class="rsv-form-control" name="rsv_customer" id="table_customer_selection" t-model="state.reserve_customer" required="1">
                                    <t t-foreach="props.customer_ids" t-as="cust">
                                        <option t-att-value="cust.name"><t t-esc="cust.name"/></option>
                                    </t>
                                </select> -->
                            </div>
                            <div class="popup_item">
                                <strong class="rsv-label">Guest</strong>
                                <input type="text" name="rsv_guest" class="rsv-form-control reserve_guest" t-model="state.reserve_guest" required="1"/>
                            </div>
                            <div class="popup_item">
                                <strong class="rsv-label">Phone</strong>
                                <input type="number" name="rsv_customer_phone" class="rsv-form-control customer_phone" t-model="state.reserve_phone" required="1"/>
                            </div>
                            <div class="popup_item">
                                <strong class="rsv-label">Email</strong>
                                <input type="email" name="rsv_customer_email" class="rsv-form-control customer_email" t-model="state.reserve_email" required="1"/>
                            </div>
                        </div> 
                        <div class="pull-right r_popup_right">
                            <div class="popup_item">
                                <strong class="rsv-label">Floor</strong>
                                <select class="rsv-form-control" name="rsv_floor" t-model="state.reserve_floor" t-on-change="onChangeFloor"  required="1">
                                    <t t-foreach="props.floor_ids" t-as="floor">
                                        <option t-att-value="floor.id"><t t-esc="floor.name"/></option>
                                    </t>
                                </select>
                            </div>
                            <div class="popup_item">
                                <strong class="rsv-label">Table</strong>
                                <select class="rsv-form-control rsv_table" name="rsv_table" id="table_selection" t-model="state.reserve_table"  required="1">
                                    <option disabled="disabled">Please select the floor first</option>
                                    <!-- <t t-foreach="props.table_ids" t-as="tbl">
                                        <option t-att-value="tbl.id"><t t-esc="tbl.name"/></option>
                                    </t> -->
                                </select>
                            </div>
                            <div class="popup_item">
                                <strong class="rsv-label">Note</strong>
                                <textarea name="rsv_note" class="rsv-form-control" t-model="state.reserve_note"/>
                            </div>
                        </div>
                    </div>
                </main>
                <footer class="footer">
                    <div class="button confirm" t-on-click="confirm">
                        <t t-esc="props.confirmText"/>
                    </div>
                    <div class="button cancel" t-on-click="cancel">
                        <t t-esc="props.cancelText"/>
                    </div>
                </footer>
            </div>
        </div>
    </t>

    <t t-name="ReserveTablePopupButton" owl="1">
        <t t-if="env.pos.config.allow_lock_table">
            <button class="reserve-table-button" t-on-click="onClick" t-att-class="{oe_hidden: isHidden}">
                <div class="with-badge">Reserve Table</div>
            </button>
        </t>
    </t>

    <!-- <t t-name="Chrome" t-inherit="point_of_sale.Chrome" t-inherit-mode="extension" owl="1">
        <xpath expr="//OrderManagementButton" position="after">
            <ReserveTablePopupButton/>
        </xpath>
    </t> -->

    <t t-name="GeneralFnbReservationList" t-inherit="equip3_pos_masterdata_fnb.ReservationList" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('controls')]//SearchBar" position="after">
            <ReserveTablePopupButton/>
        </xpath>
    </t>

</templates>
