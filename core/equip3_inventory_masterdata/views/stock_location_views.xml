<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="stock_location_inherit_view_form" model="ir.ui.view">
        <field name="name">stock.location.form</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="stock.view_location_form"/>
        <field name="arch" type="xml">
            <!-- <xpath expr="//button[@name='224']" position="attributes">
                <attribute name="icon">o-hm-smart-all-putaway</attribute>
            </xpath> -->
            <xpath expr="//button[@name='act_move_all_location_open']" position="attributes">
                <attribute name="icon">o-hm-smart-all-product-move</attribute>
            </xpath>
            <xpath expr="//button[@name='act_move_in_location_open']" position="attributes">
                <attribute name="icon">o-hm-smart-all-product-move</attribute>
            </xpath>
            <xpath expr="//button[@name='act_move_out_location_open']" position="attributes">
                <attribute name="icon">o-hm-smart-all-putaway</attribute>
            </xpath>
            <xpath expr="//group/group/field[@name='return_location']" position="after">
                <field name="is_expired_stock_location"/>
            </xpath>
            <xpath expr="//label[@for='location_id']" position="replace"/>
            <xpath expr="//field[@name='location_id']" position="replace">
                <group>
                    <group>
                        <field name="location_id" options="{'no_create': True}" required="1"/>
                    </group>
                    <group>
                        <field name="responsible_users" widget="many2many_tags"/>
                    </group>
                </group>
            </xpath>
            <xpath expr="//field[@name='removal_strategy_id']" position="after">
                <field name="additional_transfer_note"/>
            </xpath>
<!--            <xpath expr="//field[@name='capacity_type']" position="after">-->
<!--                <field name="capacity_weight" attrs="{'invisible': [('capacity_type', '!=', 'weight')]}"/>-->
<!--                <field name="occupied_weight" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'weight')]}"/>-->
<!--                <field name="capacity_volume" attrs="{'invisible': [('capacity_type', '!=', 'volume')]}"/>-->
<!--                <field name="occupied_volume" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'volume')]}"/>-->
<!--            </xpath>-->
            <xpath expr="//field[@name='company_id']" position="attributes">
                <attribute name="domain">company_id_domain</attribute>
            </xpath>
            <xpath expr="//field[@name='company_id']" position="after">
                <field name="company_id_domain" invisible="1"/>
            </xpath>
        </field>
    </record>

    <record id="app_view_location_form_inherit" model="ir.ui.view">
        <field name="name">app.view.location.form.inherit</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="app_stock_location_capacity.app_view_location_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='capacity_type']/.." position="replace"/>
            <xpath expr="//group/group[3]" position="after">
                <group string="Capacity" attrs="{'invisible': [('usage', 'not in',  ('internal', 'transit'))]}">
                    <field name="capacity_type"/>
                    <field name="occupied_order" readonly="1" attrs="{'invisible': [('capacity_type', '!=', 'model')]}"/>
                    <field name="capacity_unit" attrs="{'invisible': [('capacity_type', '!=', 'unit')]}"/>
                    <field name="occupied_unit" attrs="{'invisible': [('capacity_type', '!=', 'unit')]}"/>
                    <field name="capacity_weight" attrs="{'invisible': [('capacity_type', '!=', 'weight')]}"/>
                    <field name="occupied_weight" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'weight')]}"/>
                    <field name="capacity_volume" attrs="{'invisible': [('capacity_type', '!=', 'volume')]}"/>
                    <field name="capacity_length" attrs="{'invisible': [('capacity_type', '!=', 'length')]}"/>
                    <field name="capacity_width" attrs="{'invisible': [('capacity_type', '!=', 'width')]}"/>
                    <field name="capacity_height" attrs="{'invisible': [('capacity_type', '!=', 'height')]}"/>
                    <field name="occupied_volume" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'volume')]}"/>
                    <field name="occupied_length" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'length')]}"/>
                    <field name="occupied_width" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'width')]}"/>
                    <field name="occupied_height" readonly='1' attrs="{'invisible': [('capacity_type', '!=', 'height')]}"/>
                    <field name="occupied_percent"/>
                    <field name="is_putaway_max_capacity" invisible="1"/>
                    <field name="on_max_capacity" attrs="{'invisible': ['|', ('capacity_type', '!=', 'unit'), ('is_putaway_max_capacity', '=', False)]}"/>
                    <field name="putaway_destination" attrs="{'invisible': [('on_max_capacity', '=', False)], 'required': [('on_max_capacity', '=', True)]}"
                                domain="[('warehouse_id', '=', warehouse_id)]"/>
                </group>
            </xpath>
            <xpath expr="//field[@name='capacity_unit']" position="attributes">
                <attribute name="string">Quantity Max </attribute>
            </xpath>
            <xpath expr="//field[@name='occupied_unit']" position="attributes">
                <attribute name="string">Quantity Occupied </attribute>
            </xpath>  
        </field>
    </record>

    <record id="stock.action_location_form" model="ir.actions.act_window">
        <field name="view_mode">tree,kanban,form</field>
    </record>

    <record id="view_location_tree2_wh_inherit" model="ir.ui.view">
        <field name="name">view.location.inherit.tree2</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="stock_3dbase.view_location_tree2_wh"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='posx']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='posy']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='posz']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='sizex']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='sizey']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='sizez']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
            <xpath expr="//field[@name='tag_ids']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>

        </field>
    </record>

    <record id="view_location_form_threed_inherit" model="ir.ui.view">
        <field name="name">view.location.inherit.tree2</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="stock_3dview.view_location_form_threed"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='threedView']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
        </field>
    </record> 

    <record id="view_location_form_wh_inherit" model="ir.ui.view">
        <field name="name">view.location.inherit</field>
        <field name="model">stock.location</field>
        <field name="inherit_id" ref="stock_3dbase.view_location_form_wh"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='posx']" position="replace"/>
            <xpath expr="//field[@name='posy']" position="replace"/>
            <xpath expr="//field[@name='posz']" position="replace"/>
            <xpath expr="//field[@name='sizex']" position="replace"/>
            <xpath expr="//field[@name='sizey']" position="replace"/>
            <xpath expr="//field[@name='sizez']" position="replace"/>
            <xpath expr="//group/group[last()]" position="after">
                <group string="Location Dimension &amp; Size" groups="equip3_inventory_accessright_setting.group_is_three_dimension_warehouse">
                   <group>
                        <field name="posx"/>
                        <field name="posy"/>
                        <field name="posz"/>
                        <field name="sizex"/>
                        <field name="sizey"/>
                        <field name="sizez"/>
                   </group> 
                </group>
            </xpath>  
            <xpath expr="//field[@name='barcode']" position="attributes">
                <attribute name="string">Location Barcode </attribute>
            </xpath>
            <xpath expr="//field[@name='tag_ids']" position="attributes">
                <attribute name="groups">equip3_inventory_accessright_setting.group_is_three_dimension_warehouse</attribute>
            </xpath>
        </field>
    </record>

    <record id="location_removal_priority_view_tree" model="ir.ui.view">
		<field name="name">location.removal.priority.view</field>
		<field name="model">stock.location</field>
		<field name="priority" eval="500"/>
		<field name="arch" type="xml">
			<tree string="Location Removal Priority" create="false" editable="bottom" js_class="location_removal_priority">
				<field name="display_name" readonly="1" string="Location"/>
				<field name="description"/>
                <field name="removal_priority"/>
			</tree>
		</field>
	</record>

    <record id="action_location_removal_priority" model="ir.actions.act_window">
		<field name="name">Location Removal Priority</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">stock.location</field>
		<field name="view_id" ref="location_removal_priority_view_tree"/>
		<field name="view_mode">tree</field>
		<field name="domain">[('id', 'in', [])]</field>
        <field name="context">{'hasSelectors': False}</field>
		<field name="help" type="html">
		  <p class="o_view_nocontent_smiling_face">
			No Records Found!
		  </p>
		</field>
	</record>

    <record id="equip3_inventory_accessright_setting.menu_manage_wh_sublevel" model="ir.ui.menu">
        <field name="action" ref="action_location_removal_priority"/>
    </record>
</odoo>
