<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="web_loyalty_setting_form_view_inherit" model="ir.ui.view">
			<field name="name">all.loyalty.config.form.view</field>
			<field name="model">all.loyalty.setting</field>
			<field name="inherit_id" ref="bi_loyalty_generic.web_loyalty_setting_form_view"></field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='expiry_date']" position="after">
					<field name="company_id" readonly="1"/>
				</xpath>
			</field>
		</record>

		<record id="all_loyalty_setting_tree_view_inherit" model="ir.ui.view">
			<field name="name">all.loyalty.setting.inherit.view.tree</field>
			<field name="model">all.loyalty.setting</field>
			<field name="inherit_id" ref="bi_loyalty_generic.view_web_loyalty_setting_tree_view"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='active']" position="after">
					<field name="company_id"/>
				</xpath>
			</field>
		</record>

		<!-- <record model="ir.actions.act_window" id="bi_loyalty_generic.action_web_loyalty_setting">
			<field name="domain">[('company_id', '=', allowed_company_ids[0])]</field>
		</record> -->


		<record model="ir.actions.act_window" id="action_web_loyalty_setting_inherit">
			<field name="name">Loyalty Configuration</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">all.loyalty.setting</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem parent="bi_loyalty_generic.menu_web_loyalty_id" action="action_web_loyalty_setting_inherit" id="bi_loyalty_generic.menu_web_loyalty_setting"
			sequence="5"/>	


		<record id="web_loyalty_history_form_view" model="ir.ui.view">
			<field name="name">all.loyalty.history.form.view</field>
			<field name="model">all.loyalty.history</field>
			<field name="inherit_id" ref="bi_loyalty_generic.web_loyalty_history_form_view"></field>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='points']" position="after">
					<field name="company_id" readonly="1"/>
				</xpath>
			</field>
		</record>

		<!-- <record model="ir.actions.act_window" id="bi_loyalty_generic.action_web_loyalty_history">
			<field name="domain">[('company_id', '=', allowed_company_ids[0])]</field>
		</record> -->


		<record model="ir.actions.act_window" id="action_web_loyalty_history_inherit">
			<field name="name">Loyalty History</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">all.loyalty.history</field>
			<field name="view_mode">tree,form</field>
		</record>	

		<menuitem parent="bi_loyalty_generic.menu_web_loyalty_id" action="action_web_loyalty_history_inherit" id="bi_loyalty_generic.menu_web_loyalty_history"
			sequence="6"/>

	</data>
</odoo>
