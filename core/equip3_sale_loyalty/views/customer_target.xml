<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <!-- customer.target search view -->
        <record id="customer_target_view_search" model="ir.ui.view">
            <field name="name">customer.target.view.search</field>
            <field name="model">customer.target</field>
            <field name="arch" type="xml">
                <search string="">
                    <!-- Add your fields here -->
                    <field name="name"/>
                </search>
            </field>
        </record>

        <!-- customer.target tree view -->
        <record id="customer_target_view_tree" model="ir.ui.view">
            <field name="name">customer.target.view.tree</field>
            <field name="model">customer.target</field>
            <field name="arch" type="xml">
                <tree default_order="create_date desc">
                    <!-- Add your fields here -->
                    <field name="name"/>
                    <field name="res_name"/>
                    <field name="start_date"/>
                    <field name="end_date"/>
                    <field name="discount_line_product_id"/>
                    <field name="create_date"/>
                    <field name="company_id"/>
                </tree>
            </field>
        </record>

        <!-- customer.target form view -->
        <record id="customer_target_view_form" model="ir.ui.view">
            <field name="name">customer.target.view.form</field>
            <field name="model">customer.target</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_open_customer_voucher" type="object" class="oe_stat_button" icon="fa-dollar" attrs="{'invisible':[('customer_voucher_count','=',0)]}">
                                <field name="customer_voucher_count" string="Voucher" widget="statinfo"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1><field name="name"/></h1>
                            <h1><field name="res_name" placeholder="Name"/></h1>
                        </div>
                        <group>
                            <!-- Add your fields here -->
                            <group string="Target Conditions">
                                <field name="applied_to" widget="radio"/>
                                <field name="customer_categ_id" attrs="{'required':[('applied_to','=','category')],'invisible':[('applied_to','!=','category')]}"/>
                                <field name="partner_ids" widget="many2many_tags" attrs="{'required':[('applied_to','=','selected')],'invisible':[('applied_to','!=','selected')]}"/>
                                <field name="target_amount"/>
                                <field name="company_id"/>
                                <field name="currency_id" invisible="1"/>
                            </group>
                            <group string="Period">
                                <field name="start_date"/>
                                <field name="end_date"/>
                            </group>
                        </group>
                        <group>
                            <group string="Reward">
                                <field name="reward_type" widget="radio"/>
                                <field name="discount_line_product_id" readonly="1" force_save="1"/>
                                <field name="disc_type" attrs="{'required':[('reward_type','=','discount')],'invisible':[('reward_type','!=','discount')]}"/>
                                <field name="disc_amount" attrs="{'required':[('reward_type','=','discount'),('disc_type','=','fix')],'invisible':['|',('reward_type','!=','discount'),('disc_type','!=','fix')]}"/>
                                <label for="disc_percentage" string="Percentage" attrs="{'required':[('reward_type','=','discount'),('disc_type','=','percentage')],'invisible':['|',('reward_type','!=','discount'),('disc_type','!=','percentage')]}"/>
                                <div class="o_row" attrs="{'invisible':['|',('reward_type','!=','discount'),('disc_type','!=','percentage')]}">
                                    <field name="disc_percentage" attrs="{'required':[('reward_type','=','discount'),('disc_type','=','percentage')]}"/> %
                                </div>
                                <field name="free_product_line_ids" attrs="{'required':[('reward_type','=','product')],'invisible':[('reward_type','!=','product')]}">
                                    <tree editable="bottom">
                                        <field name="product_id"/>
                                        <field name="description"/>
                                        <field name="quantity"/>
                                        <field name="uom_id"/>
                                    </tree>
                                </field>
                                <field name="product_id" invisible="1"/>
                                <field name="quantity" invisible="1"/>
                                <field name="apply_cashback" attrs="{'required':[('reward_type','=','cashback')],'invisible':[('reward_type','!=','cashback')]}"/>
                                <label for="percentage" attrs="{'required':[('reward_type','=','cashback'),('apply_cashback','=','percentage')],'invisible':['|',('reward_type','!=','cashback'),('apply_cashback','!=','percentage')]}"/>
                                <div class="o_row" attrs="{'invisible':['|',('reward_type','!=','cashback'),('apply_cashback','!=','percentage')]}">
                                    <field name="percentage" attrs="{'required':[('reward_type','=','cashback'),('apply_cashback','=','percentage')],'invisible':['|',('reward_type','!=','cashback'),('apply_cashback','!=','percentage')]}"/>
                                </div>
                                <field name="fixed_amount" attrs="{'required':[('reward_type','=','cashback'),('apply_cashback','=','fixed')],'invisible':['|',('reward_type','!=','cashback'),('apply_cashback','!=','fixed')]}"/>
                            </group>
                            <group string="Validity">
                                <field name="voucher_type"/>
                                <label for="voucher_expiration"/>
                                <div class="o_row">
                                    <field name="voucher_expiration"/><span>Days</span>
                                </div>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- customer.target action window -->
        <record id="customer_target_action" model="ir.actions.act_window">
            <field name="name">Customer Target</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">customer.target</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    <!-- Add Text Here -->
                </p><p>
                    <!-- More details about what a user can do with this object will be OK --> 
                
                </p>
            </field>
        </record>

        <!-- This Menu Item must have a parent and an action -->
        <menuitem id="customer_target_menu_act" name="Customer Target" parent="equip3_sale_masterdata.customer_menu" action="customer_target_action" sequence="10"/>
    </data>
</odoo>