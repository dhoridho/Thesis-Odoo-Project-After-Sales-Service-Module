<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="view_move_form" model="ir.ui.view">
        <field name="model">account.move</field>
        <field name="inherit_id" ref="equip3_accounting_masterdata.view_move_form_inherit_accounting_masterdata" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='sh_invoice_recurring_order_id']" position="after">
                <field name="filter_picking_ids" invisible="1"/>
                <field name="filter_sale_order_ids" invisible="1"/>
                <field name="sale_order_ids_boolean" invisible="1"/>
                <field name="filter_purchase_order_ids" invisible="1"/>
                <field name="purchase_order_ids_boolean" invisible="1"/>
                <field name="picking_ids_boolean" invisible="1"/>

                <label for="sale_order_ids" attrs="{'invisible': [('move_type', '!=', 'out_invoice')], 'readonly': [('state', '=', 'posted')]}"/>
                <div class="d-flex">
                    <!-- <field name="sale_order_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'out_invoice')], 'readonly': [('state', '=', 'posted')]}"/> -->
                    <field name="sale_order_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'out_invoice')], 'readonly': [('state', '=', 'posted')]}" domain="filter_sale_order_ids"/>
                    <!-- <button name="action_sale_delivery" type="object" class="fa fa-shopping-basket btn-link" attrs="{'invisible': [('move_type', '!=', 'out_invoice')]}"/> -->
                </div>
                <label for="picking_ids" string="Delivery Order Reference" attrs="{'invisible': [('move_type', '!=', 'out_invoice')], 'readonly': [('state', '=', 'posted')]}"/>
                <div class="d-flex">
                    <field name="picking_ids" options="{'no_create':True,'no_create_edit':True}" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'out_invoice')], 'readonly': [('state', '=', 'posted')]}" domain="[('id', 'in', filter_picking_ids)]" string="Delivery Order Reference"/>
                    <!-- <button name="action_sale_delivery" type="object" class="fa fa-shopping-basket btn-link" attrs="{'invisible': [('move_type', '!=', 'out_invoice')]}"/> -->
                </div>

                <label for="po_reference_ids" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}"/>
                <div class="d-flex">
                    <field name="po_reference_ids" options="{'no_create':True,'no_create_edit':True}" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}" domain="filter_purchase_order_ids"/>
                </div>

                <label for="ro_reference_ids" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}"/>
                <div class="d-flex">
                    <field name="ro_reference_ids" options="{'no_create':True,'no_create_edit':True}" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}" domain="[('id', 'in', filter_picking_ids)]"/>
                </div>
                
                <!-- <label for="purchase_order_ids" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}"/> -->
                <label for="purchase_order_ids" string="Purchase Order Reference" invisible="1"/>
                <div class="d-flex">
                    <field name="purchase_order_ids" widget="many2many_tags" invisible="1"/>
                    <!-- <field name="purchase_order_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': ['|', ('state', '=', 'posted'), ('purchase_order_ids_boolean', '=', False)]}"  domain="filter_purchase_order_ids"/> -->
                    <!-- <button name="action_purchase_receipt" type="object" class="fa fa-shopping-basket btn-link" attrs="{'invisible': [('move_type', '!=', 'in_invoice')]}"/> -->
                </div>

                <!-- <label for="picking_ids" string="Receipt Order Reference" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}"/> -->
                <label for="picking_ids" string="Receipt Order Reference" invisible="1"/>
                <div class="d-flex">
                    <field name="picking_ids" widget="many2many_tags" invisible="1"/>
                    <!-- <field name="picking_ids" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')], 'readonly': [('state', '=', 'posted')]}" domain="[('id', 'in', filter_picking_ids)]" string="Receiving Order Reference"/> -->
                    <!-- <button name="action_purchase_receipt" type="object" class="fa fa-shopping-basket btn-link" attrs="{'invisible': [('move_type', '!=', 'in_invoice')]}"/> -->
                </div>

                

                
                
            </xpath>
        </field>
    </record>

    <!-- <record id="view_move_form_inherit_purchase" model="ir.ui.view">
        <field name="name">account.move.inherit.purchase</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="purchase.view_move_form_inherit_purchase"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='purchase_vendor_bill_id']" position="attributes">
                <attribute name="attrs"></attribute>
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//label[@for='purchase_vendor_bill_id']" position="attributes">
                <attribute name="attrs"></attribute>
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='purchase_vendor_bill_id']" position="after">
                <field name="purchase_order_reference" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')]}"/>
                <field name="receive_note_delivery_order_ref" widget="many2many_tags" attrs="{'invisible': [('move_type', '!=', 'in_invoice')]}" string="Receiving Note Reference"/>
            </xpath>  
        </field>
    </record> -->
</odoo>