<?xml version="1.0"?>
<odoo>
    <data>
        <record id="equip3_edit_holiday_status_form_inherit" model="ir.ui.view">
            <field name="name">equip3.hr.leave.type.extend.form</field>
            <field name="model">hr.leave.type</field>
            <field name="inherit_id" ref="hr_holidays.edit_holiday_status_form"/>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/div/button[2]/div[1]" position="replace">
                    <div class="o_stat_info">
                        <field name="group_days_leave"/>
                        <span class="o_stat_text">Group Leave</span>
                    </div>
                </xpath>
                <xpath expr="//button[@name='action_see_days_allocated']" position="attributes">
                    <attribute name="icon">o-hm-smart-hrm-group-day</attribute>
                </xpath>
                <xpath expr="//button[@name='action_see_group_leaves']" position="attributes">
                    <attribute name="icon">o-hm-smart-hrm-group-leave</attribute>
                </xpath>
                <xpath expr="//field[@name='name']" position="replace">
                    <field name="name" invisible="1"/>
                </xpath>
                <xpath expr="/form/sheet/div[2]" position="after">
                    <group>
                        <group>
                            <field name="name" string="Leave Type"/>
                            <field name="set_by" widget="radio"/>
                            <field name="leave_entitlement"/>
                        </group>
                        <group>
                            <field name="code"/>
                            <field name="gender"/>
                            <field name="is_dashboard"/>
                            <field name="is_show_attendance_report"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="/form/sheet/group[2]/group[1]/field[@name='code']" position="replace">
                    <field name="code" invisible="1"/>
                </xpath>
                <xpath expr="/form/sheet/group[2]/group[2]" position="replace">
                    <group string="Extra Leaves">
                        <label for="extra_leave_after" string="Extra Leave After"/>
                        <div class="o_row">
                            <field name="extra_leave_after"/>
                            <span>
                                <field name="year" readonly='1'/>
                            </span>
                            <field name="months"/>
                            <span>
                                <field name="month" readonly='1'/>
                            </span>
                            <field name="days"/>
                            <span>
                                <field name="day" readonly='1'/>
                            </span>
                        </div>
                        <field name="extra_leave_frequency"/>
                        <field name="interval_unit"/>
                        <field name="maximum_extra_leave"/>
                    </group>
                </xpath>
                <xpath expr="//field[@name='request_unit']" position="after">
                    <field name="day_count" widget="radio"/>
                    <field name="attendance_status"/>
                </xpath>
                <xpath expr="//field[@name='company_id']" position="replace">
                    <field name="company_id" readonly="1"/>
                    <!-- <field name="branch_id"/> -->
                    <field name="create_date" string="Created On"/>
                    <field name="create_uid" string="Created By"/>
                </xpath>
                <xpath expr="//field[@name='responsible_id']" position="replace">
                    <field name="responsible_id" domain="[('share', '=', False)]"
                           attrs="{'invisible': [('allocation_type', '=', 'fixed_allocation'),('allocation_validation_type', '=', 'manager')], 'required': ['|','|',('allocation_type', '=', 'no'),('allocation_type', '=', 'fixed'),'&amp;',('allocation_type', '=', 'fixed_allocation'),('allocation_validation_type', '!=', 'manager')]}"/>
                    <field name="leave_method"/>
                    <field name="is_prorate" attrs="{'invisible':[('leave_method','not in','anniversary')]}"/>
                    <field name="prorate_rounding" attrs="{'invisible':['|',('leave_method','not in','anniversary'),('is_prorate','=',False)],'required':[('is_prorate','=',True)]}"/>
                    <field name="is_count_join_month" attrs="{'invisible':['|',('leave_method','not in','anniversary'),('is_prorate','=',False)]}"/>
                    <field name="allocation_valid_until" widget="radio" attrs="{'invisible': [('leave_method','!=','none')],'required': [('leave_method','=','none')]}"/>
                    <field name="expiry_days"
                           attrs="{'invisible': ['|',('leave_method','!=','none'),('allocation_valid_until','!=','number_of_days')],'required': [('leave_method','=','none'),('allocation_valid_until','=','number_of_days')]}"/>
                    <label for="leave_months_appear" string="Leave Month Appear"
                           attrs="{'invisible':[('leave_method', 'not in', 'annually')]}"/>
                    <div class="o_row">
                        <span>
                            <field name="leave_months_appear"
                                   attrs="{'invisible':[('leave_method', 'not in', 'annually')]}"/>
                        </span>
                        <span>
                            <field name="leave_date_appear"
                                   attrs="{'invisible':[('leave_method', 'not in', 'annually')]}"/>
                        </span>
                    </div>
                    <label for="allocation_months_expired" string="Expiry Month"
                           attrs="{'invisible':['|',('leave_method', '!=', 'none'),('allocation_valid_until','!=','spesific_days')]}"/>
                    <div class="o_row">
                        <span>
                            <field name="allocation_months_expired"
                                   attrs="{'invisible':['|',('leave_method', '!=', 'none'),('allocation_valid_until','!=','spesific_days')],'required': [('leave_method','=','none'),('allocation_valid_until','=','spesific_days')]}"/>
                        </span>
                        <span>
                            <field name="allocation_date_expired"
                                   attrs="{'invisible':['|',('leave_method', '!=', 'none'),('allocation_valid_until','!=','spesific_days')],'required': [('leave_method','=','none'),('allocation_valid_until','=','spesific_days')]}"/>
                        </span>
                    </div>
                    <field name="monthly_start_valid_based_on" attrs="{'invisible':[('leave_method', 'not in', 'monthly')]}"/>
                    <label for="year_method_monthly" string="Years of Service"
                           attrs="{'invisible':['|',('leave_method', '!=', 'monthly'),('monthly_start_valid_based_on','!=','years_of_service')]}"/>
                    <div class="o_row" attrs="{'invisible':['|',('leave_method', '!=', 'monthly'),('monthly_start_valid_based_on','!=','years_of_service')]}">
                        <field name="year_method_monthly"
                                attrs="{'required': [('leave_method','=','monthly'),('monthly_start_valid_based_on','=','years_of_service')]}"/>
                        <span>year(s) -</span>
                        <field name="month_method_monthly"
                                attrs="{'required': [('leave_method','=','monthly'),('monthly_start_valid_based_on','=','years_of_service')]}"/>
                        <span>month(s) -</span>
                        <field name="day_method_monthly"
                                attrs="{'required': [('leave_method','=','monthly'),('monthly_start_valid_based_on','=','years_of_service')]}"/>
                        <span>day(s)</span>
                    </div>
                    <field name="valid_leave" widget="radio"
                           attrs="{'invisible':[('leave_method', 'not in', 'monthly')]}"/>
                    <field name="maximum_leave"
                           attrs="{'invisible':[('leave_method', 'not in', 'monthly')],'required':[('leave_method', '=', 'monthly')]}"/>
                    <field name="min_days_before_alloc"/>
                    <field name="repeated_allocation"/>
                    <field name="overtime_extra_leave"/>
                    <field name="total_actual_hours" attrs="{'invisible':[('overtime_extra_leave', '=', False)]}"/>
                    <field name="formula" attrs="{'invisible':[('overtime_extra_leave', '=', False)]}"/>
                </xpath>
                <xpath expr="//group[2]/group[4]" position="replace">
                    <group name="leave_validation" string="Leave Requests">
                        <field name="leave_validation_type"/>
                        <field name="approval_level"
                               attrs="{'invisible':[('leave_validation_type', 'not in', 'by_employee_hierarchy')]}"/>
                        <field name="limit_days"/>
                        <field name="minimum_days_before"/>
                        <field name="is_required"/>
                        <field name="attachment_notes" attrs="{'required':[('is_required', '=', True)]}"/>
                        <field name="allow_minus"/>
                        <field name="maximum_minus" attrs="{'invisible':[('allow_minus', '!=', True)]}"/>
                        <field name="allow_past_date"/>
                        <field name="past_days" attrs="{'invisible':[('allow_past_date', '!=', True)]}"/>
                        <field name="urgent_leave"/>
                    </group>
                </xpath>
                <xpath expr="//group[2]/group[5]" position="replace">
                    <group name="notification" string="Notification">
                            <field name="leave_notif_subtype_id"
                                   domain="[('res_model','=','hr.leave')]"
                                   context="{'default_name': name, 'default_res_model': 'hr.leave'}"/>
                            <field name="allocation_notif_subtype_id"
                                   domain="[('res_model','=','hr.leave.allocation')]"
                                   context="{'default_name': name, 'default_res_model': 'hr.leave.allocation'}"/>
                    </group>
                </xpath>
                <xpath expr="//group[2]/group[6]" position="replace">
                    <group name="calendar" string="Calendar">
                        <field name="create_calendar_meeting"/>
                        <field name="color_name"/>
                        <field name="company_id" groups="base.group_multi_company"/>
                        <field name="employee_id" invisible="1"/>
                    </group>
                </xpath>
                <xpath expr="/form/sheet/group[2]/group[5]" position="after">
                    <group string="Carry Forward">
                        <field name="carry_forward"/>
                        <field name="no_of_days" attrs="{'invisible':[('carry_forward', 'not in', 'specific_days')]}"/>
                        <field name="carry_forward_expiry_selection" attrs="{'invisible':[('carry_forward', 'not in', ['specific_days','remaining_amount'])],'required': [('carry_forward', 'in', ['specific_days','remaining_amount'])]}"/>
                        <field name="carry_forward_expiry"
                               attrs="{'invisible':['|','|',('carry_forward', 'not in', ['specific_days','remaining_amount']),('count_on_payslip', '=', True),('carry_forward_expiry_selection', '!=', 'number_of_days')]}"/>
                        <field name="rounding"
                               attrs="{'invisible':[('carry_forward', 'not in', ['specific_days','remaining_amount'])]}"/>
                        <field name="count_on_payslip" attrs="{'invisible':[('carry_forward', 'not in', ['specific_days','remaining_amount'])]}"/>
                        <field name="is_limit_period" attrs="{'invisible':[('carry_forward', 'not in', ['specific_days','remaining_amount'])]}"/>
                        <field name="limit_period" attrs="{'invisible':['|',('carry_forward', 'not in', ['specific_days','remaining_amount']),('is_limit_period', '=', False)]}"/>
                    </group>
                </xpath>
                <xpath expr="//field[@name='request_unit']" position="replace">
                    <field name="request_unit" widget="radio" string="Take Leave in"/>
                </xpath>
                <xpath expr="//form/sheet" position="after">
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </xpath>
            </field>
        </record>

        <record id="equip3_view_holiday_status_normal_tree_inherit" model="ir.ui.view">
            <field name="name">equip3.view.holiday.status.normal.tree</field>
            <field name="model">hr.leave.type</field>
            <field name="inherit_id" ref="hr_holidays.view_holiday_status_normal_tree"/>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='display_name']" position="replace">
                    <field name="display_name" string="Leave Type"/>
                </xpath>
                <xpath expr="//field[@name='allocation_type']" position="replace">
                    <field name="leave_entitlement"/>
                </xpath>
                <xpath expr="//field[@name='validity_start']" position="replace">
                    <field name="allow_minus"/>
                    <field name="carry_forward"/>
                    <field name="day_count"/>
                </xpath>
                <xpath expr="//field[@name='validity_stop']" position="replace">
                </xpath>
            </field>
        </record>

        <record id="equip3_view_holiday_status_filter_inherit" model="ir.ui.view">
            <field name="name">equip3.view.holiday.status.filter</field>
            <field name="model">hr.leave.type</field>
            <field name="inherit_id" ref="hr_holidays.view_holidays_status_filter"/>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="replace">
                    <field name="name" string="Leave Types"/>
                    <group expand="0" string="Group By">
                        <filter name="group_name" string="Leave Type" context="{'group_by':'name'}"/>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="project_timesheet_holidays.hr_holiday_status_view_form_inherit" model="ir.ui.view">
            <field name="name">hr.leave.type.form</field>
            <field name="model">hr.leave.type</field>
            <field name="inherit_id" ref="hr_holidays.edit_holiday_status_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='calendar']" position="after">
                    <group name="timesheet" string="Timesheet">
                        <field name="timesheet_project_id" context="{'active_test': False}"/>
                        <field name="timesheet_task_id" context="{'active_test': False}"/>
                        <field name="timesheet_generate" invisible="1"/>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="hr_holidays.open_view_holiday_status" model="ir.actions.act_window">
            <field name="name">Leave Types</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.leave.type</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

    </data>
</odoo>