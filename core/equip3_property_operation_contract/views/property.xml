<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <!-- product.product inherit form view -->
        <record id="product_property_inherit_form_view_contract" model="ir.ui.view">
            <field name="name">product.product.inherit.view.form</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="property_rental_mgt_app.product_normal_form_view_inherit"/>
            <field name="arch" type="xml">
                <button name="%(property_rental_mgt_app.property_contract_action)d" position='attributes'>
                    <attribute name="invisible">1</attribute>
                </button>
                <xpath expr="//button[@name='button_confirm']" position="after">
                    <button class="oe_highlight" type="object" name="set_rentable" string="Set to Rentable" icon="fa-check" states="reserve" groups="property_rental_mgt_app.group_manager"/>
                </xpath>
                <div name="button_box" position="inside">
                    <button class="oe_stat_button" name="contract_action_link" type="object" icon="fa-list" attrs="{'invisible':[ ('contract_count', '=', 0)]}">
                        <div class="o_field_widget o_stat_info">
                            <span class="o_stat_value">
                                <field name="contract_count" widget="statinfo" nolabel="1" class="mr4"/>
                            </span>
                            <span class="o_stat_text">Contract</span>
                        </div>
                    </button>
                </div>
                <xpath expr="//page[@name='rent_payer']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
    </data>
</odoo>