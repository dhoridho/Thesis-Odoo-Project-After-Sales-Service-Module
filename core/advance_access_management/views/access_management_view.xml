<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="access_management_form_view_ah" model="ir.ui.view">
            <field name="name">access_management_form_view_ah</field>
            <field name="inherit_id" ref="simplify_access_management.access_management_form_view_ah"/>
            <field name="model">access.management</field>
            <field name="arch" type="xml">
                <xpath expr="//sheet/notebook/page/field[@name='access_domain_ah_ids']/form/sheet/group/group" position="inside">
                    <field name="soft_restrict"/>
                </xpath>
                <xpath expr="//sheet/notebook/page/field[@name='access_domain_ah_ids']/tree/field[@name='domain']" position="after">
                    <field name="soft_restrict" width='10'/>
                </xpath>
                <xpath expr="//sheet/notebook/page/field[@name='remove_action_ids']/tree/field[@name='view_data_ids']" position="after">
                    <field name="model" invisible='1'/>
                    <field name="view_ids" widget="many2many_tags" string="Views" context="{'is_access_rights': True}"
                                               options="{'no_create': True}" width="10"/>
                </xpath>
                <xpath expr="//sheet/notebook/page[last()]/group/group[2]/field[@name='hide_export']" position="after">
                    <field name="hide_custom_filter"/>
                    <field name="hide_custom_group"/>
                </xpath>

                <xpath expr="//sheet/notebook/page/field[@name='hide_filters_groups_ids']/tree/field[@name='groups_store_model_nodes_ids']" position="after">
                    <field name="restrict_custom_filter" string="Hide Custom Filter" width='10'/>
                    <field name="restrict_custom_group" string="Hide Custom Group" width='10'/>
                </xpath>
                <xpath expr="//sheet/notebook/page/field[@name='hide_field_ids']/tree/field[@name='required']" position="after">
                    <field name="create_option" string="Remove Create Option" width="10"/>
                    <field name="edit_option" string="Remove Edit Option" width="10"/>
                </xpath>

                <xpath expr="//sheet/notebook/page[3]" position="after">
                    <page string="Field Conditional Access">
                        <field name="field_conditional_access_ids">
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="model_id" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                                            <field name="model_name" invisible="1"/>
                                            <field name="domain_field_relation" invisible="1"/>
                                        </group>
                                    </group>
                                    <group>
                                        <group>
                                            <field name="apply_attrs"/>
                                        </group>
                                        <group>
                                            <field name="apply_field_domain"/>
                                        </group>
                                    </group>
                                   <notebook>
                                        <page string="Attrs" attrs="{'invisible' : [('apply_attrs', '=', False)]}">
                                            <group>
                                                <field name="attrs_field_id" domain="[('model_id','=',model_id)]" context="{'is_access_rights': True}" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                                                <field name="attrs_type" widget="radio" />
                                                <field name="field_attrs" string="Attrs" widget="terabits_domain" options="{'model': 'model_name'}" />
                                            </group>
                                        </page>
                                        <page string="Field Domain" attrs="{'invisible' : [('apply_field_domain', '=', False)]}">
                                            <group>
                                                <field name="domain_field_id" domain="[('model_id','=',model_id),('ttype','in',['many2one', 'many2many', 'one2many'])]" context="{'is_access_rights': True}" options="{'no_open': True, 'no_create': True, 'no_create_edit': True}"/>
                                                <field name="field_domain" string="Domain" widget="terabits_domain" options="{'model': 'model_name'}" />
                                            </group>
                                        </page>
                                    </notebook>
                                </sheet>
                                
                            </form>
                            <tree>
                                <field name="model_id" width="10"/>
                                <field name="attrs_type" width="10"/>
                                <field name="attrs_field_id" width="10"/>
                                <field name="field_attrs" width="10"/>
                                <field name="domain_field_id" width="10"/>
                                <field name="field_domain" width="10"/>
                            </tree>
                        </field>
                        <p role="alert" class="fa fa-info-circle  alert alert-info alert-dismissible rounded-0 fade show d-print-none css_editable_mode_hidden" style="font-size: 15px;letter-spacing: 1px;">
                            You can apply attrs and domain in field of specific model for the specified user(s) from here.
                        </p>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>