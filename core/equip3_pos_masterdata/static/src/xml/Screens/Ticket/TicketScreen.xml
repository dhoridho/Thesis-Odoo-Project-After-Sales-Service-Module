<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="RetailTicketScreen" owl="1">

        <div class="ticket-screen screen">
            <div class="screen-content">
                <div class="controls">

                    <div class="buttons" style="margin-left:15px;">

                <!--         <button class="highlight close-screen-button" t-on-click="trigger('close-temp-screen')" 
                            style="background: unset !important; border: unset !important; box-shadow: unset !important; font-size: 20px;margin-left: unset; padding-left: unset;">
                            <i class="fa fa-chevron-left"></i>
                            <t t-if="!env.isMobile">Back</t>
                        </button>  -->
                        <br/>

                        <h1 tclass="alert_line" 
                            style="margin-bottom: unset;margin-top:unset;margin-right: 20px; font-weight: 900;color:black;">
                            Orders
                        </h1>

                    </div>
                    
                </div>
                <div class="controls" style="margin-left:14px;margin-bottom:20px;">
                    <SearchBar automaticSearchOrder="true"  config="searchBarConfig" placeholder="'Search Orders...'"/>
                    <div>

                        <button class="button-right" t-on-click="createNewOrder">
                            New Order
                        </button>

                        <button style="padding-top:15px; padding-bottom:15px;" 
                            t-if="env and env.pos and env.pos.config and env.pos.config.is_manual_sync_for_sync_between_session"
                            class="button-right sync_session_order_button" 
                            t-on-click="onClickSyncSessionOrders">
                            <span>
                                <t t-if="pos_sync_session_order.state == 'connecting'">
                                    <i aria-label="Sync Connecting" title="Sync Connecting" class="fa fa-fw fa-spin fa-spinner"></i>
                                </t>
                                <span>Sync</span>
                            </span>
                        </button>

                        <!-- <button class="button-right" t-on-click="removeAllOrders" t-if="env.pos.config.allow_remove_order">
                            <i class="fa fa-trash"/>
                            Remove All Orders
                        </button> -->

                    </div>
                </div> 
                
                <div class="orders">
                    <table class='summary-table table_ticketing'>
                        <!-- <colgroup>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                            <col width='10%'/>
                        </colgroup> -->
                        <tr class="receipt-line header" style="position: sticky;top: -19px;">
                            <td class="th-sequence" style="text-align: center">
                                No
                            </td>
                            <td class="th-date" style="text-align: center" width='15%'>
                                Date
                            </td>
                            <td class="th-pos_reference" style="text-align: center" width='20%'>
                                Receipt Number<br/>
                            </td>
                            <td class="th-cashier" style="text-align: center" width='15%'>
                                Cashier
                            </td>
                            <td class="th-customer" style="text-align: center" width='15%'>
                                Member
                            </td>
                            <td class="th-guest" style="text-align: center" width='10%'>
                                Guest
                            </td>
                            <td class="th-floor" style="text-align: center" width='5%'>
                                Floor
                            </td>
                            <td class="th-table" style="text-align: center" width='5%'>
                                Table
                            </td>
                            <td class="th-total" style="text-align: center" width='10%'>
                                Total
                            </td>
                            <td class="th-checker" style="text-align: center" width='5%'>
                                Checker
                            </td>
                            <td class="th-delete" style="text-align: center" width='5%'>
                                Remove
                            </td>
                        </tr>
                        <t t-foreach="filteredOrderList" t-as="order" t-key="order.cid">
                            <tr class="receipt-line" t-on-click="selectOrder(order)">
                                <td class="td-sequence td-sync_sequence_number" style="text-align: center">
                                    <span><t t-esc="order.sync_sequence_number"/></span>
                                </td>
                                <td class="td-date" style="text-align: center">
                                    <t t-esc="getDate(order)"/>
                                </td>
                                <td class="td-pos_reference" style="text-align: center">
                                    <t t-esc="getPosReference(order)"/>
                                </td>
                                <td class="td-cashier" style="text-align: center">
                                    <t t-esc="getCashier(order)"/>
                                </td>
                                <td class="td-customer" style="text-align: center">
                                    <t t-esc="getCustomer(order)"/>
                                </td>
                                <td class="td-guest" style="text-align: center">
                                    <t t-esc="getGuestOnly(order)"/>
                                </td>
                                <td class="td-floor" style="text-align: center">
                                    <t t-esc="getFloorOnly(order)"/>
                                </td>
                                <td class="td-table" style="text-align: center">
                                    <t t-esc="getTableOnly(order)"/>
                                </td>
                                <td class="td-total" style="text-align: center">
                                    <t t-esc="getTotal(order)"/>
                                </td>
                                <td class="td-checker" style="text-align: center !important;">
                                    <i class="fa fa-print" aria-hidden="true" t-on-click.stop="printforstaff(order)"/>
                                </td>
                                <td class="td-delete" style="text-align: center !important;" t-if="!hideDeleteButton(order)">
                                    <i class="fa fa-trash" aria-hidden="true" t-on-click.stop="deleteOrder(order)"/>
                                </td>                    
                            </tr>
                        </t>
                    </table>
                </div>

            </div>
        </div>
 
    </t>

</templates>
