<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="ReceiptProductName" owl="1">
        <div class="product-line-name" style="font-size: 100% !important; font-weight: 400">
            <t t-esc="props.line.product.display_name"/>
            <span class="product-unit-name">
                <t t-esc="env.pos.format_currency(props.line.price)"/>
                <span> x </span>
                <t t-esc="env.pos.format_currency_no_symbol(props.line.quantity)"/>
                <span>
                    (<t t-esc="props.line.get_unit()['name']"/>)
                </span>
            </span>
        </div>
    </t>


    <t t-name="OrderReceiptLinePriceUnit" owl="1">
        <t t-if="!env.pos.config.display_tax_orderline">
            <div class="product-line-name">
                <t t-esc="env.pos.format_currency_no_symbol(line.get_display_price())"/>
            </div>
        </t>
        <t t-if="env.pos.config.display_tax_orderline">
            <div class="product-line-name">
                <t t-esc="env.pos.format_currency_no_symbol(line.get_price_with_tax())"/>
            </div>
        </t>
    </t>

    <t t-name="OrderReceiptLineExtra" owl="1">
        <t t-set="line" t-value="props.line"/>
        <div class="receipt-line">
            <t t-if="line.promotion and line.promotion_reason">
                <div class="product-line-name">
                    <span> * </span>
                    Promotion Applied:
                    <t t-esc="line.promotion_reason"/>
                </div>
                <div class="product-line-name" t-if="line.promotion_amount">
                    <span> * </span>
                    Promotion Amount:
                    <t t-esc="line.promotion_amount"/>
                </div>
                <div class="product-line-name" t-if="line.promotion_discount">
                    <span> * </span>
                    Promotion Disc:
                    <t t-esc="line.promotion_discount"/> (%)
                </div>
            </t>
            <t t-if="line.modifiers">
                <t t-foreach="line.modifiers" t-as="modifier" t-key="modifier">
                    <div class="product-line-name">
                        <span> * </span>
                        <t t-esc="modifier"/>
                        <span> : </span>
                        <t t-esc="line.modifiers[modifier]"/>
                    </div>
                </t>
            </t>
            <t t-if="line.discount">
                <div class="product-line-name">
                    <span> * </span>
                    Discount:
                    <t t-esc="line.discount"/>
                    % ( -
                    <t t-esc="env.pos.format_currency(line.get_price_discount())"/>
                    )
                </div>
            </t>
            <t t-if="line.price_extra">
                <div class="product-line-name">
                    <span> * </span>
                    Price Extra:
                    <t t-esc="env.pos.format_currency_no_symbol(line.price_extra, 'Price extra')"/>
                </div>
            </t>
            <t t-if="line.discount_extra">
                <div class="product-line-name">
                    <span> * </span>
                    Discount Extra:
                    <t t-esc="line.discount_extra"/>
                    %
                </div>
            </t>
            <t t-if="env.pos.config.display_tax_receipt and line.get_tax() > 0">
                <div class="product-line-name">
                    <span> * </span>
                    Taxes:
                    <t t-esc="env.pos.format_currency_no_symbol(line.get_tax())"/>
                </div>
            </t>
            <t t-if="line.pack_lot_lines and line.pack_lot_lines.models">
                <t t-foreach="line.pack_lot_lines.models" t-as="lot_model"
                   t-key="lot_model">
                    <div class="product-line-name">
                        <span> * </span>
                        Lot:
                        <t t-esc="lot_model.attributes.lot_name"/>
                    </div>
                </t>
            </t>
            <t t-if="line.combo_items">
                <t t-foreach="line.combo_items" t-as="combo_item" t-key="combo_item">
                    <div class="product-line-name">
                        <span> * </span>
                        <t t-esc="combo_item.quantity * line.quantity"/>
                        <span> x </span>
                        <t t-esc="combo_item.product_id[1]"/>
                    </div>
                    <t t-if="combo_item.modifiers">
                        <t t-foreach="combo_item.modifiers" t-as="modifier" t-key="modifier">
                            <div class="product-line-name">
                                <span> * </span>
                                <t t-esc="modifier"/>
                                <span> : </span>
                                <t t-esc="combo_item.modifiers[modifier]"/>
                            </div>
                        </t>
                    </t>
                </t>
            </t>
            <t t-if="line.selected_combo_items">
                <t t-foreach="line.selected_combo_items" t-as="product_id"
                   t-key="product_id">
                    <t t-if="env.pos.db.product_by_id[product_id]">
                        <div class="product-line-name">
                            <span> * </span>
                            <t t-esc="line.selected_combo_items[product_id]"/>
                            <span> x </span>
                            <t t-esc="env.pos.db.product_by_id[product_id].display_name"/>
                        </div>
                    </t>
                </t>
            </t>
            <t t-if="line.get_line_note()">
                <div class="product-line-name">
                    <span> * </span>
                    Notes :
                    <t t-esc="line.get_line_note()"/>
                </div>
            </t>
            <div class="product-line-name" t-if="line.packaging">
                <span> * </span>
                Packaging :
                <t t-esc="line.packaging.name"/>
            </div>
            <t t-if="line.variants">
                <t t-foreach="line.variants" t-as="variant" t-key="variant">
                    <div class="product-line-name">
                        + <t t-esc="variant.value_id[1]"/>
                        <t t-esc="env.pos.format_currency_no_symbol(variant.price_extra, 'Price extra')"/>
                    </div>
                </t>
            </t>
            <t t-if="line.tags and line.tags.length">
                <span> * </span>
                Tags:
                <t t-foreach="line.tags" t-as="tag" t-key="tag.id">
                    <div class="product-line-name">
                        <t t-esc="tag.name"/>
                    </div>
                </t>
            </t>
            <t t-if="line.generic_options and line.generic_options.length">
                <span> * </span>
                Generic Option:
                <t t-foreach="line.generic_options" t-as="generic" t-key="generic">
                    <div class="product-line-name">
                        <t t-esc="generic.name"/>
                    </div>
                </t>
            </t>
        </div>
    </t>


    <t t-name="RetailOrderReceiptCustomTemplate" owl="1">
        <div class="pos-receipt pos-receipt-custom_template" t-att-style="'width:'+receipt_template.width+';'" t-att-id="receipt_template.element_id">
            <div class="pos-receipt-header-custom-template">
                <div style="text-align:center;">
                    <t t-if="receipt.company.logo">
                        <img class="pos-receipt-logo" t-att-src="receipt.company.logo" alt="Logo" style="width: 50%;margin-bottom: -5px;"/>
                    </t>
                    <p t-if="receipt.company.name" style="margin-bottom: 0px;">
                        <span t-esc="receipt.company.name" style="font-weight:bold;"/>
                    </p>
                    <p t-if="env.pos.config.pos_branch_name" style="margin: 0px;margin-top:5px;">
                        <span t-esc="env.pos.config.pos_branch_name"/>
                    </p>

                    <t if="!env.pos.config.branch_street and !env.pos.config.branch_street_2">
                        <div t-if="env.pos.company.street or env.pos.company.street2" style="color:white;height:5px;">-----</div>
                        <p t-if="env.pos.company.street" style="margin: 0px;">
                            <span t-esc="env.pos.company.street"/>
                        </p>
                        <p t-if="env.pos.company.street2" style="margin: 0px;">
                            <span t-esc="env.pos.company.street2"/>
                        </p>
                    </t>

                    <div t-if="env.pos.config.branch_street or env.pos.config.branch_street_2" style="color:white;height:5px;">-----</div>

                    <p t-if="env.pos.config.branch_street" style="margin: 0px;">
                        <span t-esc="env.pos.config.branch_street"/>
                    </p>
                    <p t-if="env.pos.config.branch_street_2" style="margin: 0px;">
                        <span t-esc="env.pos.config.branch_street_2"/>
                    </p>
                    <p t-if="env.pos.config.branch_telephone" style="margin: 0px;margin-top:5px;">
                        <span t-esc="env.pos.config.branch_telephone"/>
                    </p>

                    <p t-if="receipt_template.is_need_header and receipt_template.receipt_header_text" class="custom_header_text">
                        <span t-esc="receipt_template.receipt_header_text"/>
                    </p>
                </div>
                <div style="margin-top: 15px;">
                    <p style="margin: 3px 0;">Date : <t t-esc="receipt.date.LocaleStringdateStyle+' '+receipt.date.LocaleStringtimeStyle"/></p>
                    <p style="margin: 3px 0;">No Order : <t t-esc="receipt.name"/></p>
                    <p style="margin: 3px 0;" class="receipt_cashier">Cashier : <t t-esc="receipt.cashier"/></p>
                    <p style="white-space: nowrap; overflow: hidden; text-overflow: unset;margin-bottom:0px;margin: 3px 0;" class="prct_line_break_s_top">--------------------------------------------------------------------------------------</p>
                </div>
            </div>
            <div class="pos-receipt-content-custom-template">
                <t t-foreach="receipt.orderlines" t-as="line" t-key="line.id">
                    <div style="margin-bottom: 10px;">
                        <p  style="margin: 0px 0px;">
                            <span class="line-product_name" style="position: relative;">
                                <t  t-if="line.pos_coupon_reward_description">
                                    <span><t t-esc="line.pos_coupon_reward_description"/></span>
                                    <img style="max-height: 12px;width: auto;display: inline-block;margin-left: 5px;" 
                                        t-att-src="receipt.icon_coupon_base64"/>
                                </t>
                                <t  t-elif="receipt_template.is_receipt_product_code">
                                    <t t-esc="line.full_product_name"/>
                                </t>
                                <t t-else="">
                                    <t t-esc="line.product_only_name" />
                                </t>
                            </span>
                        </p>
                        <t t-if="receipt_template.is_receipt_serial_lot_info and line.lot_sn">
                            <p  style="margin: 0px 0px;">Lot/SN : <t t-esc="line.lot_sn"/></p>
                        </t>
                        <div style="display: flex;width: 100%;" class="prct_line_price_core">
                            <div style="width:3%;">
                            </div>
                            <div style="width:57%;">
                                <p  style="margin: 0px 0px;"><t t-esc="line.quantity"/> <t t-esc="line.unit_name" /> x <t t-esc="env.pos.format_currency(line.price_with_pricelist,false,receipt.currency)"/></p>
                            </div>
                            <div class="text-right" style="width:40%;">
                                 <p  style="margin: 0px 0px;">
                                    <t t-esc="env.pos.format_currency(line.price_with_pricelist * line.quantity,false,receipt.currency)"/>
                                    
                                </p>
                            </div>
                        </div>
                        <!-- Untuk munculkan tax di orderline -->
<!--                         <t t-foreach="line.taxdetails" t-as="tx" >
                            <div style="display: flex;width: 100%;">
                                <div style="width:3%;">
                                </div>
                                <div style="width:57%;">
                                    <p  style="margin: 0px 0px;"><t t-esc="'Taxes ('+tx+')'"/></p>
                                </div>
                                <div class="text-right" style="width:40%;">
                                     <p  style="margin: 0px 0px;"><t t-esc="env.pos.format_currency(line.taxdetails[tx])"/></p>
                                </div>
                            </div>
                        </t> -->
                        <div style="display: flex;width: 100%;" class="div-all_total_discount" 
                            t-if="receipt_template.is_receipt_disc_in_orderline and line.all_total_discount">
                            <div style="width:3%;">
                            </div>
                            <div style="width:57%;">
                                <p  style="margin: 0px 0px;">
                                    <span>Discount  </span>
                                    <t t-if="receipt_template.is_show_discount_detail">
                                        <t  t-if="line.name_promotion">
                                                &#160;(<t t-esc="line.name_promotion"/>)
                                        </t>
                                        <t t-if="line.promotion_type=='Discount Percentage'">
                                                &#160;(<t t-esc="line.promotion_discount"/>)
                                        </t>
                                    </t>
                                    <t t-if="line.pos_coupon_reward_discount">
                                        <span>(<t t-esc="line.pos_coupon_reward_discount"/>)</span>
                                    </t>
                                </p>
                            </div>
                            <div class="text-right" style="width:40%;">
                                <p style="margin: 0px 0px;">
                                    <t  t-if="line.all_total_discount > 0">
                                        (<t t-esc="env.pos.format_currency(line.all_total_discount, false, receipt.currency)"/>)
                                    </t>
                                    <t  t-if="line.all_total_discount &lt; 0">
                                        <t t-esc="env.pos.format_currency(line.all_total_discount*-1, false, receipt.currency)"/>
                                    </t>
                                </p>
                            </div>
                        </div>
                    </div>
                </t>
                <div>
                    <p  style="margin: 0px 0px;">Total Items : <t t-esc="receipt.orderlines.length"/></p>
                    <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;">--------------------------------------------------------------------------------------</p>
                </div>
                <div style="display: flex;width: 100%;" class="receipt_template_c_content_bottom">
                    <div style="width:100%;">
                        <div style="display: flex;width: 100%;">
                            <div style="width:60%;" class="text-right">
                                <p  style="    margin: 1px 0px;">Subtotal :</p>
                                <t t-foreach="receipt.taxdetails" t-as="txo" >
                                    <p  style="    margin: 1px 0px;">Tax (<t t-esc="txo"/>):</p>
                                </t>
                                <p  style="    margin: 1px 0px;" t-if="!receipt_template.is_receipt_disc_in_orderline and receipt.total_discount_wo_pricelist">Discount :</p>
                                <p  style="    margin: 1px 0px;" t-if="receipt.rounding_order">Rounding :</p>
                                <p  style="    margin: 1px 0px;" t-if="receipt.mdr_customer">MDR :</p>
                            </div>
                            <div style="width:40%;"  class="text-right">
                                <p  style="    margin: 1px 0px;"><t t-esc="env.pos.format_currency(receipt.subtotal_without_tax,false,receipt.currency)"/></p>
                                <t t-foreach="receipt.taxdetails" t-as="txo" >
                                    <p  style="    margin: 1px 0px;"><t t-esc="env.pos.format_currency(receipt.taxdetails[txo],false,receipt.currency)"/></p>
                                </t>
                                <p  style="    margin: 1px 0px;" t-if="!receipt_template.is_receipt_disc_in_orderline and receipt.total_discount_wo_pricelist">(<t t-esc="env.pos.format_currency(receipt.total_discount_wo_pricelist,false,receipt.currency)"/>)</p>
                                <p  style="    margin: 1px 0px;" t-if="receipt.rounding_order">
                                    <t t-if="receipt.rounding_order > 0">
                                        <t t-esc="env.pos.format_currency(receipt.rounding_order,false,receipt.currency)"/>
                                    </t>
                                    <t t-if="receipt.rounding_order &lt; 0">
                                        (<t t-esc="env.pos.format_currency(-receipt.rounding_order,false,receipt.currency)"/>)
                                    </t>
                                </p>
                                <p  style="    margin: 1px 0px;" t-if="receipt.mdr_customer"><t t-esc="env.pos.format_currency(-receipt.mdr_customer,false,receipt.currency)"/></p>
                            </div>
                        </div>
                        <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;text-align:right;">--------------------------------------------------</p>
                        <div style="display: flex;width: 100%;">
                            <div style="width:65%;" class="text-right" id="bottom_detail_price_left">
                                <p  style="margin: 1px 0px;" class="l_receipt_summary_grand_total"><b>Grand Total :</b></p>
                                
                                <t t-if="receipt.voucher_discount_amount and receipt.voucher_discount_amount > 0">
                                    <p  style="margin: 1px 0px;" class="l_receipt_summary_voucher">Voucher :</p>
                                </t>

                                <t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
                                    <p  style="margin: 1px 0px;"><t t-esc="line.name"/> :</p>
                                </t>
                                <p  t-if="receipt.change" style="margin: 1px 0px;">Change :</p>
                                <p  t-if="receipt_template.is_receipt_tax_include_orderline and receipt.taxtotal" style="    margin: 1px 0px;">Include Tax :</p>
                                <p  t-if="receipt_template.is_receipt_disc_in_orderline and receipt.total_discount_wo_pricelist" style="    margin: 1px 0px;">Include Discount :</p>
                            </div>
                            <div style="width:35%;"  class="text-right" id="bottom_detail_price_right">
                                <p  style="margin: 1px 0px;" class="v_receipt_summary_grand_total">
                                    <t t-esc="env.pos.format_currency(receipt.total,false,receipt.currency)"/>
                                </p>

                                <t t-if="receipt.voucher_discount_amount and receipt.voucher_discount_amount > 0">
                                    <p  style="margin: 1px 0px;" class="v_receipt_summary_voucher">
                                        <t t-esc="env.pos.format_currency(receipt.voucher_discount_amount,false,receipt.currency)"/>
                                    </p>
                                </t>
                                <t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
                                    <p  style="margin: 1px 0px;"><t t-esc="env.pos.format_currency(line.amount,false,receipt.currency)"/></p>
                                </t>
                                <p  t-if="receipt.change" style="    margin: 1px 0px;"><t t-esc="env.pos.format_currency(receipt.change,false,receipt.currency)"/></p>
                                <p  t-if="receipt_template.is_receipt_tax_include_orderline and receipt.taxtotal" style="    margin: 1px 0px;"><t t-esc="env.pos.format_currency(receipt.taxtotal,false,receipt.currency)"/></p>
                                <p  t-if="receipt_template.is_receipt_disc_in_orderline and receipt.total_discount_wo_pricelist" style="    margin: 1px 0px;"><t t-esc="env.pos.format_currency(receipt.total_discount_wo_pricelist,false,receipt.currency)"/></p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="pos-receipt-footer-custom-template">

                <t t-if="receipt.savings_summary_text">
                    <div class="receipt_savings_summary" style="text-align:center; margin-top:7px;">
                        <p  class="savings_summary_text_footer" >
                            <b t-esc="receipt.savings_summary_text"/>
                        </p>
                    </div>
                </t>

                <div style="text-align:left;">
                    <t t-if="reprint">
                        <p style="margin: unset;padding: unset;white-space: nowrap; overflow: hidden; text-overflow: unset;">***************************************************************************************</p>
                        <p style="margin: unset;padding: unset;">Duplicate Receipt Generated By:</p>
                        <p style="margin: unset;padding: unset;line-height:2;"><t t-esc="receipt.cashier"/></p>
                        <p style="margin: unset;padding: unset;white-space: nowrap; overflow: hidden; text-overflow: unset;">***************************************************************************************</p>
                    </t>
                </div>
                <div style="text-align:center;" t-if="reprint">
                        <p style="margin: unset;padding: unset;">REPRINT RECEIPT</p>
                        <p style="margin: unset;padding: unset;"><t t-esc="receipt.datetime_now"/></p>
                </div>

                <div class="prct_custom_footer" style="text-align:center;margin-top: 12px;">
                    <div t-if="receipt_template.is_voucher_receipt and receipt_template.voucher_receipt_display=='Barcode' and receipt.voucher_number_use" class="text-center" style="margin-top: 10px;">
                        <img  t-att-src="'/report/barcode/?type=EAN13&amp;value='+receipt.voucher_number_use+'&amp;width=150&amp;height=50'" alt="Barcode"/>
                    </div>
                    <div t-if="receipt_template.is_voucher_receipt and receipt_template.voucher_receipt_display=='QR Code' and receipt.voucher_number_use" class="text-center receipt_template_custom_qrcode" style="margin-top: 10px; " >
                        <img  t-att-src="'/report/barcode/?type=QR&amp;value='+receipt.voucher_number_use+'&amp;width=80&amp;height=80'" />
                    </div>
                    <t t-if="receipt_template.is_voucher_receipt and receipt.voucher_number_use">
                        <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;text-align:right;">--------------------------------------------------------------------------------------</p>
                        <div style="display: flex;width: 100%;">
                            <div style="width:60%;"  class="text-left">
                                 <p  style="    margin: 1px 0px;">Voucher Code </p>
                            </div>
                            <div style="width:40%;"  class="text-right">
                                <p  style="    margin: 1px 0px;"><t t-esc="receipt.voucher_number_use"/></p>
                            </div>
                        </div>
                        <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;text-align:right;">--------------------------------------------------------------------------------------</p>
                        <div style="display: flex;width: 100%;">
                            <div style="width:60%;"  class="text-left">
                                 <p  style="    margin: 1px 0px;">Voucher Amount </p>
                            </div>
                            <div style="width:40%;"  class="text-right">
                                <p  style="    margin: 1px 0px;"><t t-esc="receipt.generate_voucher_value"/></p>
                            </div>
                        </div>
                        <t t-if="receipt.voucher_min_amount">
                            <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;text-align:right;">--------------------------------------------------------------------------------------</p>
                            <div style="display: flex;width: 100%;">
                                <div style="width:60%;"  class="text-left">
                                     <p  style="    margin: 1px 0px;">Minimum Purchase Amount </p>
                                </div>
                                <div style="width:40%;"  class="text-right">
                                    <p  style="    margin: 1px 0px;"><t t-esc="receipt.voucher_min_amount"/></p>
                                </div>
                            </div>
                        </t>
                        <p style="    margin: 1px 0px;white-space: nowrap; overflow: hidden; text-overflow: unset;text-align:right;">--------------------------------------------------------------------------------------</p>
                        <div style="display: flex;width: 100%;">
                            <div style="width:60%;"  class="text-left">
                                 <p  style="    margin: 1px 0px;">Expired Date</p>
                            </div>
                            <div style="width:40%;"  class="text-right">
                                <p  style="    margin: 1px 0px;"><t t-esc="receipt.voucher_expired_date "/></p>
                            </div>
                        </div>
                        <br/>
                    </t>


                    <p  class="custom_footer_text"  t-if="receipt_template.is_need_footer and receipt_template.receipt_footer_text">
                        <span t-esc="receipt_template.receipt_footer_text"/>
                    </p>
                </div>
            </div>
        </div>
    </t>

    <t t-name="RetailOrderReceiptOriginal" owl="1">
        <div class="pos-receipt">
            <div class="pos-receipt-header">
                <div t-if="env.pos.config.pos_branch_name" class="branch-info1">
                    <span t-esc="env.pos.config.pos_branch_name"/>
                </div>
                <div t-if="env.pos.config.pos_branch_telephone" class="branch-info2">
                    <span t-esc="env.pos.config.pos_branch_telephone"/>
                </div>
                <div t-if="env.pos.config.pos_branch_street" class="branch-info3">
                    <span t-esc="env.pos.config.pos_branch_street"/>
                </div>
                <div t-if="env.pos.config.pos_branch_street_2" class="branch-info4">
                    <span t-esc="env.pos.config.pos_branch_street_2"/>
                </div>
                <div class="pos-receipt-center-align2">
                    <t t-if="receipt.header_html">
                        <t t-raw="receipt.header_html"/>
                    </t>
                    <t t-if="!receipt.header_html and receipt.header">
                        <div><t t-esc="receipt.header" /></div>
                    </t>
                    <div>-----------------------------------</div>
                </div>

                <div class="pos-receipt-left-align2">
                    <div>Served by :<t t-esc="receipt.cashier"/></div>
                    <div>Order Number :<t t-esc="receipt.name"/></div>
                    <div>Print Date :<t t-esc="receipt.date.localestring"/></div>
                </div>
            </div>

            <br/>
            <br/>

            <div class="font-size">
                <t t-foreach="receipt.orderlines" t-as="line" t-key="line.id">
                    <table width="100%">
                        <tr width="100%">
                            <td colspan="6" width="100%">
                                <span class="pos-receipt-left-padding" align="left">
                                	<t t-esc="line.product_name"/>
                                </span>
                            </td>
                        </tr>

                        <tr width="100%">
                            <td width="29%"/>
                            <td width="13%">
                                <span class="pos-receipt-right-align">
                                   <t t-esc="line.quantity"/> <t t-esc="line.unit_name" />
                                </span>
                            </td>
                            <td width="5%" align="center"> x </td>
                            <td width="25%" class="">
                                <span>
                                    <t t-esc="env.pos.format_currency(line.price)"/>
                                </span>
                            </td>
                            <td width="3%" align="center"> = </td>
                            <td width="25%">
                                <span class="pos-receipt-right-align">
                                    <t t-esc="env.pos.format_currency(line.price_display)"/>
                                 </span>
                            </td>

                        </tr>
                    </table>
                </t> 
            </div>

            <br/>

            <div class="font-size">
                <div> Total Items
                    <div class="pos-receipt-right-align">
                        <t t-esc="receipt.orderlines.length"/>
                    </div>
                </div>
                <div> Total 
                    <div class="pos-receipt-right-align">
                        <t t-esc="env.pos.format_currency(receipt.subtotal)"/>
                    </div>
                </div>
                <div> Discount 
                    <div class="pos-receipt-right-align">
                        <t t-esc="env.pos.format_currency(receipt.total_discount)"/>
                    </div>
                </div>
                <div> Taxes 
                    <div class="pos-receipt-right-align">
                        <t t-esc="env.pos.format_currency(receipt.total_tax)"/>
                    </div>
                </div>
                <div> Grand Total 
                    <div class="pos-receipt-right-align">
                        <t t-esc="env.pos.format_currency(receipt.total_with_tax)"/>
                    </div>
                </div>
                <t t-if="receipt.client"> 
                <div> Member 
                    <div class="pos-receipt-right-align">
                        <t t-esc="receipt.client.name"/>
                    </div>
                </div>
                </t>
                <div> Payment Method <span class="pos-receipt-left-align"><t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
                <div>
                    <t t-esc="line.name"/>
                    <span t-esc="env.pos.format_currency(line.amount)" class="pos-receipt-right-align"/>
                </div>
                </t>
                </span>
                </div>
                <div> Change <span class="pos-receipt-right-align"><t t-esc="env.pos.format_currency(receipt.change)"/></span> </div>
            </div>

            <t t-if="reprint">
                <p style="font-size:12px;margin: unset;padding: unset;line-height: 2;">*************************************************************************</p>
                <p style="font-size:12px;margin: unset;padding: unset;line-height: 1;">Duplicate Receipt Generated By:</p>
                <p style="font-size:12px;margin: unset;padding: unset;line-height: 2;"><t t-esc="receipt.cashier"/></p>
                <p style="font-size:12px;margin: unset;padding: unset;line-height: 2;">*************************************************************************</p>
                <div style="text-align:center;">
                    <span>REPRINT RECEIPT</span>
                </div>
            </t>

            <p style="font-size:12px;margin: unset;padding: unset;line-height: 2;">*************************************************************************</p>

            <t t-if="receipt.footer">            
               <div class="pos-receipt-center-align1"><t t-esc="receipt.footer" /></div>              
            </t>
        </div>
    </t>

    <t t-name="RetailOrderReceipt" owl="1">
        <t t-call="RetailOrderReceiptOriginal" t-if="!receipt_template"/>
        <t t-call="RetailOrderReceiptCustomTemplate" t-if="receipt_template"/>
    </t>

    <t t-name="OrderReceiptReprint" owl="1">
        <t t-set="reprint" t-value="1"/>
        <t t-call="RetailOrderReceiptOriginal" t-if="!receipt_template"/>
        <t t-call="RetailOrderReceiptCustomTemplate" t-if="receipt_template"/>
    </t>

    <t t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('pos-receipt-contact')]" position="after">
            <t t-if="state.take_away_tiket_no">
                <div class="pos-receipt-order-queue">
                    <div class="pos-receipt-title text-left" style="color:inherit;font-size: 14px;padding-top:10px;">
                        <div>--------------------------------</div>
                        <div style="pading-top:3px;">Order Queue:</div>
                        <div style="font-size: 30px;padding-top:10px;padding-left:30px;">
                        <t t-esc="state.take_away_tiket_no"/>
                        </div>
                    </div>
                    <div>--------------------------------</div>
                </div>
            </t>
        </xpath>
    </t>

    

    <t t-name="OrderReceipt1" owl="1">
        <div class="pos-receipt">
            <t t-if="receipt.company.logo">
                <img class="pos-receipt-logo" t-att-src="receipt.company.logo" alt="Logo"/>
                <br/>
            </t>
            <t t-if="!receipt.company.logo">
                <h2 class="pos-receipt-center-align">
                    <t t-esc="receipt.company.name" />
                </h2>
                <br/>
            </t>
            <div class="pos-receipt-contact">
                <t t-if="receipt.company.contact_address">
                    <div><t t-esc="receipt.company.contact_address" /></div>
                </t>
                <t t-if="receipt.company.phone">
                    <div>Tel:<t t-esc="receipt.company.phone" /></div>
                </t>
                <t t-if="receipt.company.vat">
                    <div><t t-esc="receipt.company.vat_label"/>:<t t-esc="receipt.company.vat" /></div>
                </t>
                <t t-if="receipt.company.email">
                    <div><t t-esc="receipt.company.email" /></div>
                </t>
                <t t-if="receipt.company.website">
                    <div><t t-esc="receipt.company.website" /></div>
                </t>
                <t t-if="receipt.header_html">
                    <t t-raw="receipt.header_html" />
                </t>
                <t t-if="!receipt.header_html and receipt.header">
                    <div><t t-esc="receipt.header" /></div>
                </t>
                <t t-if="receipt.cashier">
                    <div class="cashier">
                        <div>--------------------------------</div>
                        <div>Served by <t t-esc="receipt.cashier" /></div>
                        <t t-if="receipt.table">
                            at table <t t-esc="receipt.table" />
                        </t>
                        <t t-if="receipt.table and receipt.customer_count">
                            <div>Guests: <t t-esc="receipt.customer_count" /></div>
                        </t>
                    </div>
                    <div>--------------------------------</div>
                </t>
            </div>

            <!-- Orderlines -->

            <div class="orderlines">
                <t t-set="p_line" t-value="0"/>
                <t t-set="p_qty" t-value="0"/>

                <t t-foreach="receipt.orderlines" t-as="line" t-key="line.id">
                    <t t-if="isSimple(line)">
                        <div>
                            <t t-esc="line.product_name_wrapped[0]"/>
                            <span t-esc="Math.round(line.quantity * Math.pow(10, env.pos.dp['Product Unit of Measure'])) / Math.pow(10, env.pos.dp['Product Unit of Measure'])" class="pos-receipt-right-align"/>
                            <span t-if="line.unit_name !== 'Units'" t-esc="line.unit_name" class="pos-receipt-right-align"/>
                            <span class="pos-receipt-right-align"> x</span>
                        </div>
                        <WrappedProductNameLines line="line" />
                        <t t-set="p_line" t-value="p_line + 1"/>
                        <t t-set="p_qty" t-value="p_qty + Math.round(line.quantity * Math.pow(10, env.pos.dp['Product Unit of Measure'])) / Math.pow(10, env.pos.dp['Product Unit of Measure'])"/>
                    </t>
                    <t t-else="">
                        <div>
                            <t t-esc="line.product_name_wrapped[0]"/>
                            <span t-esc="Math.round(line.quantity * Math.pow(10, env.pos.dp['Product Unit of Measure'])) / Math.pow(10, env.pos.dp['Product Unit of Measure'])" class="pos-receipt-right-align"/>
                            <span t-if="line.unit_name !== 'Units'" t-esc="line.unit_name" class="pos-receipt-right-align"/>
                            <span class="pos-receipt-right-align"> x</span>
                        </div>
                        <WrappedProductNameLines line="line" />
                        <t t-set="p_line" t-value="p_line + 1"/>
                        <t t-set="p_qty" t-value="p_qty + Math.round(line.quantity * Math.pow(10, env.pos.dp['Product Unit of Measure'])) / Math.pow(10, env.pos.dp['Product Unit of Measure'])"/>
                    </t>
                    <t t-if="line.pack_lot_lines">
                        <div class="pos-receipt-left-padding">
                            <ul>    
                                <t t-foreach="line.pack_lot_lines" t-as="lot">
                                    <li>
                                        SN <t t-esc="lot.attributes['lot_name']"/>
                                    </li>
                                </t>
                            </ul>
                        </div>
                    </t>
                </t>
            </div>
            <div>--------------------------------</div>
            <span>Total Item : </span><span><t t-esc="p_line"/></span>
            <span class="pos-receipt-right-align" t-esc="p_qty"/>
            <span class="pos-receipt-right-align"> x</span>



            <div class="before-footer" />

            <!-- Footer -->
            <div t-if="receipt.footer_html"  class="pos-receipt-center-align">
                <t t-raw="receipt.footer_html" />
            </div>

            <div t-if="!receipt.footer_html and receipt.footer"  class="pos-receipt-center-align" style="white-space:pre-line">
                <br/>
                <t t-esc="receipt.footer" />
                <br/>
                <br/>
            </div>

            <div class="after-footer">
                <t t-foreach="receipt.paymentlines" t-as="line">
                    <t t-if="line.ticket">
                        <br />
                        <div class="pos-payment-terminal-receipt">
                            <t t-raw="line.ticket" />
                        </div>
                    </t>
                </t>
            </div>

            <br/>
            <div class="pos-receipt-order-data">
                <div><t t-esc="receipt.name" /></div>
                <div><t t-esc="receipt.date.localestring" /></div>
            </div>

        </div>
    </t>

</templates>
