<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="KitchenScreen" owl="1">
        <div class="ticket-screen screen kitchen-screen" t-on-activate-edit-mode="activateEditMode" t-att-class="{ oe_hidden: !props.isShown }">
            <div class="screen-content">
                <div t-if="env.pos.config.checker_screen" style="flex-flow: unset">
                    <!-- <t t-foreach="kitchenCheckerData" t-as="kcd" >
                        <div class="client-list" style="border: solid 1px">
                            <div t-esc="'Order: '+kcd"/>
                            <div t-esc="'Table: '+kitchenCheckerData[kcd][0].table_id[1]"/>
                            <div t-esc="'Floor: '+kitchenCheckerData[kcd][0].floor_id[1]"/>
                            <t t-foreach="kitchenCheckerData[kcd]" t-as="line" >
                                <div t-esc="line.product_qty + 'X '+ line.product_id[1]"/>
                            </t>
                        </div>
                    </t> -->
                    <div class="rightpane">
                        <div class='' style="border-collapse: unset">
                            <t t-foreach="kitchenCheckerData" t-as="kcd" >
                                <div class="kitchen-box" t-att-class="'highlight'">
                                    <div class="bg-classes" t-att-class="'bg-blue'">
                                        <div class="box-state">
                                            Order: 
                                            <t t-esc="kcd"/>
                                            <!-- <div class="guest_cl">#<t t-esc="props.order.customer_count"/></div> -->
                                        </div>
                                        <div class="table-cl">
                                            Table: 
                                            <t t-esc="kitchenCheckerData[kcd][0].table_id[1]"/>
                                            <!-- <div class="guest_cl"><t t-esc="props.order.user"/></div> -->
                                        </div>
                                        <div class="floor-cl">
                                            Floor: 
                                            <t t-esc="kitchenCheckerData[kcd][0].floor_id[1]"/>
                                        </div>
                                        <div class="floor-cl">
                                            Create at: <t t-esc="kitchenCheckerData[kcd][0].create_date"/>
                                        </div>
                                    </div>
                                    <div class="order-item order-item-detail">
                                        <table width="100%">
                                            <t t-foreach="kitchenCheckerData[kcd]" t-as="line" >
                                                <tr class="receipt-line"
                                                    t-att-class="'highlight'">
                                                    <td class="text-center" width="20%">
                                                        <t t-esc="line.product_qty"/>X
                                                    </td>
                                                    <td class="text-left" style="padding: 10px" width="55%">
                                                        <ul class="product-line-name">
                                                                <t t-esc="line.product_id[1]"/><br/>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </t>
                                        </table>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </div>
                </div>
                <div t-if="!env.pos.config.checker_screen" class="controls">
                    <div class="buttons">
                        <button class="btn" t-on-click="clearSearch" t-att-class="{highlight: getCountReceipts > 0}">
                            <div class="with-badge" t-att-badge="getCountReceipts"/>
                                All Tickets
                                    <span>
                                        <i class="oe_link_icon fa fa-cutlery" aria-hidden="true"></i>
                                    </span>   
                        </button>
                        <button class="btn" t-on-click="pendingTickets" t-att-class="{highlight: getPendingTickets > 0}">
                            <div class="with-badge" t-att-badge="getPendingTickets"/>
                                Pending
                                    <span>
                                        <i class="oe_link_icon fa fa-cutlery" aria-hidden="true"></i>
                                    </span>   
                        </button>
                        <button class="btn" t-on-click="takeAwayTickets" t-att-class="{highlight: getTakeAwayTickets > 0}">
                            <div class="with-badge" t-att-badge="getTakeAwayTickets"/>
                                Take Away
                                    <span>
                                        <i class="oe_link_icon fa fa-cutlery" aria-hidden="true"></i>
                                    </span> 
                        </button>
                        <button class="btn" t-on-click="forceDoneAllReceipts">
                            <t t-if="!env.isMobile"><i class="fa fa-check "/></t>
                            <t t-else="">
                                <i class="fa fa-check "/>
                            </t>
                            <span>Force Done</span>
                        </button>
                        <button class="btn" t-on-click="clearScreen">
                            <t t-if="!env.isMobile"><i class="fa fa-trash "/></t>
                            <t t-else="">
                                <i class="fa fa-trash "/>
                            </t>
                            <span>Clear Screen</span>
                        </button>
                    </div>
                    <SearchBar config="searchBarConfig" placeholder="Search"/>
                </div>
                <div t-if="!env.pos.config.checker_screen" class="orders" style="flex-flow: unset">
                    <!-- <div class="leftpane" style="flex-direction: unset">
                        <t t-if="state.selectedOrder">
                            <KitchenOrderSelected order="state.selectedOrder"
                                                  t-on-click-deliveryAll="deliveryAll"
                                                  t-on-click-setPriority="setPriority"
                                                  t-on-click-transferItems="transferItems"
                                                  t-on-click-doneLine="doneLine"
                                                  t-on-click-deliverySelectedItems="deliverySelectedItems"
                                                  t-on-click-cancelLine="cancelLine"
                                                  t-on-click-setSelectedLine="setSelectedLine"/>
                        </t>
                    </div> -->
                    <div class="rightpane">
                        <div class='product-list lines-list' style="border-collapse: unset">
                            <t t-set="number" t-value="0"/>
                            <t t-foreach="orderList" t-as="order"
                               t-key="order.uid + number">
                                <t t-set="number" t-value="number + 1"/>
                                <KitchenOrder order="order"
                                              selectedOrder="state.selectedOrder"
                                              t-on-click-deliveryAll="deliveryAll"
                                              t-on-click-setPriority="setPriority"
                                              t-on-click-transferItems="transferItems"
                                              t-on-click-doneLine="doneLine"
                                              t-on-click-deliverySelectedItems="deliverySelectedItems"
                                              t-on-click-cancelLine="cancelLine"
                                              t-on-click-setSelectedOrder="setSelectedOrder"
                                              t-on-click-setSelectedLine="setSelectedLine"/>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
