<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="PopupProductSelectionGiftFree" owl="1">
        <div role="dialog" class="modal-dialog">
            <div class="popup medium-form touch-scrollable scrollable-y">
                <div>
                    <div style="padding: unset;">
                        <h4 style="color: white; background: #008F8B; margin: unset;padding: 10px 0;"><t t-esc="props.name"/></h4>
                        <div style="padding: 30px 20px;">

                            <div style="display: inline-flex; width: 100%;">
                                 <div style="width: 30%;padding: 0 10px;">
                                    <img t-att-src="imageUrl" t-att-alt="props.product.display_name" />
                                 </div>
                                 <div style="width: 70%;padding: 0 10px;">
                                    <p style="text-align: left; font-weight: bolder; font-size: 23px; margin: 0px; color: black;"><t t-esc="props.product.name"/></p>
                                    <p style="text-align: left; font-weight: bolder; margin: 0px; margin-top: 5px;"><t t-esc="props.name_variant"/></p>
                                    <p style="text-align: left; font-weight: bolder; margin: 0px; margin-top: 10px;"><t t-esc="props.price"/></p>
                                 </div>
                            </div>

                            <div style="display: inline-flex; width: 100%;margin-top: 20px;" t-if="!props.error and !props.directly">
                                <div  style="width: 33%;padding: 0 10px;"  t-if="props.same_product">
                                    <p class="btn_pos_px_box_inside_div"  t-on-click="selectTypeApply('same_product')"><b>Same Product</b></p>
                                </div>
                                <div style="width: 33%;padding: 0 10px;" t-if="props.selected_product">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('selected_product')"><b>Selected Product</b></p>
                                </div>
                                <div  style="width: 33%;padding: 0 10px;"  t-if="props.same_lower_price">
                                    <p class="btn_pos_px_box_inside_div"  t-on-click="selectTypeApply('same_lower_price')"><b>Same / Lower Price</b></p>
                                </div>

                                <div style="width: 33%;padding: 0 10px;" t-if="props.selected_product_category">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('selected_product_category')"><b>Selected Product</b></p>
                                </div>
                                <div style="width: 33%;padding: 0 10px;" t-if="props.selected_category">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('selected_category')"><b>Selected Category</b></p>
                                </div>
                                <div style="width: 33%;padding: 0 10px;" t-if="props.same_category">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('same_category')"><b>Same Category</b></p>
                                </div>


                                <div style="width: 33%;padding: 0 10px;" t-if="props.selected_product_brand">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('selected_product_brand')"><b>Selected Product</b></p>
                                </div>
                                <div style="width: 33%;padding: 0 10px;" t-if="props.selected_brand">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('selected_brand')"><b>Selected Brand</b></p>
                                </div>
                                <div style="width: 33%;padding: 0 10px;" t-if="props.same_brand">
                                    <p class="btn_pos_px_box_inside_div" t-on-click="selectTypeApply('same_brand')"><b>Same Brand</b></p>
                                </div>

                            </div>

                            <div style="display: inline-flex; width: 100%;" t-if="props.error">
                                <div class="card-issue" style="text-align: center; width: 100%;color:red;">
                                    <t t-esc="props.error"/>
                                </div>
                            </div>


                            <div style="width: 100%;max-height: 604px; display: block;overflow: scroll;margin-top: 20px;"  t-if="props.directly">
                                <t t-set="list_products" t-value="props.list_products"/>
                                <t t-set="list_products_with_tab" t-value="props.list_brand_n_products" t-if="props.list_brand_n_products"/>
                                <t t-set="list_products_with_tab" t-value="props.list_categ_n_products" t-if="props.list_categ_n_products"/>

                                <div t-if="list_products_with_tab" style="display: -webkit-box; display: -webkit-flex; display: flex; -webkit-flex-wrap: wrap; flex-wrap: wrap; width: 100%;">
                                    <t t-set="count" t-value="0"/>
                                    <t t-foreach="list_products_with_tab" t-as="products_with_tab">
                                        <div style="width: 20%;">
                                            <p class="btn_pos_px_box_inside_div" style="margin: 10px;font-weight:bolder;" t-att-class="{ active: (count==0 and !props.tab_active) or props.tab_active ==  list_products_with_tab[products_with_tab]  }"  t-on-click="selectTabApply(list_products_with_tab[products_with_tab])"><t t-esc="products_with_tab"/></p>
                                        </div>
                                        <t t-if="count==0">
                                            <t t-set="list_products" t-value="list_products_with_tab[products_with_tab]"/>
                                        </t>
                                        <t t-set="count" t-value="count+1"/>
                                    </t>
                                </div>
                                <t t-set="list_products" t-value="props.tab_active" t-if="props.tab_active"/>
                                <table class="table summary-table" t-if="list_products">
                                    <tbody>
                                        <t t-foreach="list_products" t-as="product">
                                            <tr style="cursor:pointer;width:100%;" t-on-click="clickProduct(product)">
                                                <td width="60%" style="font-size: 16px; text-align: left;width:60%">
                                                    <t t-esc="product.name"/>

                                            </td>
                                                <td width="40%" style="font-size: 16px; text-align: left;width:40%">
                                                    <t t-esc="product.get_name_variant()"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                            </div>
              
                        </div>

     

                        <div class="form-footer text-center">
                            <div class="btn pull-right" t-on-click="cancel" style="color: #008f8b; border: 1px solid #008f8b; padding: 3px 15px;">
                                Cancel
                               
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>