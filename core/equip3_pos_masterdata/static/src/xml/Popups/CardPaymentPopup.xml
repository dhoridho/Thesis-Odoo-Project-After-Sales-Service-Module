<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="CardPaymentPopup" owl="1">
        <div role="dialog" class="modal-dialog select-card-payment-popups">
            <Draggable>
                <div class="popup popup-textarea">
                    <header class="title drag-handle">
                        <span><t t-esc="props.title"/></span>
                    </header>

                    <div class="select-card-payment-warning" t-if="state.warning_message"
                        t-on-click="close_warning_message">
                        <t t-esc="state.warning_message"/>
                    </div>

                    <div class="select-card-payment-content">

                        <div class="card-payment-form-control card-payment-number">
                            <div class="card-payment-label">Card Number (BIN)</div>
                            <div class="card-payment-input">
                                <input id="card_number" name="card_number" t-on-change="onChangeCardNumber"/>
                            </div>
                        </div>

                        <div class="card-payment-form-control card-payment-payment">
                            <div class="card-payment-label">Card Payment</div>
                            <div class="card-payment-selection">
                                <t t-foreach="card_payments" t-as="card_payment">
                                    <label class="card-payment-option">
                                        <input t-att-id="'cp_card_payment_' + card_payment.id" 
                                            type="radio" 
                                            name="card_payment" 
                                            t-att-value="card_payment.id" 
                                            t-on-change="onChangeCardPayment"/>
                                        <span><t t-esc="card_payment.card_name"/></span>
                                    </label>
                                </t>
                                <t t-if="card_payments.length == 0">
                                    <div style=" font-size: 14px; font-weight: normal;">
                                        <span>(!) there is no card payment available for the selected type card</span>
                                    </div>
                                </t>
                            </div>
                        </div>

                        <div class="card-payment-form-control card-payment-type">
                            <div class="card-payment-label">Type Card</div>
                            <div class="card-payment-selection">
                                <t t-foreach="card_types" t-as="card_type">
                                    <label class="card-payment-option">
                                        <input t-att-id="'cp_card_type_' + card_type.id" 
                                            type="radio" 
                                            name="card_type" 
                                            t-att-value="card_type.id" 
                                            t-on-change="onChangeCardType"/>
                                        <span><t t-esc="card_type.name"/></span>
                                    </label>
                                </t>
                            </div>
                        </div>
                        
                    </div>
                    <footer class="footer">
                        <div class="button button-close" t-on-click="cancel">
                            Cancel
                        </div>
                        <div class="button confirm button-confirm" t-on-click="confirm">
                            Confirm
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

</templates>