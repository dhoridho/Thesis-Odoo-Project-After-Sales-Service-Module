<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="RetailOrderlineCustom" t-inherit="equip3_pos_masterdata.RetailOrderline" t-inherit-mode="extension" owl="1">
        <xpath expr="//tr/td[6]" position="replace">
            <td style="text-align: center" t-if="env.pos.config.allow_remove_line and state.screen == 'Products'">
                <i t-on-click="trigger('remove-line-order', props.line)"
                   class="oe_link_icon fa fa-times oe_icon line-icon"
                   style="margin: 0px; color: red; font-size: 16px"
                   aria-label="Remove Line"
                   role="img"
                   t-if="env.pos.config.allow_remove_line"
                   title="Remove Line"
                />
            </td>
        </xpath>
        <xpath expr="//tr/td[2]//span[@class='product-name']" position="inside">
            <span t-if="props.line.get_is_complementary()" style="padding-left: 5px;color: #f8433f;">(Complementary)</span>
            <span class="cancel_item_state" t-if="props and props.line and props.line.get_item_state() == 'cancelled'">
                <t t-esc="props.line.get_item_state()"/>
            </span>
        </xpath>
        <xpath expr="//td[5]" position="after">
            <td style="text-align: right;">
                <span t-if="props and props.line and props.line.get_required_ask_seat()" style="padding-left: 5px;color: #f8433f;">
                    <t t-esc="props.line.get_required_ask_seat()"/>
                </span>
            </td>
        </xpath>
    </t>

    <t t-name="CancelReasonPopup" owl="1">
        <div role="dialog" class="modal-dialog">
            <Draggable>
                <div class="popup popup-textarea">
                    <header class="title drag-handle pull-left">
                        <t t-esc="props.title" />
                    </header>
                    <textarea t-model="state.inputValue" t-ref="input"></textarea>
                    <footer class="footer">
                        <div class="button cancel" t-on-click="cancel">
                            <t t-esc="props.cancelText" />
                        </div>
                        <div class="button confirm" t-on-click="confirm">
                            <t t-esc="props.confirmText" />
                        </div>
                    </footer>
                </div>
            </Draggable>
        </div>
    </t>

    <t t-name="KitchenScreenCustom" t-inherit="equip3_pos_masterdata.KitchenScreen" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('product-list')]" position="replace">
            <div class='product-list lines-list' style="border-collapse: unset">
                <t t-set="number" t-value="0"/>
                <t t-foreach="orderList" t-as="order"
                   t-key="order.uid + number">
                    <t t-set="number" t-value="number + 1"/>
                        <KitchenOrder order="order"
                          selectedOrder="state.selectedOrder"
                          t-on-click-deliveryAll="deliveryAll"
                          t-on-click-setPriority="setPriority"
                          t-on-click-transferItems="transferItems"
                          t-on-click-doneLine="doneLine"
                          t-on-click-deliverySelectedItems="deliverySelectedItems"
                          t-on-click-cancelLine="cancelLine"
                          t-on-click-setSelectedOrder="setSelectedOrder"
                          t-on-click-setSelectedLine="setSelectedLine"/>
                </t>
            </div>
        </xpath>    
    </t>
    
</templates>