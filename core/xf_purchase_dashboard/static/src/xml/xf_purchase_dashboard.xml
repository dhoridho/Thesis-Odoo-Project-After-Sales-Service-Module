<?xml version="1.0" encoding="UTF-8"?>

<templates>

    <t t-name="XFPurchaseDashboardMain">
        <div class="o_xf_purchase_dashboard">
            <div class="o_xf_purchase_dashboard_widgets container-fluid">
                <div class="row"/>
            </div>
        </div>
    </t>

    <t t-name="XFPurchaseDashboardWidget">
        <div class="o_xf_purchase_dashboard_widget col-xl-4 col-lg-4 col-md-6 col-sm-12">
            <div class="o_xf_purchase_dashboard_widget_container">
                <div class="o_xf_purchase_dashboard_widget_header">
                    <div class="o_xf_purchase_dashboard_widget_header_image">
                        <img t-att-src="dashboard_widget['image']"
                             t-att-alt="dashboard_widget['name']"/>
                    </div>
                    <h3 class="o_xf_purchase_dashboard_widget_header_title" t-esc="dashboard_widget['name']"/>
                </div>
                <div class="o_xf_purchase_dashboard_widget_content">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Count</th>
                                <th>
                                    Amount (<t t-esc="dashboard_widget['currency_symbol']"/>)
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="dashboard_widget['lines']" t-as="widget_line">
                                <tr class="o_xf_purchase_dashboard_widget_line"
                                    t-att-data-domain="widget_line_value['domain']">
                                    <td>
                                        <t t-esc="widget_line_value['name']"/>
                                    </td>
                                    <td>
                                        <t t-esc="widget_line_value['count']"/>
                                    </td>
                                    <td>
                                        <t t-esc="widget_line_value['amount']"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </t>

    <t t-name="XFPurchaseDashboardButtons">
        <span class="mr-1 navbar-text">Year:</span>
        <div class="btn-group">
            <button id="dashboard_year_toggle" data-toggle="dropdown"
                    class="btn btn-secondary dropdown-toggle">
                <i class="fa fa-calendar"/>
                <span class="current_year">
                    <t t-esc="current_year"/>
                </span>
            </button>
            <div class="dropdown-menu" aria-labelledby="dashboard_year_toggle">
                <t t-foreach="dashboard_years" t-as="year">
                    <a t-attf-class="dropdown-item#{current_year == year and ' active' or ''}" t-att-data-year="year">
                        <span t-esc="year"/>
                    </a>
                </t>
            </div>
        </div>

        <span class="mr-1 navbar-text">Group By:</span>
        <div class="btn-group">
            <div class="btn-group" role="group">
                <a role="button" href="#" class="btn btn-secondary active" data-group_by="user_id">
                    <i class="fa fa-users" role="img"/>
                    Users
                </a>
                <a role="button" href="#" class="btn btn-secondary" data-group_by="partner_id">
                    <i class="fa fa-building" role="img"/>
                    Vendors
                </a>
                <a role="button" href="#" class="btn btn-secondary" data-group_by="product_id">
                    <i class="fa fa-file" role="img"/>
                    Products
                </a>
            </div>
        </div>
    </t>
</templates>
