<odoo>
  <template id="internal_layout_statement">
      <div class="header">
          <div class="row">
              <div class="col-3 text-left">
                  <!--<img src="/equip3_accounting_reports/static/src/img/icon_hm.png" style="width: 100px; height:100px;"/>-->
                  <img alt="Logo" t-att-src="'/logo?company=%d' % (company_id)" style="width:100%;"/>
              </div>
              <div class="col-3 offset-2 text-left">
                <br></br>
                <b><t t-esc="company_name"/></b>
                <textarea class='textareacompany' name="text" id="text" onInput="this.parentNode.dataset.replicatedValue = this.value" rows='5' readonly='1' style="width: 100%; border:0px;"><t t-esc="partner_data['company_address']"/></textarea>
              </div>
              <div class="col-3 offset-1 text-left">
                <span>
                  Invoice To:
                </span>
                <br></br>
                <b><t t-esc="partner_data['partner_name']"/></b>
                <textarea class='textareacompany' name="text" id="text" onInput="this.parentNode.dataset.replicatedValue = this.value" readonly='1' rows='5' style="width: 100%; border:0px;"><t t-esc="partner_data['partner_address']"/></textarea>
              </div>
          </div>
      </div>
      <div class="article" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
        <t t-raw="0"/>
      </div>
  </template>

  <template id="customer_statement">
    <t t-call="web.html_container">
      <t t-call="equip3_accounting_reports.internal_layout_statement">
        <div class="page">
          <div class="center grow-wrap">
            <textarea class='textareainput' name="text" id="text" onInput="this.parentNode.dataset.replicatedValue = this.value" rows='8' readonly='1' style="width: 100%; border:0px; overflow:hidden;"><t t-esc="partner_data['overdue_template']"/></textarea>
          </div>

          <div>
            <table style="width:90%;margin:0px auto;" class="table table-condensed">
              <thead>
                  <tr class="trcustom" style="padding-left:20px; border-bottom: 3px double #ddd;">
                      <th>Reference Number</th>
                      <th>Date</th>
                      <th>Date Due</th>
                      <th>Communication</th>
                      <th style="text-align:right;">Total Due</th>
                  </tr>
              </thead>

              <tbody>
                  <t t-set="none_value" t-value="_"/>
                  <t t-set="common_id" t-value="0"/>
                  <t t-foreach="partner_data['lines']" t-as="line">
                      <tr class="trcustom">
                          <td>
                              <t t-esc="line['move_name']"/>
                          </td>
                          <td>
                              <t t-esc="line['date']"/>
                          </td>
                          <td>
                              <t t-esc="line['due_date']"/>
                          </td>
                          <td>
                              <t t-esc="line['communication']"/>
                          </td>
                          <td style="text-align:right;">
                              <t t-esc="line['balance']"/>
                          </td>
                      </tr>
                  </t>
                  <tr style="padding-left:20px; border-top: 3px double #ddd;">
                      <td colspan='4' style="text-align:right;">
                          Total Overdue
                      </td>
                      <td style="text-align:right;">
                          <t t-esc="partner_data['total_amount_residual']"/>
                      </td>
                  </tr>
              </tbody>
            </table>
          </div>
          <br></br>
        </div>
      </t>
    </t>
  </template>

  <record id="action_print_customer_statement" model="ir.actions.report">
    <field name="name">customer_statement</field>
    <field name="model">customer.statement</field>
    <field name="report_type">qweb-pdf</field>
    <field name="report_name">equip3_accounting_reports.customer_statement</field>
    <field name="report_file">equip3_accounting_reports.customer_statement</field>
    <field name="binding_model_id" ref="model_customer_statement"/>
    <field name="binding_type">report</field>
  </record>
</odoo>