<odoo>
    <template id="equip3_accounting_reports.financial_ratio_report">
        <t t-call="web.html_container">
            <t t-set="data_report_margin_top" t-value="12"/>
            <t t-set="data_report_header_spacing" t-value="9"/>
            <t t-set="data_report_dpi" t-value="110"/>
            <t t-call="web.internal_layout">
                <div class="page">
                    <div class="oe_structure"/>
                    <h3 style="text-align:centre;left:50%;">Financial Ratio Report
                    </h3>

                    <span t-if="Filters.get('date_from')">
                    <strong> From:</strong>
                    <t t-esc="Filters['date_from']"/>
                    </span>
                    <br></br>
                    <span t-if="Filters.get('date_to')">
                    <strong> To:</strong>
                    <t t-esc="Filters['date_to']"/>
                    </span>
                    <div>
                        <br></br>
                        <div>
                            <div class="table_main_view">
                                <table cellspacing="0" width="100%">
                                    <thead>
                                        <tr>
                                            <th colspan="6"></th>
                                            <t t-if="Filters.get('date_from')">
                                                <th class="mon_fld" style="text-align: right !important;">Initial Ratio</th>
                                            </t>
                                            <th class="mon_fld" style="text-align: right !important;">Ratio</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-set="none_value" t-value="_"/>
                                        <tr>
                                            <th style="text-align: left !important;">Liquidity Ratio</th>                            
                                        </tr>
                                        <t t-foreach="report_lines_current_ratio" t-as="current_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Current Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="current_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">                                            
                                                            <t t-raw="'{:,}'.format(current_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(current_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_quick_ratio" t-as="quick_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Quick Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="quick_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(quick_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(quick_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_capital_ratio" t-as="capital_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Net Working Capital Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="capital_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(capital_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(capital_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_cash_ratio" t-as="cash_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Cash Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="cash_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(cash_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(cash_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th style="text-align: left !important;">Solvability Ratio</th>                            
                                        </tr>
                                        <t t-foreach="report_lines_debt_to_asset_ratio" t-as="debt_to_asset_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Debt to Asset Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="debt_to_asset_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(debt_to_asset_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(debt_to_asset_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_debt_to_equity_ratio" t-as="debt_to_equity_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Debt to Equity Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="debt_to_equity_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(debt_to_equity_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(debt_to_equity_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_long_term_debt_to_equity_ratio" t-as="long_term_debt_to_equity_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Long Term Debt to Equity Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="long_term_debt_to_equity_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(long_term_debt_to_equity_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(long_term_debt_to_equity_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_times_interest_earned_ratio" t-as="times_interest_earned_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Times Interest Earned Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="times_interest_earned_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(times_interest_earned_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(times_interest_earned_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_EBITDA" t-as="EBITDA">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>EBITDA</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="EBITDA.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            <t t-esc="currency[0]"/>
                                                            <t t-raw="'{:,}'.format(EBITDA['Init_balance']['balance'])"/>
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            <t t-esc="currency[0]"/>0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        <t t-esc="currency[0]"/>
                                                        <t t-raw="'{:,}'.format(EBITDA['balance'])"/>
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th style="text-align: left !important;">Profitability Ratio</th>                            
                                        </tr>
                                        <t t-foreach="report_lines_return_on_asset" t-as="return_on_asset">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Return On Asset</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="return_on_asset.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(return_on_asset['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(return_on_asset['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_return_on_equity" t-as="return_on_equity">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Return On Equity</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="return_on_equity.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(return_on_equity['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(return_on_equity['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_profit_margin" t-as="profit_margin">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Net Profit Margin</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="profit_margin.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(profit_margin['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(profit_margin['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_gross_profit_margin" t-as="gross_profit_margin">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Gross Profit Margin</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="gross_profit_margin.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(gross_profit_margin['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(gross_profit_margin['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th style="text-align: left !important;">Activity Ratio</th>                            
                                        </tr>
                                        <t t-foreach="report_lines_ar_turnover_ratio" t-as="ar_turnover_ratio">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Account Receivable Turnover Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="ar_turnover_ratio.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(ar_turnover_ratio['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(ar_turnover_ratio['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_merchandise_inventory" t-as="merchandise_inventory">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Merchandise Inventory Turnover Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="merchandise_inventory.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(merchandise_inventory['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(merchandise_inventory['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_total_assets" t-as="total_assets">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Total Asset Turnover Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="total_assets.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(total_assets['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(total_assets['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-foreach="report_lines_net_fixed_assets" t-as="net_fixed_assets">
                                            <tr>
                                                <td colspan="6" style="padding-left: 15px; border-bottom: 0.5px solid #deb9b9;">
                                                    <span>Fixed Asset Turnover Ratio</span>
                                                </td>
                                                <t t-if="Filters.get('date_from')">
                                                    <t t-if="net_fixed_assets.get('Init_balance')">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            
                                                            <t t-raw="'{:,}'.format(net_fixed_assets['Init_balance']['balance'])"/>%
                                                        </td>
                                                    </t>
                                                    <t t-else="">
                                                        <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                            0
                                                        </td>
                                                    </t>
                                                </t>
                                                <td class="mon_fld" style="border-bottom: 0.5px solid #deb9b9; text-align: right;">
                                                    <span>
                                                        
                                                        <t t-raw="'{:,}'.format(net_fixed_assets['balance'])"/>%
                                                    </span>                                
                                                </td>
                                            </tr>
                                        </t>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>
            
    <record id="action_print_financial_ratio_report" model="ir.actions.report">
        <field name="name">Financial Ratio Report</field>
        <field name="model">account.financial.ratio</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">equip3_accounting_reports.financial_ratio_report</field>
        <field name="report_file">equip3_accounting_reports.financial_ratio_report</field>
    </record>
</odoo>