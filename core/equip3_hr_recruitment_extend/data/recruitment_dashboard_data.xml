<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="ks_recruitment" model="ks_dashboard_ninja.board_template">
            <field name="name">Recruitment</field>
            <field name="ks_gridstack_config">[
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_1", "data": {"x": 0, "y": 0, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_2", "data": {"x": 0, "y": 2, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_3", "data": {"x": 4, "y": 0, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_4", "data": {"x": 9, "y": 0, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_4_1", "data": {"x": 4, "y": 2, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_4_2", "data": {"x": 9, "y": 2, "w": 4, "h": 5}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_5", "data": {"x": 0, "y": 6, "w": 6, "h": 4}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_6", "data": {"x": 6, "y": 6, "w": 6, "h": 4}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_7", "data": {"x": 0, "y": 10, "w": 6, "h": 4}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_8", "data": {"x": 6, "y": 10, "w": 6, "h": 4}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_9", "data": {"x": 0, "y": 16, "w": 6, "h": 6}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_10", "data": {"x": 6, "y": 16, "w": 6, "h": 6}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_6_1", "data": {"x": 0, "y": 22, "w": 6, "h": 6}},
                {"item_id":"equip3_hr_recruitment_extend.ks_recruitment_item_6_2", "data": {"x": 6, "y": 22, "w": 6, "h": 6}}
                ]
            </field>
            <field name="ks_item_count">6</field>
        </record>

        <record id="ks_recruitment_item_1" model="ks_dashboard_ninja.item">
            <field name="name">Job Openings</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr.model_hr_job')"/>
            <field name="ks_domain">["&amp;",["state","=","recruit"],["is_published","=",True]]</field>
            <field name="ks_date_filter_field" eval="ref('hr.field_hr_job__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">yellow</field>
            <field name="ks_background_color">#f0ad4e,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">search</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/job_opening_icon_v3.png" />
            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>

        <record id="ks_recruitment_item_2" model="ks_dashboard_ninja.item">
            <field name="name">Total Applicants</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_domain">["|",["active","=",True],["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">blue</field>
            <field name="ks_background_color">#337ab7,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">user</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/total_applicant_icon_v3.png" />

            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>

        <record id="ks_recruitment_item_3" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Last 30 Days</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_domain">["|",["active","=",True],["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_month</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">green</field>
            <field name="ks_background_color">#5cb85c,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">user-plus</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/applicant_last_30_days_icon_v3.png" />

            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>

        <record id="ks_recruitment_item_4" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Last 7 Days</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_domain">["|",["active","=",True],["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_week</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">red</field>
            <field name="ks_background_color">#d9534f,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">user-plus</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/applicant_last_7_days_icon_v3.png" />

            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>

        <record id="ks_recruitment_item_4_1" model="ks_dashboard_ninja.item">
            <field name="name">Active Applicant</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_domain">[["active","=",True]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">red</field>
            <field name="ks_background_color">#5cb85c,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">user</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/active_applicant_icon_v2.png" />

            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>
        <record id="ks_recruitment_item_4_2" model="ks_dashboard_ninja.item">
            <field name="name">Refused Applicant</field>
            <field name="ks_dashboard_item_type">ks_tile</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_domain">[["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_layout">layout6</field>
            <field name="ks_dashboard_item_theme">red</field>
            <field name="ks_background_color">#d9534f,0.99</field>
            <field name="ks_font_color">#ffffff,0.99</field>
            <field name="ks_icon_select">Custom</field>
            <!-- <field name="ks_default_icon">user-times</field> -->
            <field name="ks_icon" type="base64" file="equip3_hr_recruitment_extend/static/src/img/recruitment_dashboard/refuse_applicant_icon_v2.png" />

            <field name="ks_default_icon_color">#ffffff,0.99</field>
            <field name="ks_button_color">#000000,0.99</field>
        </record>

        <record id="ks_recruitment_item_5" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Per Job Position</field>
            <field name="ks_dashboard_item_type">ks_horizontalBar_chart</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_chart_relation_groupby" ref="hr_recruitment.field_hr_applicant__job_id"/>
            <field name="ks_sort_by_field" ref="hr_recruitment.field_hr_applicant__stage_id"/>
            <field name="ks_sort_by_order">ASC</field>
            <field name="ks_domain">[["active","=",True]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_week</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">neon</field>
            <field name="ks_record_data_limit_visibility" eval="True"/>
            <field name="ks_record_data_limit">10</field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record>

        <!-- <record id="ks_recruitment_item_6" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Per Stages</field>
            <field name="ks_dashboard_item_type">ks_bar_chart</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_chart_relation_groupby" ref="hr_recruitment.field_hr_applicant__stage_id"/>
            <field name="ks_sort_by_order">ASC</field>
            <field name="ks_domain">[["active","=",True]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">warm</field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record> -->
        <record id="ks_recruitment_item_6" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Per Stages</field>
            <field name="ks_data_calculation_type">query</field>
            <field name="ks_custom_query">select hrs.name as stage,count(1) from hr_applicant ha left join hr_recruitment_stage hrs on 
ha.stage_id = hrs.id 
group by hrs.name,hrs.sequence 
order by hrs.sequence ASC
            </field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_chart_item_color">default</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_dashboard_item_type">ks_bar_chart</field>
            <field name="ks_xlabels">stage</field>
            <field name="ks_ylabels">{"count":{"measure":"Count","chart_type":"bar","group":" "}}</field>
        </record>

        <record id="ks_recruitment_item_6_1" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Refused Per Jobs</field>
            <field name="ks_dashboard_item_type">ks_bar_chart</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_chart_relation_groupby" ref="hr_recruitment.field_hr_applicant__job_id"/>
            <field name="ks_sort_by_order">ASC</field>
            <field name="ks_domain">[["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">neon</field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record>
        <record id="ks_recruitment_item_6_2" model="ks_dashboard_ninja.item">
            <field name="name">Applicant Refused Per Stages</field>
            <field name="ks_dashboard_item_type">ks_bar_chart</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_chart_relation_groupby" ref="hr_recruitment.field_hr_applicant__stage_id"/>
            <field name="ks_sort_by_order">ASC</field>
            <field name="ks_domain">[["active","=",False]]</field>
            <field name="ks_date_filter_field" eval="ref('hr_recruitment.field_hr_applicant__create_date')"/>
            <field name="ks_date_filter_selection">l_none</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">warm</field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record>

        <record id="ks_recruitment_item_7" model="ks_dashboard_ninja.item">
            <field name="name">Job Most Applied Last 30 Days</field>
            <field name="ks_dashboard_item_type">ks_pie_chart</field>
            <field name="ks_data_calculation_type">query</field>
            <field name="ks_semi_circle_chart" eval="True"/>
            <field name="ks_chart_data_count_type">sum</field>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_chart_item_color">default</field>
            <field name="ks_custom_query">select b.name, count(1) filter (where a.job_id is not null) as Jumlah
from hr_applicant a
join hr_job b on a.job_id=b.id
where a.create_date >= now() - interval '30 day'
group by b.name
order by b.name
limit 10
            </field>
            <field name="ks_xlabels">name</field>
            <field name="ks_ylabels">{"jumlah":{"measure":"Jumlah","chart_type":"pie","group":" "}}</field>
        </record>

        <record id="ks_recruitment_item_8" model="ks_dashboard_ninja.item">
            <field name="name">Job Most New Hired Last 30 Days</field>
            <field name="ks_dashboard_item_type">ks_line_chart</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr.model_hr_employee')"/>
            <field name="ks_chart_relation_groupby" ref="hr.field_hr_employee__job_id"/>
            <field name="ks_sort_by_field" ref="hr.field_hr_employee__job_id"/>
            <field name="ks_sort_by_order">ASC</field>
            <field name="ks_record_data_limit_visibility" eval="True"/>
            <field name="ks_record_data_limit">10</field>
            <field name="ks_domain">[]</field>
            <field name="ks_date_filter_field" eval="ref('hr.field_hr_employee__create_date')"/>
            <field name="ks_date_filter_selection">l_month</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">cool</field>
            <field name="ks_show_data_value" eval="False"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record>

        <record id="ks_recruitment_item_9" model="ks_dashboard_ninja.item">
            <field name="name">Job Position Per Stages</field>
            <field name="ks_dashboard_item_type">ks_bar_chart</field>
            <field name="ks_data_calculation_type">custom</field>
            <field name="ks_chart_data_count_type">count</field>
            <field name="ks_model_id" eval="ref('hr_recruitment.model_hr_applicant')"/>
            <field name="ks_chart_relation_groupby" ref="hr_recruitment.field_hr_applicant__job_id"/>
            <field name="ks_chart_relation_sub_groupby" ref="hr_recruitment.field_hr_applicant__stage_id"/>
            <field name="ks_domain">[["stage_id","!=",False]]</field>
            <field name="ks_data_format">global</field>
            <field name="ks_chart_item_color">default</field>
            <field name="ks_bar_chart_stacked" eval="True"/>
            <field name="ks_show_data_value" eval="True"/>
            <field name="ks_hide_legend" eval="True"/>
            <field name="ks_show_records" eval="True"/>
        </record>

        <record id="ks_recruitment_item_10" model="ks_dashboard_ninja.item">
            <field name="name">Test Per Stages</field>
            <field name="ks_dashboard_item_type">ks_list_view</field>
            <field name="ks_data_calculation_type">query</field>
            <field name="ks_list_view_layout">layout_3</field>
            <field name="ks_pagination_limit">15</field>
            <field name="ks_custom_query">select b.title as test_name, count(1) filter (where a.state = 'new') as not_started, count(1) filter (where a.state = 'in_progress') as in_progress, count(1) filter (where a.state = 'done') as done
from survey_user_input a
join survey_survey b on a.survey_id=b.id
group by b.title
            </field>
        </record>

        <record id="recruitment_dashboard" model="ks_dashboard_ninja.board">
            <field name="name">Recruitment Dashboard</field>
            <field name="ks_dashboard_menu_name">Recruitment Dashboard</field>
            <field name="ks_dashboard_top_menu_id" eval="ref('hr_recruitment.menu_hr_recruitment_root')"/>
            <field name="ks_dashboard_default_template" eval="ref('equip3_hr_recruitment_extend.ks_recruitment')"/>
            <field name="ks_dashboard_active">1</field>
            <field name="ks_dashboard_group_access" eval="False"/>
            <field name="ks_dashboard_menu_sequence" eval="0"/>
            <field name="ks_dashboard_icon_class">o-hm-sidebar-parent-hrm-recruitment-dashboard</field>
            <field name="ks_date_filter_selection">l_none</field>
        </record>
    </data>
</odoo>