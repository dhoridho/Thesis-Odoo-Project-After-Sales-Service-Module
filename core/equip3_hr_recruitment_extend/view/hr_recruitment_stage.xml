<odoo>
<data>
    <record id="hasmicro_hr_recruitment_stage_form" model="ir.ui.view">
        <field name="name">hashmicro.hr.recruitment.stage.inherit.form</field>
        <field name="model">hr.recruitment.stage</field>
        <field name="inherit_id" ref="hr_recruitment.hr_recruitment_stage_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
            </xpath>
            <xpath expr="//field[@name='template_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='job_ids']" position="after">
                <field name="new_template_wa_id" string="WhatsApp Template" />
                <field name="template_id" domain="[('model_id.model', '=', 'hr.applicant')]"/>
                <field name="refuse_template_id" domain="[('model_id.model', '=', 'hr.applicant')]"/>
                <field name="offering_letter_template_id"/>
            </xpath>
            <xpath expr="//field[@name='template_id']" position="after">
                <field name="is_first_stage"  widget="boolean_toggle"/>
                <field name="is_final_stage"  widget="boolean_toggle"/>
                <field name="is_global"  string="Global Stages" widget="boolean_toggle"/>
                <field name="refuse_reason_id"/>
            </xpath>
            <xpath expr="//group[@name='stage_definition']" position="inside">
                <group name="stage_auto_follow_up" >
                    <field name="is_follow_up" string="Auto Follow Up"/>
                    <field name="email_template_id" attrs="{'invisible':[('is_follow_up','!=',True)]}" />
                    <field name="new_wa_template_id" attrs="{'invisible':[('is_follow_up','!=',True)]}"  string="Whatsapp Template"/>
                    <label for="interval_number" attrs="{'invisible':[('is_follow_up','!=',True)]}"  string="Execute Every"/>
                    <div attrs="{'invisible':[('is_follow_up','!=',True)]}"  >
                        <field name="interval_number" class="oe_inline" attrs="{'invisible':[('is_follow_up','!=',True)],'required':[('is_follow_up','=',True)]}" />
                        <field name="interval_type" class="oe_inline" attrs="{'invisible':[('is_follow_up','!=',True)],'required':[('is_follow_up','=',True)]}"/>
                    </div>
                    <field name="number_of_repetion" string="Number of Repetitions" attrs="{'invisible':[('is_follow_up','!=',True)],'required':[('is_follow_up','=',True)]}" />
                    
                </group>
                
            </xpath>

        </field>
        </record>

        <record id="hasmicro_hr_recruitment_stage_tree" model="ir.ui.view">
        <field name="name">hashmicro.hr.recruitment.stage.inherit.tree</field>
        <field name="model">hr.recruitment.stage</field>
        <field name="inherit_id" ref="hr_recruitment.hr_recruitment_stage_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
            </xpath>
        </field>
        </record>


</data>


</odoo>