<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    

        <record model="ir.ui.view" id="crm_case_tree_view_job_inherit">
            <field name="name">Applicants</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.crm_case_tree_view_job"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_mobile']" position="attributes">
                    <attribute name="widget"></attribute>
                </xpath>
                <xpath expr="//field[@name='categ_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='priority']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_name']" position="after">
                    <field name="gender"/>
                    <field name="email_from"/>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="after">
                    <field name="department_id"/>
                    <field name="work_location_id"/>
                </xpath>
            </field>
        </record>

        <record id="hasmicro_inherit_applicant_form" model="ir.ui.view">
            <field name="name">hashmicro.hr.applicant.inherith.form</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
            <field name="arch" type="xml">
                 <xpath expr="//header" position="inside">
                    <button string="Hire" name="hire_applicant" type="object" attrs="{'invisible': [('is_hire', '=', True)]}"/>
                    <button string="Blacklist" name="blacklist_applicant" type="object" attrs="{'invisible': ['|',('is_hide_blacklist', '=', True),('is_blacklist_active','=',False)]}"/>
                    <button string="Remove Blacklist" name="remove_blacklist" type="object" attrs="{'invisible': [('is_hide_remove_blacklist', '=', True)]}"/>
                </xpath>
                <xpath expr="//form" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
                </xpath>
                <xpath expr="//field[@name='stage_id']" position="replace">
                    <field name="stage_id" widget="statusbar" options="{'clickable': '0', 'fold_field': 'fold'}" attrs="{'invisible': [('active', '=', False),('emp_id', '=', False)]}" domain="[('id','in',stage_domain_ids)]" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='kanban_state']" position="before">
                    <widget name="web_ribbon" title="BLACKLISTED" bg_color="bg-danger" attrs="{'invisible': [('is_blacklist', '=', False)]}"/>
                    <widget name="web_ribbon" title="HIRED" bg_color="bg-success" attrs="{'invisible': [('is_hire', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="after">
                    <field name="work_location_id"/>
                </xpath>
                <xpath expr="//field[@name='company_id']" position="after">
                    <field name="outsource_id" readonly="1"/>
                </xpath>
                <xpath expr="//field[@name='stage_id']" position="after">
                    <field name="stage_replace_id" clickable="0" widget="statusbar" options="{'clickable': '0', 'fold_field': 'fold','sequence_field':'sequence'}"  domain="[('id','in',stage_replace_domain_ids)]" force_Save="1"/>
                    <field name="shadow_stage_replace_id" clickable="0" widget="statusbar" options="{'clickable': '0', 'fold_field': 'fold','sequence_field':'sequence'}"  domain="[('id','in',stage_replace_domain_ids)]" invisible="1" />
                </xpath>
                <xpath expr="//field[@name='salary_expected']" position="attributes">
                    <attribute name="groups">equip3_hr_accessright_settings.equip3_group_hr_recruitment_applicant_salary</attribute>
                </xpath>

                <xpath expr="//label[@for='salary_expected']" position="before">
                    <field name="last_drawn_salary" groups="equip3_hr_accessright_settings.equip3_group_hr_recruitment_applicant_salary"/>
                </xpath>
                <xpath expr="//label[@for='salary_expected']" position="attributes">
                    <attribute name="groups">equip3_hr_accessright_settings.equip3_group_hr_recruitment_applicant_salary</attribute>
                </xpath>
                <xpath expr="//label[@for='salary_proposed']" position="attributes">
                    <attribute name="groups">equip3_hr_accessright_settings.equip3_group_hr_recruitment_applicant_salary</attribute>
                </xpath>
                <xpath expr="//field[@name='salary_proposed']" position="attributes">
                    <attribute name="groups">equip3_hr_accessright_settings.equip3_group_hr_recruitment_applicant_salary</attribute>
                </xpath>
                <xpath expr="//button[@name='action_makeMeeting']" position="attributes">
                    <attribute name="invisible" >0</attribute>
                    <attribute name="icon">o-hm-smart-hrm-meetings</attribute>
                </xpath>

                <xpath expr="//field[@name='categ_ids']" position="before">
                    <field name="gender" />
                    
                    <field name="date_of_birth" />
                    <label for="birth_years" string="Age"/>
                    <field name="is_hide_blacklist" invisible="1"/>
                    <field name="is_blacklist_active" invisible="1"/>
                    <field name="is_blacklist" invisible="1"/>
                    <field name="is_hide_remove_blacklist" invisible="1"/>
                    <field name="repetion_count" invisible="1"/>
                    <field name="is_auto_follow" invisible="1" />
                    <field name="is_reminder_invite" invisible="1"/>
                    <field name="reminder_schedule_count" invisible="1" />
                    <field name="is_hire" invisible="1"/>
                    <div>
                        <field name="birth_years" readonly="1"/>
                        <field name="birth_year" readonly='1'/>
                        <field name="birth_months" readonly="1"/>
                        <field name="birth_month" readonly='1'/>
                        <field name="birth_days" readonly="1"/>
                        <field name="birth_day" readonly='1'/>
                    </div>
                    <field name="marital_status" />
                    <field name="religion" />
                    <field name="address" />
                    <field name="uploaded_cv_type" invisible="1"/>
                </xpath>

                <xpath expr="//button[@name='create_employee_from_applicant']" position="after">
                    <button string="Assign to Self" name="assign_to_self" type="object" class="oe_highlight" attrs="{'invisible': [('is_hide_assign', '=', True)]}" groups="hr_recruitment.group_hr_recruitment_user"/>
                    <button string="Pass to next stage" name="pass_to_next_stage" type="object" class="oe_highlight" attrs="{'invisible': [('is_hide_pass_next', '=', True)]}" />
                    <button string="Re-do current test" name="re_do_current_test" type="object" class="oe_highlight"  attrs="{'invisible': [('participations_count', '=', 0)]}" />
                </xpath>


                <xpath expr="//button[@name='action_applications_email']" position="after">
                    <button name="get_blacklist_reason" icon="o-hm-smart-hrm-test-result" class="oe_stat_button"  type="object" attrs="{'invisible': [('is_blacklist', '=', False)]}">
                           <span>Blacklist Reason</span>
                    </button>

                    <button name="get_participations" class="oe_stat_button" icon="o-hm-smart-hrm-test-result" type="object" >
                        <field name="participations_count" widget="statinfo" string="Test Result"/>
                    </button>


                    
                        <button name="action_start_survey"
                            class="oe_stat_button"
                            icon="fa-user"
                            type="object"
                            help="Answer related job question"
                            attrs="{'invisible':[('is_interview','=',False)]}">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_text">Start</span>
                                <span class="o_stat_text">Interview</span>
                            </div>
                        </button>


                        <button name="action_print_interview"
                        class="oe_stat_button"
                        icon="fa-pencil-square-o"
                        type="object"
                        help="See interview report"
                        attrs="{'invisible':[('interview_id','=',False)]}">
                        <div class="o_field_widget o_stat_info">
                            <span class="o_stat_text">Interview</span>
                            <span class="o_stat_text">Result</span>
                        </div>
                    </button>


                    
                </xpath>

                 <xpath expr="//button[@name='action_applications_email']" position="attributes">
                    <attribute name="icon">o-hm-smart-hrm-application</attribute>
                </xpath>

                <xpath expr="//button[@name='create_employee_from_applicant']" position="attributes">
                    <attribute name="groups" >hr_recruitment.group_hr_recruitment_user</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_phone']" position="replace">
                
                        <label for="partner_phone" string="Partner Phone"/>
                        <div >
                                <field name="partner_phone" nolabel="1" widget="phone" class="oe_inline"  />   
                                <!-- <field name="wa_url" widget="url" readonly="1" text="Open Partner Phone in Whatsapp" nolabel="1" attrs="{'invisible':[('is_hide_wa','=',True)]}"/> -->
                                <button icon="fa-whatsapp" string="Whatsapp" help="Open in Whatsapp" name="open_wa_phone" type="object" class="oe_link" style="text-align: center;" attrs="{'invisible':[('is_hide_wa','=',True)]}" />
                              
                        </div>
                    
                                                
                </xpath>

                <xpath expr="//field[@name='partner_mobile']" position="replace">
                
                    <label for="partner_mobile" string="Mobile"/>
                    <div >
                            <field name="partner_mobile" nolabel="1" widget="phone" class="oe_inline"  />   
                            <!-- <field name="wa_url_second" widget="url" readonly="1" class="oe_inline"  text="Open Mobile in Whatsapp" nolabel="1" attrs="{'invisible':[('is_hide_wa','=',True)]}"/> -->
                            <button icon="fa-whatsapp" string="Whatsapp" help="Open in Whatsapp" name="open_wa_mobile" type="object" class="oe_link" style="margin-bottom:5;text-align:center;" attrs="{'invisible':[('is_hide_wa','=',True)]}" />
                          
                    </div>                                
                </xpath>

                 <xpath expr="//field[@name='job_id']" position="after">
                    <field name="stage_domain_ids" widget="many2many_tags" invisible="1"/>
                    <field name="is_interview"  invisible="1"/>
                    <field name="is_hide_assign" invisible="1"/>
                    <field name="interview_id" invisible="1"/>
                    <field name="stage_replace_domain_ids" widget="many2many_tags" invisible="1"/>
                    <field name="aplicant_create_date" />
                    <field name="previous_score" readonly="1" force_Save="1"/>
                    <field name="is_hide_wa" invisible="1"/>
                    <field name="is_hide_pass_stage" invisible="1"/>
                    <field name="is_hide_pass_next" invisible="1"/>
                    
                </xpath>

                <xpath expr="//field[@name='email_from']" position="before">
                    <field name="applicant_id"/>
                </xpath>

            </field>
        </record>

        <!-- search-->
        <record id="hr_applicant_inherit_view_search_bis" model="ir.ui.view">
            <field name="name">hr.applicant.inherit.view.search</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_search_bis"/>
            <field name="arch" type="xml">
                <xpath expr="//search/field[@name='categ_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//search/field[@name='attachment_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//search/field[@name='attachment_ids']" position="after">
                    <field name="past_experience_ids"
                           filter_domain="[('past_experience_ids.company_name', 'ilike', self)]" string="Past Company"/>
                </xpath>
            </field>
        </record>

        <record id="hr_applicant_category_inherit_view_tree" model="ir.ui.view">
            <field name="name">hr.applicant.category.inherit.tree</field>
            <field name="model">hr.applicant.category</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_category_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
                </xpath>
            </field>
        </record>

        <record id="hr_recruitment_degree_inherit_tree" model="ir.ui.view">
            <field name="name">hr.recruitment.degree.inherit.tree</field>
            <field name="model">hr.recruitment.degree</field>
            <field name="inherit_id" ref="hr_recruitment.hr_recruitment_degree_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
                </xpath>
            </field>
        </record>

        <record id="hr_applicant_refuse_reason_inherit_view_tree" model="ir.ui.view">
            <field name="name">Applicant refuse reason inherit tree</field>
            <field name="model">hr.applicant.refuse.reason</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_refuse_reason_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
                </xpath>
                <xpath expr="//field[@name='name']" position="after">
                    <field name="applicant_weightage"/>
                </xpath>
            </field>
        </record>

        <record id="hr_recruitment_source_inherit_tree" model="ir.ui.view">
            <field name="name">hr.recruitment.source.inherit.tree</field>
            <field name="model">hr.recruitment.source</field>
            <field name="inherit_id" ref="hr_recruitment.hr_recruitment_source_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="class">menu_hr_recruitment_sticky</attribute>
                </xpath>
            </field>
        </record>


        <record id="hr_applicant_search_name" model="ir.ui.view">
            <field name="name">hr.applicant.name.view.search.inherit</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_search"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='company']" position="after">
                    <filter string="Work Location" name="work_location_id" context="{'group_by':'work_location_id'}"/>                    
                </xpath>

            </field>
        </record>

    </data>
</odoo>
