<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Purchase Tender  -->
    <record id="sh_po_tender_management.sh_purchase_tender_user" model="res.groups">
        <field name="name">Purchase Tender User (Own Document Only)</field>
        <field name="category_id" ref="sh_po_tender_management.module_purchase_tender_category" />
    </record>
    <record id="sh_purchase_tender_user_all_doc" model="res.groups">
        <field name="name"> Purchase Tender User (All Document)</field>
        <field name="category_id" ref="sh_po_tender_management.module_purchase_tender_category" />
        <field name="implied_ids" eval="[(4, ref('sh_po_tender_management.sh_purchase_tender_user'))]" />
    </record>
    <record id="sh_po_tender_management.sh_purchase_tender_manager" model="res.groups">
        <field name="name">Purchase Tender Manager</field>
        <field name="implied_ids" eval="[(6, 0, [ref('sh_purchase_tender_user_all_doc')])]" />
    </record>
    <!-- Purchase Tender Rules -->
    <record id="purchase_tender_user_own_doc_rule" model="ir.rule">
        <field name="name">Purchase Tender User (Own Document Only)</field>
        <field name="model_id" ref="sh_po_tender_management.model_purchase_agreement"/>
        <field name="domain_force">[('sh_purchase_user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sh_po_tender_management.sh_purchase_tender_user'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_tender_user_all_doc_rule" model="ir.rule">
        <field name="name">Purchase Tender User (All Document Only)</field>
        <field name="model_id" ref="sh_po_tender_management.model_purchase_agreement"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('equip3_purchase_operation.sh_purchase_tender_user_all_doc'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_tender_manager_rule" model="ir.rule">
        <field name="name">Purchase Tender Manager</field>
        <field name="model_id" ref="sh_po_tender_management.model_purchase_agreement"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('sh_po_tender_management.sh_purchase_tender_manager'))]"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>

    <!-- Purchase Order -->
    <!-- Category -->
    <record model="ir.module.category" id="base.module_category_inventory_purchase">
        <field name="visible" eval="0" />
    </record>
    <record id="module_category_purchase_order" model="ir.module.category">
        <field name="name">Purchase Order</field>
        <field name="parent_id" ref="base.module_category_purchase_management" />
        <field name="sequence">40</field>
    </record>

    <!-- Groups -->
    <record id="purchase.group_purchase_user" model="res.groups">
        <field name="name">Purchase Order User (Own Document)</field>
        <field name="category_id" ref="module_category_purchase_order"/>
    </record>
    <record id="group_purchase_order_user_all" model="res.groups">
        <field name="name">Purchase Order User (All Document)</field>
        <field name="implied_ids" eval="[(4, ref('purchase.group_purchase_user'))]" />
        <field name="category_id" ref="module_category_purchase_order" />
    </record>
    <record id="purchase.group_purchase_manager" model="res.groups">
        <field name="name">Purchase Manager</field>
        <field name="category_id" ref="module_category_purchase_order"/>
        <field name="implied_ids" eval="[(6, 0, [ref('group_purchase_order_user_all')])]"/>
    </record>

    <!-- purchase.order rules-->
    <record id="purchase_order_user_own_rule" model="ir.rule">
        <field name="name">Purchase Order User (Own Document)</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="groups" eval="[(6, 0, [ref('purchase.group_purchase_user'),ref('sh_po_tender_management.sh_purchase_tender_user')])]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="domain_force">['|',('user_id','=',user.id),('user_request_ids', 'in', user.ids)]</field>
    </record>
    <record id="purchase_order_user_all_rule" model="ir.rule">
        <field name="name">Purchase Order User (All Document)</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6, 0, [ref('group_purchase_order_user_all'),ref('equip3_purchase_operation.sh_purchase_tender_user_all_doc')])]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_order_manager_rule" model="ir.rule">
        <field name="name">Purchase Order Manager</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6, 0, [ref('purchase.group_purchase_manager'),ref('sh_po_tender_management.sh_purchase_tender_manager')])]"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_order_approver_rule" model="ir.rule">
        <field name="name">Purchase Order - Approver</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="domain_force">['|','|','|',('user_request_ids', 'in', user.ids),('user_id','=',user.id),('approver_ids', 'in', user.ids),('approver_ids', '=', False)]</field>
    </record>
    <!-- purchase.order.line rules-->
    <record id="purchase_order_line_user_own_rule" model="ir.rule">
        <field name="name">Purchase Order Line User (Own Document Only)</field>
        <field name="model_id" ref="purchase.model_purchase_order_line"/>
        <field name="domain_force">[('create_uid','=',user.id)]</field>
        <field name="groups" eval="[(6, 0, [ref('purchase.group_purchase_user'),ref('sh_po_tender_management.sh_purchase_tender_user')])]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_order_line_user_all_rule" model="ir.rule">
        <field name="name">Purchase Order Line User (All Document)</field>
        <field name="model_id" ref="purchase.model_purchase_order_line"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6, 0, [ref('group_purchase_order_user_all'),ref('equip3_purchase_operation.sh_purchase_tender_user_all_doc')])]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_order_line_manager_rule" model="ir.rule">
        <field name="name">Purchase Order Line Manager</field>
        <field name="model_id" ref="purchase.model_purchase_order_line"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6, 0, [ref('purchase.group_purchase_manager'),ref('sh_po_tender_management.sh_purchase_tender_manager')])]"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>

    <!-- Purchase Blanket Order -->
    <record id="module_category_purchase_blanket_order" model="ir.module.category">
        <field name="name">Purchase Blanket Order</field>
        <field name="parent_id" ref="base.module_category_purchase_management" />
        <field name="sequence">45</field>
    </record>

    <!-- Groups -->
    <record id="group_purchase_order_blanket_user_own" model="res.groups">
        <field name="name">Purchase Blanket Order User (Own Document Only)</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]" />
        <field name="category_id" ref="module_category_purchase_blanket_order" />
    </record>
    <record id="group_purchase_blanket_order_user_all" model="res.groups">
        <field name="name">Purchase Blanket Order User (All Document)</field>
        <field name="implied_ids" eval="[(4, ref('group_purchase_order_blanket_user_own'))]" />
        <field name="category_id" ref="module_category_purchase_blanket_order" />
    </record>
    <record id="group_purchase_blanket_order_manager" model="res.groups">
        <field name="name">Purchase Blanket Order Manager</field>
        <field name="implied_ids" eval="[(4, ref('group_purchase_blanket_order_user_all'))]" />
        <field name="category_id" ref="module_category_purchase_blanket_order" />
    </record>
    <!-- Blanket Order purchase.requisition rules-->
    <record id="purchase_blanket_order_user_own_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order User (Own Document Only)</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition"/>
        <field name="groups" eval="[(4, ref('group_purchase_order_blanket_user_own'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="domain_force">[('user_id','=',user.id)]</field>
    </record>
    <record id="purchase_blanket_order_user_all_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order User (All Document)</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_blanket_order_user_all'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_blanket_order_manager_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order Manager</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_blanket_order_manager'))]"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>

    <!-- Blanket Order purchase.requisition rules-->
    <record id="purchase_blanket_order_line_user_own_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order Line User (Own Document Only)</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition_line"/>
        <field name="groups" eval="[(4, ref('group_purchase_order_blanket_user_own'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="domain_force">[('create_uid','=',user.id)]</field>
    </record>
    <record id="purchase_blanket_order_line_user_all_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order Line User (All Document)</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition_line"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_blanket_order_user_all'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_blanket_order_line_manager_rule" model="ir.rule">
        <field name="name">Purchase Blanket Order Line Manager</field>
        <field name="model_id" ref="purchase_requisition.model_purchase_requisition_line"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_blanket_order_manager'))]"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>

    <!-- Purchase Request -->
    <!-- Groups -->
    <record id="purchase_request.group_purchase_request_user" model="res.groups">
        <field name="name">Purchase Request User (Own Document)</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]" />
        <field name="category_id" ref="purchase_request.module_category_purchase_request" />
    </record>
    <record id="group_purchase_request_user_assigned_to" model="res.groups">
        <field name="name">Purchase Request User (Assigned To)</field>
        <field name="implied_ids" eval="[(4, ref('purchase_request.group_purchase_request_user'))]" />
        <field name="category_id" ref="purchase_request.module_category_purchase_request" />
    </record>
    <record id="group_purchase_request_user_all_doc" model="res.groups">
        <field name="name">Purchase Request User (All Document)</field>
        <field name="implied_ids" eval="[(4, ref('group_purchase_request_user_assigned_to'))]" />
        <field name="category_id" ref="purchase_request.module_category_purchase_request" />
    </record>
   <record id="purchase_request.group_purchase_request_manager" model="res.groups">
        <field name="name">Purchase Request Manager</field>
        <field name="implied_ids" eval="[(6, 0, [ref('group_purchase_request_user_all_doc')])]"/>
        <field name="category_id" ref="purchase_request.module_category_purchase_request" />
   </record>

    <!-- Rules purchase.request -->
    <record id="purchase_request.purchase_request_rule" model="ir.rule">
        <field name="name">Purchase Request User (Own Document)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request" />
        <field name="groups" eval="[(6, 0, [ref('purchase_request.group_purchase_request_user')])]" />
        <field name="perm_read" eval="True" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="False" />
        <field name="domain_force">[('requested_by','=',user.id)]</field>
    </record>
    <record id="purchase_request_user_assigned_rule" model="ir.rule">
        <field name="name">Purchase Request User (Assigned To)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request"/>
        <field name="groups" eval="[(4, ref('group_purchase_request_user_assigned_to'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="domain_force">['|',('requested_by','=',user.id),('assigned_to','=',user.id)]</field>
    </record>
    <record id="purchase_request_user_all_doc_rule" model="ir.rule">
        <field name="name">Purchase Request User (All Document)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_request_user_all_doc'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_request.purchase_request_manager_rule" model="ir.rule">
        <field name="name">Purchase Request Manager</field>
        <field name="model_id" ref="purchase_request.model_purchase_request" />
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6,0, [ref('purchase_request.group_purchase_request_manager')])]" />
        <field name="perm_read" eval="True" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="True" />
    </record>

    <!-- Rules purchase.request.line -->
    <record id="purchase_request.purchase_request_line_rule" model="ir.rule">
        <field name="name">Purchase Request Line User (Own Document)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request_line" />
        <field name="groups" eval="[(6, 0, [ref('purchase_request.group_purchase_request_user')])]" />
        <field name="perm_read" eval="True" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="False" />
        <field name="domain_force">[('requested_by','=',user.id)]</field>
    </record>
    <record id="purchase_request_line_user_assigned_rule" model="ir.rule">
        <field name="name">Purchase Request User (Assigned To)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request_line"/>
        <field name="domain_force">['|',('assigned_to','=',user.id),('requested_by','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('group_purchase_request_user_assigned_to'))]"/>
        <field name="perm_unlink" eval="0"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_create" eval="1"/>
    </record>
    <record id="purchase_request_line_user_all_doc_rule" model="ir.rule">
        <field name="name">Purchase Request Line User (All Document)</field>
        <field name="model_id" ref="purchase_request.model_purchase_request_line" />
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4,ref('group_purchase_request_user_all_doc'))]" />
        <field name="perm_read" eval="True" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="False" />
    </record>
    <record id="purchase_request.purchase_request_line_manager_rule" model="ir.rule">
        <field name="name">Purchase Request Line Manager</field>
        <field name="model_id" ref="purchase_request.model_purchase_request_line" />
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(6, 0, [ref('purchase_request.group_purchase_request_manager')])]" />
        <field name="perm_read" eval="True" />
        <field name="perm_write" eval="True" />
        <field name="perm_create" eval="True" />
        <field name="perm_unlink" eval="True" />
    </record>

 </odoo>