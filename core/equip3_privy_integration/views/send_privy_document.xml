<odoo>
    <data>

    <record id="send_privy_signer_view_form" model="ir.ui.view">
        <field name="name">send.privy.signer.view.form</field>
        <field name="model">send.privy.signer</field>
        <field name="arch" type="xml">
            <form>
          
                <sheet>
                    <group>
                        <field name="signer_id" required="1"/>
                        <field name="privy_id" string="Privy ID" readonly="1" force_save="1"/>
                        <field name="timestamp" />
                        <field name="multiple_signature" />

                        
                    </group>
                    <notebook>

                        <page name="multiple_signature" string="Multiple Signature" attrs="{'invisible':[('multiple_signature','=',False)]}">
                        <span>For coordinate positioning reference, you can refer to this <a href="https://codepen.io/ValerioEmanuele/pen/pGRZqe# " >website!</a></span>

                            <field name="multiple_signature_ids">
                                <tree editable="bottom">
                                    <field name="posx" string="Position X" />
                                    <field name="posy" string="Position Y"/>
                                    <field name="page" string="Page"/>

                                </tree>
                            
                            </field>
                            
                        </page>
                    </notebook>
                
                </sheet>
            </form>
        </field>
    </record>


        <record id="send_document_to_privy_view_tree" model="ir.ui.view">
            <field name="name">privy.send.document.view.tree</field>
            <field name="model">privy.send.document.signing</field>
            <field name="arch" type="xml">
                <tree string="Send Dcoument To Privy">
                    <field name="doc_name" string="Document Name"/>
                    <field name="document_date"/>
                    <field name="status"/>
                    <field name="file" readonly="1" force_save="1" widget="binary" filename="doc_name" />
                    <!-- <field name="signed_document" readonly="1" force_save="1" widget="binary" filename="doc_name" attrs="{'invisible':[('status','!=','Completed')]}"/> -->
                    <button string="Check Status" type="object" name="check_status" class="oe_highlight" attrs="{'invisible':[('status','=','Draft')]}"/>
                    
                </tree>
            </field>
        </record>



        <record id="send_privy_document_view" model="ir.ui.view">
            <field name="name">Send Dcoument To Privy</field>
            <field name="model">privy.send.document.signing</field>
            <field name="arch" type="xml">
                <form>
                <header>
                    <button string="Check Status" type="object" name="check_status" class="oe_highlight" attrs="{'invisible':[('status','=','Draft')]}"/>
                    <button string="Confirm" type="object" name="confirm" class="oe_highlight" attrs="{'invisible':[('status','!=','Draft')]}"/>
                </header>
                <sheet>
                     <group>
                        <group>
                            <field name="reference_number" readonly="1" force_save="1" />
                            <field name="status" readonly="1" force_save="1" />
                            <field name="signing_url" readonly="1" force_save="1" invisible="1"/>
                            <field name="doc_name" invisible="1"/>

                            <field name="name" required="1" string="Document Name" attrs="{'readonly':[('status','!=','Draft')]}"/>
                            <!-- <field name="signed_document" readonly="1" force_save="1" widget="binary" filename="doc_name" attrs="{'readonly':[('status','!=','Draft')],'invisible':[('status','!=','Completed')]}"/> -->
                            <field name="file" required="0" options="{'accepted_file_extensions': '.pdf'}" widget="binary" filename="doc_name" attrs="{'readonly':[('status','!=','Draft')]}"/>
                            <field name="document_information" invisible="1"/>
                            <field name="doc_process" string="Document Process" required="1" attrs="{'readonly':[('status','!=','Draft')]}"/>
                            <field name="sign_process" required="1" attrs="{'readonly':[('status','!=','Draft')]}"/>
                        </group>

                    </group>
                    <notebook attrs="{'invisible':[('doc_process','=','1')]}">
                        <page string="Signer Level">
                            <field name="signer_ids" attrs="{'readonly':[('status','!=','Draft')]}">
                                <tree >
                                    <field name="signer_id" />
                                    <field name="privy_id" string="Privy ID"/>
                                    <field name="timestamp" />
                                    <field name="multiple_signature" />

                                </tree>

                            </field>

                        </page>

                    </notebook>

                    <group attrs="{'invisible':[('doc_process','=','0')]}">
                        <field name="e_meterai" string="E-Meterai" attrs="{'readonly':[('status','!=','Draft')]}"/>
                        <span>For coordinate positioning reference, you can refer to this <a href="https://codepen.io/ValerioEmanuele/pen/pGRZqe# " >website!</a></span>

                        <field name="document_category" attrs="{'invisible':[('e_meterai','=',False)],'required':[('e_meterai','=',True)],'readonly':[('status','!=','Draft')]}"/>
                        <notebook >
                            <page string="Stamp Position" attrs="{'invisible':[('e_meterai','=',False)]}">
                                <field name="materai_ids" attrs="{'readonly':[('status','!=','Draft')]}">
                                    <tree editable="bottom">
                                        <field name="pos_x" />
                                        <field name="pos_y" />
                                        <field name="page" />
                                        <field name="dimension" />

                                    </tree>

                                </field>

                            </page>

                    </notebook>

                        
                    </group>

                </sheet>

                </form>
            </field>
        </record>

        <record id="action_send_privy_doc" model="ir.actions.act_window">
            <field name="name">Privy Document</field>
            <field name="res_model">privy.send.document.signing</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
        </record>


        <menuitem
            id="send_document_menu"
            name="Privy Document"
            parent="privy_general_menu"
            action="action_send_privy_doc"
            sequence="2"/>


    </data>

</odoo>