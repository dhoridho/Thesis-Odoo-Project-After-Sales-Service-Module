<?xml version='1.0' encoding='utf-8'?>
<odoo>
    
    <!-- account.account.map tree view -->
    <record id="masterdata_accountmap_view_tree" model="ir.ui.view">
        <field name="name">Company Account Mapping</field>
        <field name="model">account.account.map</field>
        <field name="arch" type="xml">
            <tree>
                <!-- Add your fields here -->
                <field name="company_id" />
                <field name="child_company_id" />
                <field name="ownership"/>
                <field name="line_ids" />
                <field name="sales_line_ids"/>
                <field name="purchase_line_ids"/>
            </tree>
        </field>
    </record>

    <!-- account.account.map form view -->
    <record id="masterdata_accountmap_view_form" model="ir.ui.view">
        <field name="name">Company Account Mapping</field>
        <field name="model">account.account.map</field>
        <field name="arch" type="xml">
            <form string="">
                <header>
                    <button name="auto_map_account" string="Auto Mapped by Code" type="object" class="oe_highlight"/>
                </header>
                <sheet>
                    <group>
                        <group id="header_left_group">
                            <field name="company_id" />
                            <field name="child_company_id" />
                        </group>
                        <group id="header_right_group">
                            <label for="ownership"/>
                            <div>
                               <field name="ownership" class="oe_inline"/>
                                <span class="o_form_label oe_inline">%</span>
                            </div>
                            
                        </group>
                    </group>
                    <notebook>
                        <page string='Lines'>
                            <field name="line_ids">
                                <tree editable="bottom">
                                    <field name="target_company" invisible='1'/>
                                    <field name="target_account" force_save = '1'/>
                                    <field name="company_id" invisible='1'/>
                                    <field name="account_id" />
                                    
                                </tree>
                            </field>
                        </page>
                        <page string="Sales Taxes">
                            <field name="sales_line_ids">
                                <tree editable="bottom">
                                    <field name="target_company" invisible='1'/>
                                    <field name="target_sales_tax" />
                                    <field name="company_id" invisible='1'/>
                                    <field name="sales_tax_id"/>                                    
                                </tree>
                            </field>                            
                        </page>
                        <page string='Purchase Taxes'>
                            <field name="purchase_line_ids">
                                <tree editable="bottom">
                                    <field name="target_company" invisible='1'/>
                                    <field name="target_purchase_tax" />
                                    <field name="company_id" invisible='1'/>
                                    <field name="purchase_tax_id" />                                    
                                </tree>
                            </field>                            
                        </page>
                    </notebook>                                       
                </sheet>
            </form>
        </field>
    </record>

    <!-- account.account.map action window -->
    <record id="masterdata_accountmap_action" model="ir.actions.act_window">
        <field name="name">Company Account Mapping</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">account.account.map</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p><p>
                <!-- More details about what a user can do with this object will be OK --> 
            </p>
        </field>
    </record>


    <!-- This Menu Item must have a parent and an action -->
    <menuitem id="masterdata_accountmap_menu_act" action="masterdata_accountmap_action" name="Company Account Mapping" groups="account.group_account_invoice" parent="account.account_account_menu" sequence="32"/>

</odoo>