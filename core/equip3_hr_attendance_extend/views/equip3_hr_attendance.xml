<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="hr_attendance.hr_attendance_action_kiosk_mode" model="ir.actions.client">
            <field name="name">Attendances</field>
            <field name="tag">hr_attendance_kiosk_mode</field>
            <field name="target">fullscreen</field>
        </record>

        <record id="hr_attendance.hr_attendance_action_greeting_message" model="ir.actions.client">
            <field name="name">Message</field>
            <field name="tag">hr_attendance_greeting_message</field>
        </record>

        <record id="hr_attendance_view_form_base_equip_inherit" model="ir.ui.view">
            <field name="name">hr.attendance.form.base.equip3.inherit</field>
            <field name="model">hr.attendance</field>
            <field name="priority" eval="99"/>
            <field name="inherit_id" ref="hr_attendance_base.hr_attendance_view_form_base"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@col='4']" position="replace">
                    <group>
                        <group>
                            <field name="active" invisible="1"/>
                            <field name="is_created" invisible="1"/>
                            <field name="sequence_code"/>
                            <field name="department_id"/>
                            <field name="job_id"/>
                            <field name="is_absent" invisible="1"/>
                            <field name="is_absent_email_sent" invisible="1"/>
                            <field name="working_schedule_id" readonly="1"/>
                            <field name="attendance_status" readonly="1"/>
                            <field name="active_location_id" widget="many2many_tags"/>
                        </group>
                        <group>
                            <field name="start_working_times" invisible="1"/>
                            <field name="start_working_date" readonly="1"/>
                            <field name="calendar_id" invisible="1"/>
                            <field name="hour_from" widget="float_time"/>
                            <field name="hour_to" widget="float_time"/>
                            <field name="tolerance_late" widget="float_time"/>
                            <field name="attendance_formula_id"/>
                            <field name="checkin_status"/>
                            <field name="checkout_status"/>
                            <field name="checkin_status_correction" invisible="1"/>
                            <field name="checkout_status_correction" invisible="1"/>
                        </group>
                        <group>
                            <field name="check_in" readonly="1"/>
                            <field name="check_in_diff" widget="float_time"/>
                            <field name="early_check_in_diff" widget="float_time" invisible="1"/>
                            <field name="ismobile_check_in" widget="float_time" invisible="1"/>
                            <field name="minimum_hours" widget="float_time"/>
                            <field name="worked_hours"/>
                        </group>
                        <group>
                            <field name="check_out" readonly="1"/>
                            <field name="manager_id" invisible="1"/>
                            <field name="check_out_diff" widget="float_time"/>
                            <field name="early_check_out_diff" widget="float_time" invisible="1"/>
                            <field name="late_check_out_diff" widget="float_time" invisible="1"/>
                            <field name="ismobile_check_out" invisible="1"/>
                            <field name="hr_attendance_change_id"/>
                            <field name="date_server_check_in" groups="base.group_erp_manager"/>
                            <field name="date_server_check_out" groups="base.group_erp_manager"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="readonly">1</attribute>
                </xpath>
            </field>
        </record>
        <record id="view_attendance_tree_equip_inherit" model="ir.ui.view">
            <field name="name">hr.attendance.tree.inherit</field>
            <field name="model">hr.attendance</field>
            <field name="inherit_id" ref="hr_attendance.view_attendance_tree"/>
            <field name="arch" type="xml">
                <tree position="attributes">
                    <attribute name="edit">0</attribute>
                    <attribute name="editable"></attribute>
                </tree>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="sequence_code"/>
                    <field name="department_id"/>
                    <field name="attendance_status"/>
                    <field name="attendance_formula_id"/>
                    <field name="leave_type"/>
                    <field name="start_working_date"/>
                </xpath>
                <xpath expr="//field[@name='check_in']" position="after">
                    <field name="checkin_status"/>
                </xpath>
                <xpath expr="//field[@name='check_out']" position="after">
                    <field name="checkout_status"/>
                </xpath>
                <xpath expr="//field[@name='worked_hours']" position="after">
                    <field name="count_status"/>
                </xpath>
            </field>
        </record>
        <record id="hr_attendance_face_recognition.view_attendance_tree_face_recognition" model="ir.ui.view">
            <field name="name">hr.attendance.tree.face.recognition</field>
            <field name="model">hr.attendance</field>
            <field name="priority" eval="99"/>
            <field name="inherit_id" ref="hr_attendance.view_attendance_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='check_in']" position="before">
                    <!-- <field name="face_recognition_access_check_in" class="hr-attendance-base-width"/> -->
                </xpath>
                <xpath expr="//field[@name='check_out']" position="before">
                    <!-- <field name="face_recognition_access_check_out" class="hr-attendance-base-width"/> -->
                </xpath>
            </field>
        </record>
        <record id="inherit_hr_attendance_view_form_face_recognition" model="ir.ui.view">
            <field name="name">inherit_hr_attendance_view_form_face_recognition</field>
            <field name="model">hr.attendance</field>
            <field name="inherit_id" ref="hr_attendance_face_recognition.hr_attendance_view_form_face_recognition"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='face_recognition_access_check_in']" position="replace">
                    <!-- <field name="face_recognition_access_check_in" class="hr-attendance-base-width"/> -->
                </xpath>
                <xpath expr="//field[@name='face_recognition_access_check_out']" position="replace">
                    <!-- <field name="face_recognition_access_check_out" class="hr-attendance-base-width"/> -->
                </xpath>
            </field>
        </record>
        <record id="hr_attendance_view_filter_inherit" model="ir.ui.view">
            <field name="name">hr.attendance..filter.inherit</field>
            <field name="model">hr.attendance</field>
            <field name="priority" eval="99"/>
            <field name="inherit_id" ref="hr_attendance.hr_attendance_view_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='myattendances']" position="after">
                    <filter name="active" string="Archived" domain="[('active', '=', False)]"/>
                </xpath>
            </field>
        </record>
    </data>

    <record model='ir.ui.menu' id='hr_holidays.menu_hr_holidays_approvals'>
        <field name="groups_id" eval="[(6, 0, [ref('equip3_hr_employee_access_right_setting.group_hr_attendance_hr_manager')])]"/>
    </record>


    <record id="hr_att_email_form" model="ir.ui.view">
        <field name="name">hr.att.email.form</field>
        <field name="model">hr.att.email</field>
        <field name="arch" type="xml">
            <form string="Attendance Email List">
                <header>
                    <button string="Email" name="attendance_notify_absent_mail" type="object"
                            class="oe_highlight"/>
                    <button string="Whatsapp" name="attendance_notify_absent_wa" type="object"
                            class="oe_highlight"/>
                    <button string="Emailm" name="attendance_notify_working_under_minimum_hours_mail" type="object"
                            class="oe_highlight"/>
                    <button string="Whatsappm" name="attendance_notify_working_under_minimum_hours_wa" type="object"
                            class="oe_highlight"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="parent_id"/>
                            <field name="start_working_date"/>
                            <field name="whatsapp_meassage"/>
                        </group>
                    </group>
                    <field name="attendance_line_ids">
                        <tree editable="bottom">
                            <field name="hr_att_email_id"/>
                            <field name="name"/>
                            <field name="attendance_id"/>
                            <field name="minimum_hours"/>
                            <field name="worked_hours"/>
                        </tree>
                    </field>
                </sheet>
            </form>
        </field>
    </record>

    <record id="hr_att_email_tree" model="ir.ui.view">
            <field name="name">hr.att.email.tree</field>
            <field name="model">hr.att.email</field>
            <field name="arch" type="xml">
                <tree string="Attendance Email List">
                    <field name="name"/>
                    <field name="parent_id"/>
                    <field name="start_working_date"/>
                    <field name="whatsapp_meassage"/>
                </tree>
            </field>
        </record>

        <record id='action_hr_att_email' model='ir.actions.act_window'>
            <field name="name">Attendance Email List</field>
            <field name="res_model">hr.att.email</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class='oe_view_nocontent_create'>Click to add Email List</p>
            </field>
        </record>

    <menuitem id="menu_action_hr_att_email" name="Attendance Email List" parent="hr_attendance_change_menu_root"
                  action="action_hr_att_email" active="False"/>

</odoo>