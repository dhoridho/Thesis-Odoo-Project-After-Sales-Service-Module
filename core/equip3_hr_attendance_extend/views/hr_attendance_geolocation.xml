<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="hr_attendance_view_form_geolocation" model="ir.ui.view">
            <field name="name">hr.attendance.form.geolocation</field>
            <field name="model">hr.attendance</field>
            <field name="priority" eval="99"/>
            <field name="inherit_id" ref="hr_attendance_base.hr_attendance_view_form_base"/>
            <field name="arch" type="xml">
                <xpath expr="//group[3]/group[1]/group[4]" position="inside">
                    <label for="check_in_latitude" string="Check-in Location"/>
                    <span class="oe_inline">
                        Latitude: <field name="check_in_latitude" nolabel="1"/><br/>
                        Longitude: <field name="check_in_longitude" nolabel="1"/><br/>
                        Map Check-in: <button name="open_map_check_in" type="object" string="Check-in" icon="fa-map-marker" class="oe_inline btn-info"/>
                    </span>
                    <field name="check_in_address"/>
                    <field name="check_in_reason_categ" string="Check In Reason Category"/>
                    <field name="check_in_notes" string="Check In Notes"/>
                </xpath>
                <xpath expr="//group[3]/group[2]/group[4]" position="inside">
                    <label for="check_out_latitude" string="Check-out Location"/>
                    <span class="oe_inline">
                        Latitude: <field name="check_out_latitude" nolabel="1" /><br/>
                        Longitude: <field name="check_out_longitude" nolabel="1"/><br/>
                        Map Check-out: <button name="open_map_check_out" type="object" string="Check-out" icon="fa-map-marker" class="oe_inline btn-info"/>
                    </span>
                    <field name="check_out_address"/>
                    <field name="check_out_reason_categ"  string="Check Out Reason Category"/>
                    <field name="check_out_notes"  string="Check Out Notes"/>
                </xpath>
            </field>
        </record>
        
        <record id="view_employee_form_inh_knk_inherit" model="ir.ui.view">
            <field name="name">hr.employee.form.inh.knk</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="geo_location_attendance_knk.view_employee_form_inh_knk"/>
            <field name="arch" type="xml">
                <data>
                    <!-- <xpath expr="//field[@name='active_location']" position="attributes">
                        <attribute name="widget" >many2many_tags</attribute>
                    </xpath> -->
                    <xpath expr="//field[@name='active_location']" position="replace">
                        <field name="active_location_ids">
                            <tree editable="bottom">
                                <field name="employee_id" invisible="1"/>
                                <field name="active_location_id" required="1"/>
                                <field name="is_default"/>
                            </tree>
                        </field>
                    </xpath>
                </data>
            </field>
        </record>

    </data>
</odoo>