<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- template main -->
    <template id="exam_form_template" name="Exam Form">
        <t t-call="website.layout">
            <div id="wrap">
                <div class="oe_structure">
                    <section id="student_sign_up_form_section">
                        <div class="container-fluid d-flex">
                            <div class="school_portal_sidebar other_form">
                                <nav id = "sidebar">
                                    <ul class="list-unstyled parent_links">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-main-school-admission-register"></span>
                                            <a href="#admission-register" data-toggle="collapse" aria-expanded="true" equip_icon_class="o-hm-sidebar-sub-school-classes">ADMISSION REGISTER</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>
                                        <ul class="list-unstyled collapse show child_links" id="admission-register">
                                            <li class="child_url">
                                                <a href="/student/admission">Admission Register</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-classes"></span>
                                            <a href="#academic-tracking" data-toggle="collapse" aria-expanded="true">ACADEMIC TRACKING</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/profile">Student Profile</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/academic/tracking">Academic Tracking</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/transcript">Student Transcript</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#student-invoice" data-toggle="collapse" aria-expanded="true">STUDENT INVOICE</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="student-invoice">
                                            <li class="child_url">
                                                <a href="/my/invoices">Student Invoice</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#exam-assignment" data-toggle="collapse" aria-expanded="true">EXAM AND ASSIGNMENT</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/assignment">Student Assignment</a>
                                            </li>
                                        </ul>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/exam">Student Exam</a>
                                            </li>
                                        </ul>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/additional">Additional Exam</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#attendance-classes" data-toggle="collapse" aria-expanded="true">ATTENDANCE AND CLASSES</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/student/attendance">Daily Attendance</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/student/leaves">Student Leave Request</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/regular/class/calendar">Classes</a>
                                            </li>
                                        </ul>

                                        <!-- <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/exam/class">Exam Classes</a>
                                            </li>
                                        </ul> -->
                                    </ul>
                                </nav>
                            </div>
                            <div style="width: 100%;box-shadow: 0px 0px 7px 4px #dbdbdb;border-radius: 15px !important;" class="ml-4">
                                <div class="heading mt-5" style="margin-right:140px;">
                                    <h4>Student Exam</h4>
                                </div>
                                <!-- '/exam/submit/%d' % (exam_id.id) -->

                                <t t-if="exam_id.type=='softcopy'">
                                    <form t-att-action="'/exam/submit/%d' % (exam_id.id)" method="POST" enctype="multipart/form-data" class="checkout_autoformat">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <div class="text-center mr-5">
                                            <div class="row" style="padding-top: 24px;">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="student_name">Student</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="student_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="subject_name">Subject</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="exam_id.subject_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="teacher_name">Teacher</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="exam_id.teacher_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="exam_type">Exam Type</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p class="text-capitalize"><t t-esc="exam_id.type"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="attached_exam">Attached Exam</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <a t-attf-href="/web/content?model=exam.exam&amp;field=exam_attachment&amp;filename_field=file_name&amp;id=#{exam_id.id}&amp;download=true" target="_blank"><i class="mr-2 fa fa-download"></i><t t-esc="exam_id.file_name"/></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="submit_exam">Submit Exam</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <input type="file" class="form-control-file" id="submit_exam" name="submit_exam"  style="width:50%;" required="1" oninvalid="this.setCustomValidity('Please attach a file.')" oninput="this.setCustomValidity('')"/>
                                                        <input type="hidden" name="exam_result_id" t-attf-value='#{result_id.id}'/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-right:140px;">
                                            <div class="mx-auto">
                                                <a class="btn btn-danger text-white" t-attf-href="/student/exam/">Cancel</a>
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </t>
                                <t t-if="exam_id.type=='online'">
                                    <form t-attf-action="#{exam_id.exam_url}" method="POST">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <div class="text-center mr-5">
                                            <div class="row" style="padding-top: 24px;">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="student_name">Student</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="student_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="subject_name">Subject</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="exam_id.subject_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="teacher_name">Teacher</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p><t t-esc="exam_id.teacher_id.name"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="exam_type">Exam Type</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <p class="text-capitalize"><t t-esc="exam_id.type"/></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-5 text-right">
                                                    <div class="form-group">
                                                        <label for="survey">Question</label>
                                                    </div>
                                                </div>
                                                <div class="col-5 text-left" style="margin-left:140px;">
                                                    <div class="form-group">
                                                        <t t-esc="survey_name"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" style="margin-right:140px;">
                                            <div class="mx-auto">
                                                <input type="hidden" name="student_id" t-att-value="student_id.id"/>
                                                <button type="submit" class="btn btn-primary text-white">Start</button>
                                            </div>
                                        </div>
                                    </form>
                                </t>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </t>
    </template>

</odoo>
