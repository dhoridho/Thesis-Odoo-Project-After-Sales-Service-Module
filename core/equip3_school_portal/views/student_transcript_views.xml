<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="student_transcript_template" name="Student Transcript Template">
        <t t-call="website.layout">

            <t t-set="head">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
                <script>
                    $(document).ready(function(){
                        var _validator = $("#transcriptForm").validate({
                            ignore: [],
                            rules: {
                                "student_id": {
                                    required: true
                                },
                                "program_id": {
                                    required: true,
                                },
                                "intake_id": {
                                    required: true,
                                },
                            },
                            messages: {
                                student_id: {
                                    required: "Please fill Student",
                                },
                                program_id: {
                                    required: "Please fill Program",
                                },
                                intake_id: {
                                    required: "Please fill Intake",
                                },
                            },
                        });
                    });
                </script>
            </t>
            <div id="wrap">
                <div class="oe_structure">
                    <section id="student_sign_up_form_section">
                        <div class="container-fluid d-flex">
                            <div class="school_portal_sidebar other_form">
                                <nav id = "sidebar">
                                    <ul class="list-unstyled parent_links">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-main-school-admission-register"></span>
                                            <a href="#admission-register" data-toggle="collapse" aria-expanded="true" equip_icon_class="o-hm-sidebar-sub-school-classes">ADMISSION REGISTER</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>
                                        <ul class="list-unstyled collapse show child_links" id="admission-register">
                                            <li class="child_url">
                                                <a href="/student/admission">Admission Register</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-classes"></span>
                                            <a href="#academic-tracking" data-toggle="collapse" aria-expanded="true">ACADEMIC TRACKING</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/profile">Student Profile</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/academic/tracking">Academic Tracking</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="academic-tracking">
                                            <li class="child_url">
                                                <a href="/student/transcript">Student Transcript</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#student-invoice" data-toggle="collapse" aria-expanded="true">STUDENT INVOICE</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="student-invoice">
                                            <li class="child_url">
                                                <a href="/my/invoices">Student Invoice</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#exam-assignment" data-toggle="collapse" aria-expanded="true">EXAM AND ASSIGNMENT</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/assignment">Student Assignment</a>
                                            </li>
                                        </ul>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/exam">Student Exam</a>
                                            </li>
                                        </ul>
                                        <ul class="list-unstyled collapse show child_links" id="exam-assignment">
                                            <li class="child_url">
                                                <a href="/student/additional">Additional Exam</a>
                                            </li>
                                        </ul>
                                    </ul>

                                    <ul class="list-unstyled parent_links" t-if="request.env.user.has_group('base.group_user')">
                                        <li class="parent_url">
                                            <span class="o-hm-icon o-hm-menu-icon o-hm-sidebar-sub-school-monthly-attendance-sheet"></span>
                                            <a href="#attendance-classes" data-toggle="collapse" aria-expanded="true">ATTENDANCE AND CLASSES</a>
                                        </li>
                                        <div class="col-20 menu-border">
                                            <div/>
                                        </div>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/student/attendance">Daily Attendance</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/student/leaves">Student Leave Request</a>
                                            </li>
                                        </ul>

                                        <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/regular/class/calendar">Classes</a>
                                            </li>
                                        </ul>

                                        <!-- <ul class="list-unstyled collapse show child_links" id="attendance-classes">
                                            <li class="child_url">
                                                <a href="/exam/class">Exam Classes</a>
                                            </li>
                                        </ul> -->
                                    </ul>
                                </nav>
                            </div>
                            <div style="width: 100%;box-shadow: 0px 0px 7px 4px #dbdbdb;border-radius: 15px !important;" class="ml-4">

                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div>
                <div id="transcript-modal" class="modal fade" role="dialog" tabindex="-1" style="z-index: 9999;" data-keyboard="false" data-backdrop="static">
                    <style>
                        #transcript-modal .select2-container .select2-choice .select2-arrow {
                            background: transparent;
                            border: none;
                        }
                        #transcript-modal .select2-container .select2-choice .select2-arrow b {
                            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
                            background-repeat: no-repeat;
                            background-position: right 0.15rem center;
                            background-size: 19px 15px;
                            padding: .375rem .25rem .375rem .75rem;
                        }
                        #transcript-modal .select2-container .select2-choice{
                            height: calc(1.5em + 0.75rem + 2px);
                            padding: 0.375rem 0.75rem;
                            background-color: transparent !important;
                            background-image: none;
                        }
                        .modal-open .select2-drop-active {
                            border-color: #8dd9d7 !important;
                            box-shadow: 0 4px 0 0.2rem rgba(58, 173, 170, 0.25);
                        }
                        #transcript-modal .form-control.select2-container.select2-dropdown-open{
                            border-color: #8dd9d7;
                            box-shadow: 0 0 0 0.2rem rgba(58, 173, 170, 0.25);
                        }
                        #transcript-modal input[type="date"]::-webkit-calendar-picker-indicator {
                            border-left: 1px solid rgb(129, 133, 137);
                        }
                        #transcript-modal label.error {
                            text-decoration: underline;
                            color: red;
                            font-size: 9pt;
                            font-style: oblique;
                        }
                    </style>
                    <div class="modal-dialog" role="document">
                        <div class="col-lg-auto modal-content mt32" style="border-radius: 20px;">
                            <div class="heading mt-5" style="margin:auto;">
                                <h4 style="border-bottom:2px solid #000;">Student Transcript</h4>
                            </div>
                            <form id="transcriptForm" method="post" >
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                                <div class="modal-body d-flex mt-4">
                                    <div class="table">
                                        <div class="form-row mt-4">
                                            <div class="col-lg-4 ml-4">
                                                <label for="student_id" class="o_required"><b>Student</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <select class="form-control" id="input-student-id" name="student_id" >
                                                    <option selected="selected" disabled="disabled" value=""></option>
                                                    <t t-foreach="student_ids" t-as="student_id">
                                                        <option t-att-value="student_id.id"><t t-esc="student_id.display_name"/></option>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-row mt-4">
                                            <div class="col-lg-4 ml-4">
                                                <label for="program_id" class="o_required"><b>Program</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <select class="form-control" id="input-program-id" name="program_id" >
                                                    <option selected="selected" disabled="disabled" value=""></option>
                                                    <t t-if="program_ids">
                                                        <t t-foreach="program_ids" t-as="program_id">
                                                            <option t-att-value="program_id.id"><t t-esc="program_id.display_name"/></option>
                                                        </t>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-row mt-4">
                                            <div class="col-lg-4 ml-4">
                                                <label for="intake_id" class="o_required"><b>Intake</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <select class="form-control" id="input-intake-id" name="intake_id" >
                                                    <option selected="selected" disabled="disabled" value=""></option>
                                                    <t t-if="intake_ids">
                                                        <t t-foreach="intake_ids" t-as="intake_id">
                                                            <option t-att-value="intake_id.id"><t t-esc="intake_id.display_name"/></option>
                                                        </t>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-row mt-4">
                                            <div class="col-lg-4 ml-4">
                                                <label for="print_all"><b>Print All</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="checkbox" class="form-check" id="input-printall" name="print_all" checked="checked"/>
                                            </div>
                                        </div>

                                        <div class="form-row mt-4 d-none" id="academic-year-row">
                                            <div class="col-lg-4 ml-4">
                                                <label for="academic_year_id"><b>Academic Year</b></label>
                                            </div>
                                            <div class="col-lg-6">
                                                <select class="form-control custom-select" id="input-academic-year-id" name="academic_year_id">
                                                    <option selected="selected" disabled="disabled" value="">Choose Option</option>
                                                    <t t-foreach="academic_year_ids" t-as="academic_year_id">
                                                        <option t-att-value="academic_year_id.id"><t t-esc="academic_year_id.display_name"/></option>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-row mt-4">
                                            <div class="col-6 offset-3">
                                                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                                <span style="margin-left:6rem;" />
                                                <button type="submit" class="btn btn-primary">Print</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>
