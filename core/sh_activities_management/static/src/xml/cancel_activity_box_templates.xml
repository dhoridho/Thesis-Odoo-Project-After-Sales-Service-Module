<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-inherit="mail.Chatter" t-inherit-mode="extension">    
        <xpath expr="//div[hasclass('o_Chatter')]/t[@t-if='chatter']/div[hasclass('o_Chatter_scrollPanel')]/t[@t-if='chatter.threadView']" position="before">
            <div class="hascancel">
                <t t-if="chatter and chatter.thread">
                    <a href="#" role="button" class="o_ActivityBox_title btn" t-att-aria-expanded="chatter.iscancelActivityBoxVisible ? 'true' : 'false'" t-on-click="_onClickCancelTitle">
                        <hr class="o_ActivityBox_titleLine" />
                        <span>
                            <i class="fa fa-fw" t-att-class="chatter.iscancelActivityBoxVisible ? 'fa-caret-down' : 'fa-caret-right'"/>
                            Cancel activities
                        </span>                                            
                        <hr class="o_ActivityBox_titleLine" />
                    </a>
                    <t t-if="chatter.iscancelActivityBoxVisible">
                        <div class="o_ActivityList">
                            <t t-foreach="chatter.thread.activities" t-as="activity" t-key="activity.localId">                            
                                <t t-if="activity.state == 'cancel'">
                                    <Activity class="o_ActivityBox_activity" activityLocalId="activity.localId"/>
                                </t>
                            </t>
                        </div>
                    </t>
                </t>       
            </div>                                          
        </xpath>
    </t>
</templates>
