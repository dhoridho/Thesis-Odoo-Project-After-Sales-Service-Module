<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-inherit="mail.Activity" t-inherit-mode="extension">
        <xpath expr="//*[@name='tools']" position="replace">            
            <div name="tools" class="o_Activity_tools">
                <t t-if="activity.state !== 'done' and activity.state !== 'cancel'">
                    <t t-if="activity.category !== 'upload_file'">
                        <Popover position="'right'" title="MARK_DONE">
                            <button class="o_Activity_toolButton o_Activity_markDoneButton btn btn-link" t-att-title="MARK_DONE">
                                <i class="fa fa-check"/> Mark Done
                            </button>
                            <t t-set="opened">
                                <ActivityMarkDonePopover activityLocalId="props.activityLocalId"/>
                            </t>
                        </Popover>
                    </t>
                    <t t-else="">
                        <button class="o_Activity_toolButton o_Activity_uploadButton btn btn-link" t-on-click="_onClickUploadDocument">
                            <i class="fa fa-upload"/> Upload Document
                        </button>
                        <FileUploader
                            t-if="activity.thread"
                            threadLocalId="activity.thread.localId"
                            t-on-o-attachment-created="_onAttachmentCreated"
                            t-ref="fileUploader"
                        />
                    </t>
                    <button class="o_Activity_toolButton o_Activity_editButton btn btn-link" t-on-click="_onClickEdit">
                        <i class="fa fa-pencil"/> Edit
                    </button>
                    <button class="o_Activity_toolButton o_Activity_cancelButton btn btn-link" t-on-click="_onClickCancelArchive" >
                        <i class="fa fa-times"/> Cancel
                    </button>
                </t>                
                <t t-if="activity.state === 'cancel' or activity.state === 'done'">
                    <button class="o_Activity_toolButton o_Activity_editButton btn btn-link" t-on-click="_onClickEdit">
                        <i class="fa fa-eye"/> Show
                    </button>
                </t>
            </div>        
        </xpath>
    </t>
</templates>