<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data>
        <record id="fleet_vehicle_inherit_id" model="ir.ui.view">
            <field name="name">Vehicle</field>
            <field name="model">fleet.vehicle</field>
            <field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button name="show_logs_vehicle" type="object" class="oe_stat_button" icon="fa-check-square-o">
                        <field name="vehicle_log_count" widget="statinfo"/>
                    </button>
                </xpath>
                <xpath expr="//sheet/group/group/field[@name='driver_id']" position="before">
                    <field name="is_driver"/>
                </xpath>
                <xpath expr="//sheet/group/group/field[@name='driver_id']" position="attributes">
                    <attribute name="attrs">{'invisible': [('is_driver', '=', False)]}</attribute>
                </xpath>
                <xpath expr="//sheet" position="inside">
                    <notebook>
                        <page name='vehicle_configration' string='Vehicle Configration'>
                            <group col="4">
                                <field name="vehicle_type" required="1"/>
                                <field name="currency_id" invisible="1"/>
                                <field name="auto_station_id"/>
                                <field name="current_status"/>
                                <field name="rate_as_per_day" required="1"/>
                                <field name="rate_as_per_km" required="1"/>
                                <field name="maximum_km"/>
                                <field name="is_ac"/>
                                <field name="rate_day_ac" required="1" attrs="{'invisible':[('is_ac','=',False)]}"/>
                                <field name="is_carrier"/>
                                <field name="rate_km_ac" required="1" attrs="{'invisible':[('is_ac','=',False)]}"/>
                                <field name="price_carrier" attrs="{'invisible':[('is_carrier','=',False)]}"/>
                            </group>
                        </page>
                    </notebook>
                </xpath>
                <xpath expr="//sheet/group//group[2]" position="replace">
                    <group string="Vehicle">
                        <label for="odometer"/>
                        <div class="o_row">
                            <field name="odometer"/>
                            <field name="odometer_unit"/>
                        </div>
                        <field name="acquisition_date"/>
                        <field name="vin_sn"/>
                        <field name="car_value" widget="monetary"/>
                        <field name="net_car_value" widget="monetary"/>
                        <field name="residual_value" widget="monetary"/>
                        <field name="company_id" groups="base.group_multi_company"/>
                    </group>
                </xpath>
                <xpath expr="//button[@name='return_action_to_open']" position="attributes">
                    <attribute name="attrs">{}</attribute>
                </xpath>
                <xpath expr="//sheet/group//group[4]/field[@name='seats']" position="attributes">
                    <attribute name="attrs">{}</attribute>
                </xpath>
                <xpath expr="//sheet/group//group[4]/field[@name='doors']" position="attributes">
                    <attribute name="attrs">{}</attribute>
                </xpath>
                <xpath expr="//sheet/group//group[5]" position="attributes">
                    <attribute name="attrs">{}</attribute>
                </xpath>
            </field>
        </record>

        <record id="fleet_vehicle_type_tree" model="ir.ui.view">
            <field name="name">Vehicle Type</field>
            <field name="model">fleet.vehicle.type</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name="name"/>
                    <field name="type_id"/>
                </tree>
            </field>
        </record>

        <record id="action_vehicle_type" model="ir.actions.act_window">
            <field name="name">Vehicle Type</field>
            <field name="res_model">fleet.vehicle.type</field>
            <field name="view_mode">tree</field>
        </record>

        <record id="view_vehicle_type_class_tree" model="ir.ui.view">
            <field name="name">Vehicle Type</field>
            <field name="model">vehicle.class</field>
            <field name="arch" type="xml">
                <tree editable="top ">
                    <field name="vehicle_class"/>
                </tree>
            </field>
        </record>

        <record id="action_vehicle_type_class_info" model="ir.actions.act_window">
            <field name="name">Vehicle Type</field>
            <field name="res_model">vehicle.class</field>
            <field name="view_mode">tree</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Click to add Class</p>
            </field>
        </record>

        <menuitem id="vehicle_name_menu" name="Vehicles" parent="fleet_vehicle_booking_menu"
                  action="fleet.fleet_vehicle_action" sequence="0"/>

        <menuitem id="vehicle_configration_menu" name="Configration" parent="fleet_vehicle_main_menu" sequence="10"/>
        <menuitem id="fleet_vehicle_name_configuration" name="Vehicles Configuration"
                  parent="vehicle_configration_menu"/>
        <menuitem id="vehicle_type_menu" name="Vehicle Type" parent="fleet_vehicle_name_configuration"
                  action="action_vehicle_type" sequence="8"/>
        <menuitem id="vehicle_class_menu" name="Vehicle Class Type" parent="fleet_vehicle_name_configuration"
                  action="action_vehicle_type_class_info" sequence="10"/>
        <menuitem id="vehicle_model_make_menu" name="Model make of Vehicle" parent="fleet_vehicle_name_configuration"
                  action="fleet.fleet_vehicle_model_brand_action" sequence="5"/>
        <menuitem id="vehicle_model_name_menu" name="Vehicle Model" parent="fleet_vehicle_name_configuration"
                  action="fleet.fleet_vehicle_model_action" sequence="3"/>
    </data>
</odoo>
