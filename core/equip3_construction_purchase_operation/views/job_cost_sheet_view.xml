<odoo>
    <data>
        <record id="view_job_cost_sheet_menu_form_abs_construction_management" model="ir.ui.view">
            <field name="name">job.cost.sheet.view.form.inherit.new.tab</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <xpath expr="//header/button[@name='create_project_budget']" position="after">
                    <button string="Create Procurement Request" name="create_material_request" type="object" class="btn-primary"
                            attrs="{'invisible': [('state', 'not in', ('in_progress'))]}" />
                </xpath>
                <xpath expr="//field[@name='warehouse_id']" position="after">
                    <field name="hide_subcon_buton" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record id="view_job_cost_sheet_smart_buttons" model="ir.ui.view">
            <field name="name">job.cost.sheet.view.form.inherit.smart.button</field>
            <field name="model">job.cost.sheet</field>
            <field name="inherit_id" ref="abs_construction_management.view_job_cost_sheet_menu_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position='inside'>
                    <button name="action_material_request"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-material-request"
                            attrs="{'invisible': ['|',('state', 'in', ('draft', 'waiting_approval', 'approved', 'reject')),('total_material_request', '=', 0)]}">
                        <field name="total_material_request" widget="statinfo"/>
                    </button>
                    <button name="action_purchase_agreement"
                            type="object"
                            class="oe_stat_button"
                            icon="o-hm-smart-construction-purchase-agreement"
                            attrs="{'invisible': ['|',('state', 'in', ('draft', 'waiting_approval', 'approved', 'reject')),('total_purchase_agreement', '=', 0)]}">
                        <field name="total_purchase_agreement" widget="statinfo"/>
                    </button>                 
                </xpath>
            </field>
        </record>

        <!-- Inherit View GOP Material -->
        <!-- <record id="material_gop_cost_sheet_view_inherit" model="ir.ui.view">
            <field name="name">material.gop.cost.sheet.view.inherit</field>
            <field name="model">material.gop.material</field>
            <field name="inherit_id" ref="equip3_construction_operation.material_gop_cost_sheet_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[@name='group_2']/group[@name='group_2_1']/field[@name='reserved_amt']" position="after">
                    <field name="purchase_order_line_ids" widget="one2many_list" nolabel="1">
                        <tree>
                            <field name="order_id" />
                            <field name="type" invisible="1"/>
                            <field name="project_scope" invisible="1"/>
                            <field name="section" invisible="1"/>
                            <field name="group_of_product" invisible="1"/>
                            <field name="product_template_id" string='Product'/>
                            <field name="name" optional="hide"/>
                            <field name="agreement_id" optional="hide"/>
                            <field name="date_planned" optional="hide"/>
                            <field name="date_received" optional="hide"/>
                            <field name="destination_warehouse_id" optional="hide"/>
                            <field name="analytic_tag_ids" optional="hide"/>
                            <field name="sh_tender_note" optional="hide"/>
                            <field name="discount_method" optional="hide"/>
                            <field name="discount_amount" optional="hide"/>
                            <field name="discounted_value" optional="hide"/>
                            <field name="product_qty" />
                            <field name="budget_quantity" optional="hide"/>
                            <field name="qty_received" optional="hide"/>
                            <field name="qty_invoiced" optional="hide"/>
                            <field name="product_uom" />
                            <field name="price_unit" />
                            <field name="budget_unit_price" optional="hide"/>
                            <field name="last_purchased_price" optional="hide"/>
                            <field name="last_customer_purchase_price" optional="hide"/>
                            <field name="taxes_id" optional="hide"/>
                            <field name="price_tax" optional="hide"/>
                            <field name="purchase_req_budget" optional="hide"/>
                            <field name="realized_amount" optional="hide"/>
                            <field name="price_subtotal" />
                            <field name="remining_budget_amount" optional="hide"/>
                            <field name="price_total" optional="hide"/>
                        </tree>
                    </field>
                </xpath>
            </field>
        </record> -->

        <!-- Inherit View GOP Labour -->
        <!-- <record id="labour_gop_cost_sheet_view_inherit" model="ir.ui.view">
            <field name="name">labour.gop.cost.sheet.view.inherit</field>
            <field name="model">material.gop.labour</field>
            <field name="inherit_id" ref="equip3_construction_operation.labour_gop_cost_sheet_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[@name='group_2']/group[@name='group_2_1']/field[@name='reserved_amt']" position="after">
                    <field name="purchase_order_line_ids" widget="one2many_list" nolabel="1">
                        <tree>
                            <field name="order_id" />
                            <field name="type" invisible="1"/>
                            <field name="project_scope" invisible="1"/>
                            <field name="section" invisible="1"/>
                            <field name="group_of_product" invisible="1"/>
                            <field name="product_template_id" string='Product'/>
                            <field name="name" optional="hide"/>
                            <field name="agreement_id" optional="hide"/>
                            <field name="date_planned" optional="hide"/>
                            <field name="date_received" optional="hide"/>
                            <field name="destination_warehouse_id" optional="hide"/>
                            <field name="analytic_tag_ids" optional="hide"/>
                            <field name="sh_tender_note" optional="hide"/>
                            <field name="discount_method" optional="hide"/>
                            <field name="discount_amount" optional="hide"/>
                            <field name="discounted_value" optional="hide"/>
                            <field name="product_qty" />
                            <field name="budget_quantity" optional="hide"/>
                            <field name="qty_received" optional="hide"/>
                            <field name="qty_invoiced" optional="hide"/>
                            <field name="product_uom" />
                            <field name="price_unit" />
                            <field name="budget_unit_price" optional="hide"/>
                            <field name="last_purchased_price" optional="hide"/>
                            <field name="last_customer_purchase_price" optional="hide"/>
                            <field name="taxes_id" optional="hide"/>
                            <field name="price_tax" optional="hide"/>
                            <field name="purchase_req_budget" optional="hide"/>
                            <field name="realized_amount" optional="hide"/>
                            <field name="price_subtotal" />
                            <field name="remining_budget_amount" optional="hide"/>
                            <field name="price_total" optional="hide"/>
                        </tree>
                    </field>
                </xpath>
            </field>
        </record> -->

        <!-- Inherit View GOP Overhead -->
        <!-- <record id="overhead_gop_cost_sheet_view_inherit" model="ir.ui.view">
            <field name="name">overhead.gop.cost.sheet.view.inherit</field>
            <field name="model">material.gop.overhead</field>
            <field name="inherit_id" ref="equip3_construction_operation.overhead_gop_cost_sheet_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[@name='group_2']/group[@name='group_2_1']/field[@name='reserved_amt']" position="after">
                    <field name="purchase_order_line_ids" widget="one2many_list" nolabel="1">
                        <tree>
                            <field name="order_id" />
                            <field name="type" invisible="1"/>
                            <field name="project_scope" invisible="1"/>
                            <field name="section" invisible="1"/>
                            <field name="group_of_product" invisible="1"/>
                            <field name="product_template_id" string='Product'/>
                            <field name="name" optional="hide"/>
                            <field name="agreement_id" optional="hide"/>
                            <field name="date_planned" optional="hide"/>
                            <field name="date_received" optional="hide"/>
                            <field name="destination_warehouse_id" optional="hide"/>
                            <field name="analytic_tag_ids" optional="hide"/>
                            <field name="sh_tender_note" optional="hide"/>
                            <field name="discount_method" optional="hide"/>
                            <field name="discount_amount" optional="hide"/>
                            <field name="discounted_value" optional="hide"/>
                            <field name="product_qty" />
                            <field name="budget_quantity" optional="hide"/>
                            <field name="qty_received" optional="hide"/>
                            <field name="qty_invoiced" optional="hide"/>
                            <field name="product_uom" />
                            <field name="price_unit" />
                            <field name="budget_unit_price" optional="hide"/>
                            <field name="last_purchased_price" optional="hide"/>
                            <field name="last_customer_purchase_price" optional="hide"/>
                            <field name="taxes_id" optional="hide"/>
                            <field name="price_tax" optional="hide"/>
                            <field name="purchase_req_budget" optional="hide"/>
                            <field name="realized_amount" optional="hide"/>
                            <field name="price_subtotal" />
                            <field name="remining_budget_amount" optional="hide"/>
                            <field name="price_total" optional="hide"/>
                        </tree>
                    </field>
                </xpath>
            </field>
        </record> -->

        <!-- Inherit View GOP Labour -->
        <!-- <record id="equipment_gop_cost_sheet_view_inherit" model="ir.ui.view">
            <field name="name">equipment.gop.cost.sheet.view.inherit</field>
            <field name="model">material.gop.equipment</field>
            <field name="inherit_id" ref="equip3_construction_operation.equipment_gop_cost_sheet_view"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[@name='group_2']/group[@name='group_2_1']/field[@name='reserved_amt']" position="after">
                    <field name="purchase_order_line_ids" widget="one2many_list" nolabel="1">
                        <tree>
                            <field name="order_id" />
                            <field name="type" invisible="1"/>
                            <field name="project_scope" invisible="1"/>
                            <field name="section" invisible="1"/>
                            <field name="group_of_product" invisible="1"/>
                            <field name="product_template_id" string='Product'/>
                            <field name="name" optional="hide"/>
                            <field name="agreement_id" optional="hide"/>
                            <field name="date_planned" optional="hide"/>
                            <field name="date_received" optional="hide"/>
                            <field name="destination_warehouse_id" optional="hide"/>
                            <field name="analytic_tag_ids" optional="hide"/>
                            <field name="sh_tender_note" optional="hide"/>
                            <field name="discount_method" optional="hide"/>
                            <field name="discount_amount" optional="hide"/>
                            <field name="discounted_value" optional="hide"/>
                            <field name="product_qty" />
                            <field name="budget_quantity" optional="hide"/>
                            <field name="qty_received" optional="hide"/>
                            <field name="qty_invoiced" optional="hide"/>
                            <field name="product_uom" />
                            <field name="price_unit" />
                            <field name="budget_unit_price" optional="hide"/>
                            <field name="last_purchased_price" optional="hide"/>
                            <field name="last_customer_purchase_price" optional="hide"/>
                            <field name="taxes_id" optional="hide"/>
                            <field name="price_tax" optional="hide"/>
                            <field name="purchase_req_budget" optional="hide"/>
                            <field name="realized_amount" optional="hide"/>
                            <field name="price_subtotal" />
                            <field name="remining_budget_amount" optional="hide"/>
                            <field name="price_total" optional="hide"/>
                        </tree>
                    </field>
                </xpath>
            </field>
        </record> -->

        <!-- Periodical Budget -->
        <record id="view_periodical_budget_menu_formt" model="ir.ui.view">
            <field name="name">periodical.budget.view.form.inherit.new.tab</field>
            <field name="model">project.budget</field>
            <field name="inherit_id" ref="equip3_construction_operation.project_budget_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//header/button[@name='create_budget_carry_over']" position="before">
                    <button string="Create Procurement Request" name="create_material_request" type="object" class="btn-primary"
                            attrs="{'invisible': [('state', 'not in', ('in_progress'))]}" />
                </xpath>
            </field>
        </record>
    </data>
</odoo>
