<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- form view -->
    <record id="purchase_construction_penalty_view_form_id" model="ir.ui.view">
        <field name="name">construction.penalty.view.form</field>
        <field name="model">construction.penalty</field>
        <field name="arch" type="xml">
            <form string="Penalty">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="penalty_contract"/>
                        <field name="is_purchase_penalty" invisible="1"/>
                    </group>
                    <div attrs="{'invisible': [('penalty_contract','=',False)]}">
                        <br/>
                        <div width="100%">
                            <div>
                                <h3>
                                    <b>Penalty Details</b>
                                </h3>
                                <hr/>
                            </div>
                        </div>
                        <br/>
                        <div>
                            <field name="diff_penalty"/>
                            <label for="diff_penalty"/>
                        </div>
                        <group>
                            <group>
                                <div width="100%" attrs="{'invisible': [('diff_penalty', '=', False)]}">
                                    <div>
                                        <h3>
                                            <b>Contractor</b>
                                        </h3>
                                        <hr/>
                                    </div>
                                </div>
                                <field name="method"/>
                                <label for="amount"/>
                                <div name="amount_div" class="o_row">
                                    <field name="amount"/>
                                    <label for="amount" string="%" attrs="{'invisible': [('method', '=', 'fix')]}"/>
                                </div>
                            </group>
                            <group attrs="{'invisible': [('diff_penalty', '=', False)]}">
                                <div width="100%">
                                    <div>
                                        <h3>
                                            <b>Vendor</b>
                                        </h3>
                                        <hr/>
                                    </div>
                                </div>
                                <field name="method_client"/>
                                <label for="amount_client"/>
                                <div name="amount_div" class="o_row">
                                    <field name="amount_client"/>
                                    <label for="amount_client" string="%"
                                           attrs="{'invisible': [('method_client', '=', 'fix')]}"/>
                                </div>
                            </group>
                        </group>
                        <br/>
                        <notebook>
                            <page name="description" string="Description">
                                <field name="note"/>
                            </page>
                        </notebook>
                    </div>
                </sheet>
                <div class="oe_chatter" name="chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="purchase_construction_penalty_view_tree_id" model="ir.ui.view">
        <field name="name">construction.penalty.view.tree</field>
        <field name="model">construction.penalty</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="penalty_contract"/>
                <!-- <field name="days_needed_to_paid"/>
                <field name="amount" widget="monetary"/> -->
            </tree>
        </field>
    </record>

    <record id="sale_penalty_field_inherit_form" model="ir.ui.view">
        <field name="name">sale.penalty.field.inherit.form</field>
        <field name="model">construction.penalty</field>
        <field name="inherit_id" ref="equip3_construction_masterdata.construction_penalty_view_form_id"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='penalty']" position="after">
                <field name="is_purchase_penalty" invisible="1"/>
            </xpath>
        </field>
    </record>

    <record id="construction_inherit_penalty_view_action_id" model="ir.actions.act_window">
        <field name="name">Penalty</field>
        <field name="res_model">construction.penalty</field>
        <field name="context">{'default_is_purchase_penalty':True}</field>
        <field name="domain">[('is_purchase_penalty', '=', True)]</field>
        <field name="view_ids" eval="[(5,0,0),(0,0,
        {'view_mode':'tree','view_id':ref('purchase_construction_penalty_view_tree_id')}),
        (0,0,{'view_mode':'form','view_id':ref('purchase_construction_penalty_view_form_id')})]"/>
    </record>
    <menuitem
            id="purchase_configuration_penalty_menu" name="Penalty" action="equip3_construction_purchase_operation.construction_inherit_penalty_view_action_id"
            parent="equip3_purchase_accessright_setting.menu_purchase_config_sub" sequence="1"/>

    <record id="equip3_construction_masterdata.construction_penalty_view_action_id" model="ir.actions.act_window">
        <field name="name">Penalty</field>
        <field name="res_model">construction.penalty</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_purchase_penalty', '=', False)]</field>
    </record>

</odoo>