<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Goods orders -->
    <record id="purchase.purchase_rfq" model="ir.actions.act_window">
        <field name="context">
        {
            'quotation_only': True, 
            'goods_order': 1, 
            'default_is_goods_orders': True, 
            'default_is_delivery_receipt': True,         
            'default_is_single_delivery_destination': True,
            'search_default_project' : 1
        }
        </field>
        <field name="domain">[('dp', '=', False), ('state', 'in', ['draft', 'sent', 'cancel', 'waiting_for_approve', 'reject', 'rfq_approved']),
                              ('po', '=', False), ('is_goods_orders', '=', True), ('is_material_orders', '=', False)]</field>
    </record>

    <record id="purchase.purchase_form_action" model="ir.actions.act_window">
        <field name="context">
        {
            'goods_order': 1, 
            'default_is_goods_orders': True, 
            'default_is_delivery_receipt': True, 
            'default_is_single_delivery_destination': True,
            'search_default_project' : 1
        }
        </field>
        <field name="domain">[('dp', '=', False), ('state', 'in', ['purchase', 'done', 'cancel', 'reject']),
                              ('po', '=', True), ('is_goods_orders', '=', True), ('is_material_orders', '=', False)]</field>
    </record>

    <record id="purchase_request.purchase_request_form_action" model="ir.actions.act_window">
        <field name="context">
        {
            "search_default_requested_by": uid, 
            'goods_order': 1,
            'default_is_goods_orders': True,
            'default_is_single_request_date': True,
            'default_is_single_delivery_destination': True,
            'search_default_project' : 1
        }</field>
        <field name="domain">[('is_goods_orders', '=', True)]</field>
    </record>

    <record id="purchase_request.purchase_request_line_form_action" model="ir.actions.act_window">
        <field name="context">{'goods_order': 1, 'default_is_goods_orders': True, 'search_default_project' : 1}</field>
        <field name="domain">[('is_goods_orders', '=', True)]</field>
    </record>

    <record id="equip3_purchase_operation.goods_orders_purchase_order_onhold" model="ir.actions.act_window">
        <field name="context">{'goods_order': 1, 'default_is_goods_orders': True, 'search_default_project' : 1}</field>
        <field name="domain">[('state', '=', 'on_hold'), ('is_goods_orders', '=', True)]</field>
    </record>

    <record id="equip3_purchase_operation.product_purchase_order_line_goods" model="ir.actions.act_window">
        <field name="context">{'goods_order': 0, 'default_is_goods_orders': True}</field>
        <field name="domain">[('dp_line', '=', False), ('is_goods_orders', '=', True),
                              ('state', '=', 'purchase')]</field>
    </record>

    <record id="equip3_purchase_operation.purchase_request_orders_form_action" model="ir.actions.act_window" >
        <field name="context">
        {
            'services_good': 1,
            'default_is_goods_orders': True,
            'default_is_single_request_date':True,
            'default_is_single_delivery_destination':True,
            'search_default_project' : 1
        }
        </field>
    </record>

    <record id="equip3_purchase_operation.good_purchase_request_line_form_action_assigned" model="ir.actions.act_window">
        <field name="context">{'goods_order': 1, 'default_is_goods_orders': True}</field>
        <field name="domain">[('is_goods_orders', '=', True),('assigned_to','!=',False)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.purchase_request_line_search" /> -->
    </record>

    <record id="equip3_purchase_operation.good_purchase_request_line_form_action_not_assigned" model="ir.actions.act_window">
        <field name="context">{'goods_order': 1, 'default_is_goods_orders': True}</field>
        <field name="domain">[('is_goods_orders', '=', True),('assigned_to','=',False)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.purchase_request_line_search" /> -->
    </record>

    <!-- Services Orders -->
    <record id="equip3_purchase_operation.product_requests_for_quotation_services" model="ir.actions.act_window">
        <!-- <field name="search_view_id" ref="purchase.view_purchase_order_filter"/> -->
        <field name="context">
        {
            'quotation_only': True, 
            'services_good': 1,
            'default_is_service': True,
            'default_is_services_orders': True,
            'default_is_subcontracting': True,
            'default_is_delivery_receipt' : True,
            'default_is_single_delivery_destination' : True,
            'search_default_project' : 1
        }
        </field>
    </record>

    
    <!-- <record id="equip3_purchase_operation.product_purchase_orders_services" model="ir.actions.act_window">
        <field name="name">Purchase Orders</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">purchase.order</field>
        <field name="view_mode">tree,kanban,form,pivot,graph,calendar,activity</field>
        <field name="view_id" ref="purchase.purchase_order_view_tree"/>
        <field name="domain">[('state','in',['purchase', 'done', 'cancel', 'reject']),('po', '=', True), ('is_subcontracting', '=', True)]</field>
        <field name="search_view_id" ref="purchase.purchase_order_view_search"/>
        <field name="context">{'services_good': 1, 'default_is_goods_orders' : False, 'search_default_project' : 1}</field>
        <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            No purchase order found. Let's create one!
        </p><p>
            Once you ordered your products to your supplier, confirm your request for quotation and it will turn into a purchase order.
        </p>
        </field>
    </record> -->

    <!-- <record id="equip3_purchase_operation.purchase_order_onhold_orders" model="ir.actions.act_window">
            <field name="name">Purchase Order On Hold</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">purchase.order</field>
            <field name="view_mode">tree,kanban,form,pivot,graph,calendar,activity</field>
            <field name="view_id" ref="purchase.purchase_order_view_tree"/>
            <field name="domain">[('state','=', 'on_hold'), ('is_subcontracting', '=', True)]</field>
            <field name="search_view_id" ref="purchase.purchase_order_view_search"/>
            <field name="context"></field>
        </record> -->

    <record id="equip3_purchase_operation.product_purchase_orders_services" model="ir.actions.act_window">
        <!-- <field name="search_view_id" ref="purchase.purchase_order_view_search"/> -->
        <field name="view_id" ref="purchase.purchase_order_view_tree"/>
        <field name="context">
        {
            'services_good': 1,
            'default_is_service': True,
            'default_is_services_orders': True,
            'default_is_subcontracting': True,
            'default_is_delivery_receipt' : True,
            'default_is_single_delivery_destination' : True,
            'search_default_project' : 1
        }</field>
    </record>

    <record model="ir.actions.act_window" id="equip3_purchase_operation.product_purchase_requests_services">
        <field name="context">
        {
            'services_good': 1,
            'default_is_services_orders': True,
            'default_is_subcontracting': True,
            'default_is_single_request_date' : True,
            'default_is_single_delivery_destination' : True,
            'search_default_project' : 1
        }
        </field>
        <field name="domain">[('is_services_orders', '=', True), ('is_subcontracting', '=', True)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.view_purchase_request_search"/> -->
    </record>

    <record id="equip3_purchase_operation.product_purchase_request_line_services" model="ir.actions.act_window">
        <field name="context">{'services_good': 1, 'default_is_services_orders': True}</field>
        <field name="domain">[('is_services_orders', '=', True)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.purchase_request_line_search"/> -->
    </record>

    <record id="equip3_purchase_operation.product_purchase_request_line_services_assigned" model="ir.actions.act_window">
        <field name="context">{'services_good': 1, 'default_is_services_orders': True}</field>
        <field name="domain">[('is_services_orders', '=', True),('assigned_to','!=',False)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.purchase_request_line_search"/> -->
    </record>

    <record id="equip3_purchase_operation.product_purchase_request_line_services_not_assigned" model="ir.actions.act_window">
        <field name="context">{'services_good': 1, 'default_is_services_orders': True}</field>
        <field name="domain">[('is_services_orders', '=', True),('assigned_to','=',False)]</field>
        <!-- <field name="search_view_id" ref="purchase_request.purchase_request_line_search"/> -->
    </record> 

    <record id="equip3_purchase_operation.services_purchase_order_onhold_services" model="ir.actions.act_window">
        <field name="domain">[('state', '=', 'on_hold'), ('is_services_orders', '=', True), ('is_subcontracting', '=', True)]</field>
        <!-- <field name="search_view_id" ref="purchase.purchase_order_view_search"/> -->
        <field name="context">{'services_good': 1, 'default_is_services_orders': True, 'default_is_service': True, 'search_default_project' : 1}</field>
    </record>

    <record id="equip3_purchase_operation.product_purchase_order_line_services" model="ir.actions.act_window">
        <field name="context">{'services_good': 1, 'default_is_services_orders': True}</field>
        <field name="domain">[('is_services_orders', '=', True), ('state', '=', 'purchase')]</field>
    </record>
</odoo>