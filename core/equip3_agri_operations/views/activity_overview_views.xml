<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <!-- crop.block action window -->
    <record id="agriculture_daily_activity_overview_action" model="ir.actions.act_window">
        <field name="name">Activity Overview</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">crop.block</field>
        <field name="view_mode">kanban</field>
        <field name="domain"></field>
        <field name="context">{'search_default_groupby_division_id': 1}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Create a activity overview
            </p>
        </field>
    </record>

    <!-- agriculture.daily.activity action window -->
    <record id="agriculture_daily_activity_available_action" model="ir.actions.act_window">
        <field name="name">Available Activity</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">agriculture.daily.activity</field>
        <field name="view_mode">tree,form,pivot,calendar</field>
        <field name="domain"></field>
        <field name="context">{'search_default_state_available': 1, 'search_default_block_id': 1}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Create a activity overview
            </p>
        </field>
    </record>

    <!-- agriculture.daily.activity action window -->
    <record id="agriculture_daily_activity_draft_action" model="ir.actions.act_window">
        <field name="name">Draft Activity</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">agriculture.daily.activity</field>
        <field name="view_mode">tree,form,pivot,calendar</field>
        <field name="domain"></field>
        <field name="context">{'search_default_state_draft': 1, 'search_default_block_id': 1}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Create a activity overview
            </p>
        </field>
    </record>

    <!-- agriculture.daily.activity action window -->
    <record id="agriculture_daily_activity_progress_action" model="ir.actions.act_window">
        <field name="name">Progress Activity</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">agriculture.daily.activity</field>
        <field name="view_mode">tree,form,pivot,calendar</field>
        <field name="domain"></field>
        <field name="context">{'search_default_state_progress': 1, 'search_default_block_id': 1}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Create a activity overview
            </p>
        </field>
    </record>
    
    <!-- crop.block kanban view -->
    <record id="agriculture_daily_activity_view_kanban" model="ir.ui.view">
        <field name="name">crop.block.view.kanban</field>
        <field name="model">crop.block</field>
        <field name="arch" type="xml">
            <kanban string="Activity Overview" class="oe_background_white o_kanban_dashboard o_emphasize_colors o_stock_kanban" create="0" group_create="0">
                <field name="count_available"/>
                <field name="count_draft"/>
                <field name="count_progress"/>
                <templates>
                    <t t-name="kanban-box">
                        <div>
                            <div t-attf-class="o_kanban_card_header">
                                <div class="o_kanban_card_header_title">
                                    <div class="o_primary">
                                        <field name="name"/>
                                    </div>
                                </div>
                            </div>
                            <div class="container o_kanban_card_content" t-if="!selection_mode">
                                <div class="row">
                                    <div class="col-6 o_kanban_primary_left">
                                        <button class="btn btn-primary" name="get_action_activity_available" type="object">
                                            <span>View Activity</span>
                                        </button>
                                    </div>
                                    <div class="col-6 o_kanban_primary_right">
                                        <div class="row">
                                            <div class="col-3">
                                                <field name="count_draft"/>
                                            </div>
                                            <div class="col-9">
                                                <a name="get_action_activity_draft" type="object">
                                                    Next Activity
                                                </a>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">
                                                <field name="count_progress"/>
                                            </div>
                                            <div class="col-9">
                                                <a name="get_action_activity_progress" type="object">
                                                    On Progress
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">
                                <div class="row">
                                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_view">
                                        <div role="menuitem" class="o_kanban_card_manage_title">
                                            <span>View</span>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_activity_available" type="object">Availabele</a>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_activity_draft" type="object">Draft</a>
                                        </div>
                                        <div role="menuitem">
                                            <a name="get_action_activity_progress" type="object">On Progress</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

</odoo>