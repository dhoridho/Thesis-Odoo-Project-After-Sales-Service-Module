<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record model="ir.ui.view" id="view_stock_quant_cutting_tree_editable">
        <field name="name">stock.quant.cutting.tree.editable</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <tree editable="bottom"
                  create="0" edit="1" import="0"
                  sample="1">
                <field name="id" invisible="1"/>
                <field name="tracking" invisible="1"/>
                <field name="product_id" attrs="{'readonly': [('id', '!=', False)]}"
                       invisible="context.get('single_product', False)"
                       readonly="context.get('single_product', False)" force_save="1"
                       options="{'no_create': True}"/>
                <field name="location_id" attrs="{'readonly': [('id', '!=', False)]}"
                       invisible="context.get('hide_location', False)"
                       options="{'no_create': True}"/>
                <field name="original_lot_id"/>
                <field name="lot_id" groups="stock.group_production_lot"
                       attrs="{
                            'readonly': ['|', ('id', '!=', False), ('tracking', 'not in', ['serial', 'lot'])],
                            'required': [('tracking', '!=', 'none')]
                       }"
                       invisible="context.get('hide_lot', False)"
                       context="{'default_product_id': product_id, 'default_company_id': company_id}"/>
                <field name="length"/>
                <field name="height"/>
                <field name="width"/>
                <field name="quantity" invisible="1"/>
                <field name="inventory_quantity" string="On Hand Quantity" decoration-danger="inventory_quantity &lt; 0"
                       readonly="0"/>
                <field name="available_quantity" optional="show"/>
                <field name="product_uom_id" groups="uom.group_uom"/>
                <field name='company_id' groups="base.group_multi_company" invisible="1"/>
                <field name="currency_id" invisible="1"/>
                <field name="value"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_stock_quant_cutting_tree">
        <field name="name">stock.quant.cutting.tree</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <tree string="Inventory Valuation" js_class="inventory_report_list"
                  create="0" delete="0">
                <field name="product_id" invisible="context.get('single_product', False)"/>
                <field name="location_id" invisible="context.get('hide_location', False)"/>
                <field name="lot_id" string="ORIGINAL LOT/SERIAL NUMBER"/>
                <field name="lot_id" groups="stock.group_production_lot"
                       invisible="context.get('hide_lot', False)"/>
                <field name="length"/>
                <field name="height"/>
                <field name="width"/>
                <field name="inventory_quantity"/>
                <field name="available_quantity"/>
                <field name="product_uom_id" groups="uom.group_uom"/>
                <field name="currency_id" invisible="1"/>
                <field name="value"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_stock_quant_cutting_pivot">
        <field name="name">stock.quant.cutting.pivot</field>
        <field name="model">stock.quant</field>
        <field name="arch" type="xml">
            <pivot string="Inventory" sample="1">
                <field name="product_id" type="row"/>
                <field name="location_id" type="col"/>
                <field name="quantity" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="stock_quant_cutting_view_graph" model="ir.ui.view">
        <field name="name">stock.quant.cutting.graph</field>
        <field name="model">stock.quant</field>
        <field name="arch" type="xml">
            <graph string="Stock Quant" sample="1">
                <field name="location_id"/>
                <field name="quantity" type="measure"/>
            </graph>
        </field>
    </record>

    <record id="quant_cutting_search_view" model="ir.ui.view">
        <field name="name">stock.quant.cutting.search</field>
        <field name="model">stock.quant</field>
        <field eval="10" name="priority"/>
        <field name="arch" type="xml">
            <search string="Quants">
                <field name="product_id"/>
                <field name="location_id"/>
                <field name="lot_id" groups="stock.group_production_lot"/>
                <group expand='0' string='Filters'>
                    <filter name='internal_loc' string="Internal Locations"
                            domain="[('location_id.usage','=', 'internal')]"/>
                    <filter name='transit_loc' string="Transit Locations"
                            domain="[('location_id.usage' ,'=', 'transit')]"/>
                    <filter name="on_hand" string="On Hand" domain="[('on_hand', '=', True)]"/>
                    <separator/>
                    <filter name="negative" string="Negative Stock" domain="[('quantity', '&lt;', 0.0)]"/>
                    <filter name="positive" string="Positive Stock" domain="[('quantity', '&gt;', 0.0)]"/>
                    <filter name="reserved" string="Reservations" domain="[('reserved_quantity', '&gt;', 0.0)]"/>
                    <separator/>
                    <filter name="filter_in_date" date="in_date"/>
                </group>
                <group expand='0' string='Group by...'>
                    <filter string='Product' name="productgroup" context="{'group_by': 'product_id'}"/>
                    <filter string='Location' name="locationgroup" domain="[]" context="{'group_by': 'location_id'}"/>
                    <filter string='Lot/Serial Number' name="Lot_Serial_number" context="{'group_by': 'lot_id'}"
                            groups="stock.group_production_lot"/>
                </group>
            </search>
        </field>
    </record>

    <record id="action_stock_quant_cutting_report" model="ir.actions.act_window">
        <field name="name">Stock On Hand</field>
        <field name="res_model">stock.quant</field>
        <field name="view_mode">tree,pivot,graph</field>
        <field name="view_ids"
               eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_stock_quant_cutting_tree_editable')}),
                          (0, 0, {'view_mode': 'pivot', 'view_id': ref('view_stock_quant_cutting_pivot')}),
                          (0, 0, {'view_mode': 'graph', 'view_id': ref('stock_quant_cutting_view_graph')})]"/>
        <field name="search_view_id" ref="quant_cutting_search_view"/>
        <field name="context">{
            "search_default_productgroup" : 1,
            "search_default_internal_loc": 1,
            "search_default_locationgroup": 1
            }
        </field>
        <field name="domain">[('product_id.is_cutting_product', '=', True)]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create an Cutting Report.
            </p>
        </field>
    </record>


    <menuitem id="reporting_menu"
              name="Reporting"
              parent="equip3_manuf_cutting.menu_cutting_root"
              sequence="11"/>

    <menuitem id="menu_cutting_report"
              name="Cutting Report"
              parent="reporting_menu"
              action="action_stock_quant_cutting_report"/>

</odoo>