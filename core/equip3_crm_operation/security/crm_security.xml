<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="group_use_multi_salesperson_on_leads" model="res.groups">
            <field name="name">Allow Multi Salesperson on leads</field>
            <field name="category_id" ref="base.module_category_hidden"/>
        </record>
        <record id="crm_lead_branch_rule" model="ir.rule">
            <field name="name">Lead Group multi-branch</field>
            <field name="model_id" ref="model_crm_lead"/>
            <field name="domain_force">['|',('branch_id', '=', False),('branch_id', 'in', branch_ids)]</field>
        </record>
        <record id="calendar_rule" model="ir.rule">
            <field name="name">Calendar per Sale Team</field>
            <field name="model_id" ref="model_calendar_event"/>
            <field name="domain_force">['|','|','|','|','|',('user_ids', '=', False),('user_ids', 'in', user.list_user_id.user_ids.ids),('user_ids', 'in', user.ids),('partner_ids', '=', False),('partner_ids', 'in', user.list_user_id.user_ids.partner_id.ids),('partner_ids', 'in', user.partner_id.ids)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_team_member')),(4, ref('equip3_crm_masterdata.group_team_leader'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="res_activity_rule" model="ir.rule">
            <field name="name">Res Activity per Sale Team</field>
            <field name="model_id" ref="model_res_mail_activity"/>
            <field name="domain_force">['|','|','|','|','|','|','|','|',('user_ids', '=', False),('user_ids', 'in', user.list_user_id.user_ids.ids),('user_ids', 'in', user.ids),('list_users_ids', '=', False),('list_users_ids', 'in', user.list_user_id.user_ids.ids),('list_users_ids', 'in', user.ids),('list_partners_ids', '=', False),('list_partners_ids', 'in', user.list_user_id.user_ids.partner_id.ids),('list_partners_ids', 'in', user.partner_id.ids)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_team_member')),(4, ref('equip3_crm_masterdata.group_team_leader'))]"/>
        </record>
        <record id="res_activity_rule_admin" model="ir.rule">
            <field name="name">Res Activity per Sale Team - Admin</field>
            <field name="model_id" ref="model_res_mail_activity"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_admin_crm'))]"/>
        </record>
        <record id="target_rule" model="ir.rule">
            <field name="name">Target per Sale Team</field>
            <field name="model_id" ref="model_crm_target"/>
            <field name="domain_force">['|',('salesperson_id', 'in', user.list_user_id.user_ids.ids),('salesperson_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_team_member')),(4, ref('equip3_crm_masterdata.group_team_leader'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="target_rule_admin" model="ir.rule">
            <field name="name">Target per Sale Team - Admin</field>
            <field name="model_id" ref="model_crm_target"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_admin_crm'))]"/>
        </record>
<!--        Sale Order-->
        <record id="sales_rule" model="ir.rule">
            <field name="name">Sale Order per Sale Team</field>
            <field name="model_id" ref="model_sale_order"/>
            <field name="domain_force">['|','|',('user_id', '=', False),('user_id', '=', user.id),('user_id', 'in', user.list_user_id.user_ids.ids)]</field>
            <field name="groups" eval="[(4, ref('equip3_crm_masterdata.group_team_member')),(4, ref('equip3_crm_masterdata.group_team_leader'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
    </data>
</odoo>