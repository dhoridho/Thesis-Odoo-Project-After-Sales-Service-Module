<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="venue_booking_page_template">
        <t t-call="website.layout">
            <div class="oe_structure oe_empty"/>
            <t t-foreach="venue_details" t-as="o">
                <div class="card">
                    <t t-foreach="venue_details" t-as="o">
                        <section class="form_card">
                            <div class="container">
                                <div class="card">
                                    <h2 class="text-center">Booking Info</h2>
                                    <form action="/tis_venue_booking/booking_submitted" method="post"
                                          enctype="multipart/form-data">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">
                                                    <span>Name</span>
                                                    <div class="input-group">
                                                        <t t-if="partner">
                                                            <input class="frm_dtl_input" type="text"
                                                                   required="True"
                                                                   placeholder="Enter Your Name"
                                                                   name="partner_id"
                                                                   t-attf-value="#{partner.name}"/>
                                                        </t>
                                                        <t t-else="">
                                                            <input class="frm_dtl_input" type="text"
                                                                   required="True"
                                                                   placeholder="Enter Your Name"
                                                                   name="partner_id"/>
                                                        </t>
                                                    </div>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">

                                                    <!--<select>
                                                        <option value="Option 1">First Option</option>
                                                        <option value="Option 2">2nd Option</option>
                                                        <option value="Option 3">Option Number 3</option>
                                                    </select>-->
                                                    <div class="row" style="display:none;">
                                                        <label class="col-25" for="venue_id"
                                                               style="font-weight: 400;color: #444;font-size: 16px;">
                                                            venue
                                                        </label>
                                                        <t t-foreach="venue_details" t-as="o">
                                                            <div class="col-25">
                                                                <input type="text" class="form-control"
                                                                       style="width: 100%;box-shadow: 0px 0px 28px -3px #cccccc70;border: none;padding: 16px;background-color: #94d89100;"
                                                                       name="venue"
                                                                       t-attf-value="#{o.id}"/>
                                                            </div>
                                                        </t>
                                                    </div>
                                                    <t t-foreach="venue_details" t-as="o">
                                                        <span>Venue</span>
                                                        <input class="frm_dtl_input"
                                                               type="text"
                                                               placeholder="venue"
                                                               name="venue"
                                                               t-attf-value="#{o.name}" readonly="1"/>
                                                    </t>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">
                                                    <span>Booking From</span>
                                                    <!--<input class="frm_dtl_input" type="date"/>-->
                                                    <div class="input-group date" id="date_booking_from"
                                                         data-target-input="nearest">
                                                        <input type="text"
                                                               class="frm_dtl_input datetimepicker-input"
                                                               data-target="#date_booking_from" id="start"
                                                               name="booking_from"
                                                               required="True"/>
                                                        <div class="input-group-append"
                                                             data-target="#date_booking_from"
                                                             data-toggle="datetimepicker">
                                                            <div class="input-group-text"
                                                                 style="position: absolute;right: 0px;top: 14px;background: none;border: none;">
                                                                <i class="fa fa-calendar"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">
                                                    <span>Booking To</span>
                                                    <!--<input class="frm_dtl_input" type="date"/>-->
                                                    <div class="input-group date" id="date_booking_to"
                                                         data-target-input="nearest">
                                                        <input type="text"
                                                               class="frm_dtl_input datetimepicker-input"
                                                               data-target="#date_booking_to" id="end"
                                                               name="booking_to"
                                                               required="True"/>
                                                        <div class="input-group-append"
                                                             data-target="#date_booking_to"
                                                             data-toggle="datetimepicker">
                                                            <div class="input-group-text"
                                                                 style="position: absolute;right: 0px;top: 14px;background: none;border: none;">
                                                                <i class="fa fa-calendar"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </label>
                                            </div>

                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">
                                                    <span>Phone Number</span>
                                                    <!--<input class="frm_dtl_input" type="number"
                                                           placeholder="Enter Your Number"/>-->
                                                    <input class="frm_dtl_input" type="text"
                                                           required="True"
                                                           placeholder="Enter Your Number"
                                                           name="mobile_number"/>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="frm_dtl_labal">
                                                    <span>Email</span>
                                                    <input class="frm_dtl_input" type="email"
                                                           placeholder="Enter Your Email"
                                                           name="Email_id"/>
                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="frm_dtl_labal">
                                                    <span>Booking Type</span>
                                                    <br/>
                                                    <br/>
                                                    <input type="radio" id="type_day"
                                                           name="booking_type"
                                                           required="True"
                                                           value="day" checked="checked"/>
                                                    <label for="day">Day Base</label>&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                                    <input type="radio" id="type_hour"
                                                           name="booking_type"
                                                           value="hourly"
                                                           style="margin-left: 8%;"/>
                                                    <label for="hour">Hour Base</label>
                                                </div>
                                            </div>
                                        </div>

                                        <table class="bkg_tbl">
                                            <thead data-oe-model="ir.ui.view" data-oe-id="940"
                                                   data-oe-field="arch"
                                                   data-oe-xpath="/t[1]/table[1]/thead[1]">
                                                <th>Amenities</th>
                                                <th>Type</th>
                                                <th>Quantity</th>
                                                <th>Unit Prize</th>
<!--                                                <th>Unit Prize(per hour)</th>-->
                                            </thead>
                                            <tbody>
                                                <t t-foreach="o.venue_amenities_ids" t-as="l">
                                                    <t t-if="l.type=='additional'">
                                                        <tr>
                                                            <td class="amenity_name">
                                                                <input id="amenity"
                                                                       name="amenity"
                                                                       t-attf-value="#{l.amenities_id.id}"
                                                                       t-esc="l.amenities_id.name"
                                                                       readonly="1"/>
                                                            </td>
                                                            <td class="amenity_name">
                                                                <input id="type"
                                                                       name="type"
                                                                       t-attf-value="#{l.type}"
                                                                       t-esc="l.type"
                                                                       readonly="1"/>
                                                            </td>
                                                            <td>
                                                                <input type="number"
                                                                       id="quantity"
                                                                       name="quantity"
                                                                       value="0"
                                                                       min="0"/>
                                                            </td>
                                                            <td>
                                                                <div class="day_price">
                                                                    <span t-esc="l.charge_per_day"/>
                                                                    <span t-esc="l.currency_id.symbol"/>
                                                                </div>
<!--                                                            </td>-->
<!--                                                            <td>-->
                                                                <div class="hour_price">
                                                                    <span t-esc="l.charge_per_hour"/>
                                                                    <span t-esc="l.currency_id.symbol"/>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                    <t t-if="l.type=='inclusive'">
                                                        <tr>
                                                            <td class="amenity_name">
                                                                <input id="amenity"
                                                                       name="amenity"
                                                                       t-attf-value="#{l.amenities_id.id}"
                                                                       t-esc="l.amenities_id.name"
                                                                       readonly="1"/>
                                                            </td>
                                                            <td class="amenity_name">
                                                                <input id="type"
                                                                       name="type"
                                                                       t-attf-value="#{l.type}"
                                                                       t-esc="l.type"
                                                                       readonly="1"/>
                                                            </td>
                                                            <td class="amenity_name">
                                                                <input
                                                                        id="quantity"
                                                                        name="quantity"
                                                                        t-attf-value="#{l.booking_amenity_id.quantity}"
                                                                        t-esc="l.booking_amenity_id.quantity"
                                                                        readonly="1"/>
                                                                <!--                                                                <span t-esc="l.booking_amenity_id.quantity"/>-->
                                                            </td>
                                                            <td>
                                                                <div class="day_price">
                                                                    <span t-esc="l.charge_per_day"/>
                                                                    <span t-esc="l.currency_id.symbol"/>
                                                                </div>
<!--                                                            </td>-->
<!--                                                            <td>-->
                                                                <div class="hour_price">
                                                                    <span t-esc="l.charge_per_hour"/>
                                                                    <span t-esc="l.currency_id.symbol"/>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </t>
                                            </tbody>
                                        </table>
                                        <div class="col-md-12">
                                                <label class="frm_dtl_labal">
                                                    <span>Note</span>
                                                    <textarea class="frm_dtl_input"
                                                              placeholder="remarks..."
                                                              name="narration" style="height:33px;"/>
                                                </label>
                                            </div>
                                        <center>
                                            <button class="btn btn--radius btn--green" type="submit" id="booking_submit">Request
                                                Booking
                                            </button>
                                        </center>
                                    </form>
                                </div>
                            </div>
                        </section>
                        <script type="text/javascript">
                            function EnableDisableTextBox(amenities) {
                            var quantity = document.getElementById("quantity");
                            quantity.disabled = amenities.checked ? false : true;
                            if (!quantity.disabled) {
                            quantity.focus();
                            }
                            }
                        </script>
                    </t>
                </div>
            </t>
        </t>
    </template>
</odoo>