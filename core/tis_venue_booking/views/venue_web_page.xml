<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="venue_page_template">
        <t t-call="website.layout">
            <div class="oe_structure oe_empty"/>
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

                <div class="carousel-inner">
                    <figure>
                        <t t-foreach="website.get_banner()"
                           t-as="slider">
                            <t t-if="slider_index == 0">
                                <div class="carousel-item active">
                                    <img class="d-block w-100 banner"
                                         t-attf-style="background-image:url('/website/image/banner.banner/{{slider.id}}/image')"/>
                                    <div class="carousel-caption banner_img">
                                        <h1>
                                            <t t-esc="slider.header"></t>
                                        </h1>
                                        <br/>
                                        <p>
                                            <t t-esc="slider.description"></t>
                                        </p>
                                    </div>
                                </div>
                            </t>
                            <t t-else="">
                                <div class="carousel-item">
                                    <img class="d-block w-100 banner"
                                         t-attf-style="background-image:url('/website/image/banner.banner/{{slider.id}}/image')"/>
                                    <div class="carousel-caption banner_img">
                                        <h1>
                                            <t t-esc="slider.header"></t>
                                        </h1>
                                        <br/>
                                        <p>
                                            <t t-esc="slider.description"></t>
                                        </p>
                                    </div>
                                </div>
                            </t>

                        </t>
                    </figure>
                </div>

                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <section class="forms sticky-top">
                <div class="wrap">
                    <form class="forms_search" action="/venue/filtered" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                        <div class="row">
                            <div class="col-md-6 col-sm-12 col-lg-3">
                                <div class="row">
                                    <div class="col-md-2 d-flex mb-2 mt-3">
                                        <img src="/tis_venue_booking/static/src/images/location.png"
                                             class="my-auto"/>
                                    </div>

                                    <div class="col-md-10">
                                        <h5 class="mb-2">Location</h5>
                                        <div class="select-dropdown">
                                            <select name="location" id="selected_location">
                                                <option>-- select an option --</option>
                                                <t t-esc="all_locations"></t>
                                                <t t-foreach="all_locations" t-as="l">
                                                    <option t-att-value="l.id">
                                                        <t t-esc="l.name"/>
                                                    </option>
                                                </t>
                                            </select>
                                            <script>
                                                var token = $('input[name="csrf_token"]').attr('value');
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12 col-lg-3">
                                <div class="row">
                                    <div class="col-md-2 d-flex mb-2 mt-3">
                                        <img src="/tis_venue_booking/static/src/images/calendar.png"
                                             class="my-auto"/>
                                    </div>

                                    <div class="col-md-10">
                                        <h5 class="mb-2">Check in</h5>
                                        <div class="select-dropdown" id="date_booking_from"
                                             data-target-input="nearest">
                                            <input type="text" class="form-control datetimepicker-input"
                                                   data-target="#date_booking_from" id="start" name="booking_from"
                                                   required="True"/>
                                            <div class=""
                                                 data-target="#date_booking_from"
                                                 data-toggle="datetimepicker">
                                                <div class="input-group-text"
                                                     style="position: absolute;right: 0px;top: -27px;background: none;border: none;">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12 col-lg-3">
                                <div class="row">
                                    <div class="col-md-2 d-flex mb-2 mt-3">
                                        <img src="/tis_venue_booking/static/src/images/calendar_out.png"
                                             class="my-auto"/>
                                    </div>

                                    <div class="col-md-10">
                                        <h5 class="mb-2">Check out</h5>
                                        <div class="select-dropdown" id="date_booking_to"
                                             data-target-input="nearest">
                                            <input type="text" class="form-control datetimepicker-input"
                                                   data-target="#date_booking_to" id="end" name="booking_to"
                                                   required="True"/>
                                            <div class="" data-target="#date_booking_to"
                                                 data-toggle="datetimepicker">
                                                <div class="input-group-text"
                                                     style="position: absolute;right: 0px;top: -27px;background: none;border: none;">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12 col-lg-2">
                                <h5 class="mb-2">Venue</h5>
                                <div class="select-dropdown">
                                    <select name="venue" class="dynamic_options" id="dynamic_options">

                                    </select>
                                    <select name="venue" id="select_venues">
                                        <option>-- select an option --</option>
                                        <t t-esc="all_venues"></t>
                                        <t t-foreach="all_venues" t-as="l">
                                            <option t-att-value="l.id">
                                                <t t-esc="l.name"/>
                                            </option>
                                        </t>
                                    </select>
                                    <script>
                                        var token = $('input[name="csrf_token"]').attr('value');
                                    </script>
                                </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-lg-1 mt-3">
                                <button class="btn_main" id="search_button">
                                    <i class="fa fa-search"></i>
                                    Search
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </section>

            <section class="brands mt-5 mb-5">
                <div class="container">
                    <div class="carousel-wrap">
                        <div id="category" class="owl-carousel">
                            <t t-foreach="venue_type" t-as="o">
                                <div class="item">
                                    <a t-attf-href="/venue/by/type/#{o.id}">
                                        <t t-if="o.image">
                                            <img t-attf-src="data:image/*;base64,{{o.image}}"
                                                 class="rounded mx-auto d-block" alt="Owl Image"/>
                                            <p>
                                                <t t-esc="o.name"/>
                                            </p>
                                        </t>
                                        <t t-else="">
                                            <img src="/tis_venue_booking/static/src/images/image.png"
                                                 class="rounded mx-auto d-block"/>
                                            <p>
                                                <t t-esc="o.name"/>
                                            </p>
                                        </t>
                                    </a>
                                </div>
                            </t>
                        </div>
                    </div>
                </div>
            </section>
            <section class="rec_spot mt-5 mb-5">
                <div class="container">
                    <div class="row">
                        <div class="col-md-10">
                            <h3>Recommended Spots</h3>
                        </div>
                        <div class="col-md-2">
                            <!--<a href="details.html">-->
                            <a href="/view/more">
                                <button class="btn_rec">View More</button>
                            </a>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <t t-foreach="venue_details" t-as="o">
                            <a t-attf-href="/venue/#{o.id}">
                                <div class="col-md-4 mt-5">
                                    <div class="card h-100 mb-4">
                                        <t t-if="o.image_medium">
                                            <img style="width: 100%;"
                                                 t-attf-src="data:image/png;base64,#{o.image_medium}"/>
                                        </t>
                                        <t t-else="">
                                            <img style="width: 100%;"
                                                 src="/tis_venue_booking/static/src/images/image.png"/>
                                        </t>
                                        <div class="rec_content text-center mt-3 mb-5">
                                            <h2>
                                                <t t-esc="o.name" style="text-transform: uppercase;"/>
                                            </h2>
                                            <p>
                                                <t t-if="o.charges_per_day">
                                                    <span t-esc="o.charges_per_day"/>
                                                    <span t-esc="o.currency_id.symbol"/>
                                                </t>
                                                <t t-else="">Not Defined</t>
                                                / Day -
                                                <t t-if="o.charges_per_hour">
                                                    <span t-esc="o.charges_per_hour"/>
                                                    <span t-esc="o.currency_id.symbol"/>
                                                </t>
                                                <t t-else="">Not Defined</t>
                                                / Hour
                                            </p>
                                            <p>Capacity :
                                                <t t-if="o.capacity">
                                                    <t t-esc="o.capacity"/>
                                                    Units
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                            <p>Seating :
                                                <t t-if="o.seating">
                                                    <t t-esc="o.seating"/>
                                                    Units
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                            <a t-attf-href="/venue/#{o.id}/booking">
                                                <div class="btn_crd">
                                                    <button>Request Booking</button>
                                                </div>
                                            </a>
                                        </div>
                                    </div>

                                </div>
                            </a>
                            <!--<div class="col-md-6">
                                <div class="card mt-5 mb-3"
                                     style="padding: 27px;border: none;box-shadow: 0 0 13px 0 #e3e3e0;border-radius: 25px;">
                                    <t t-if="o.image_medium">
                                        <a t-attf-href="/venue/#{o.id}">
                                            <img style="width: 100%;height: 137px !important;margin-bottom: 31px;"
                                                 t-attf-src="data:image/png;base64,#{o.image_medium}"/>
                                        </a>
                                    </t>
                                    <t t-else="">
                                        <a t-attf-href="/venue/#{o.id}">
                                            <img style="width: 100%;height: 137px !important;margin-bottom: 31px;"
                                                 src="/tis_venue_booking/static/src/img/imgg.jpg"/>
                                        </a>
                                    </t>
                                    <div class="contents" style="text-align: center;color: #373737;">
                                        <h3 style="font-size: 29px;color: #373737;padding-bottom: 22px;">
                                            <t t-esc="o.name" style="text-transform: uppercase;"/>
                                        </h3>
                                        <h5 style="color:#fa1115;">
                                            <a t-attf-href="http://maps.google.com/maps?q=#{str(o.latitude)},#{str(o.longitude)}"
                                               target="_blank">
                                                <i class="fa fa-map-marker" style="color:#fa1115;"/>
                                                <span t-esc="o.location_id.name"/>,<span
                                                    t-esc="o.location_id.state_id.name"/>,
                                                <span t-esc="o.location_id.state_id.country_id.name"/>
                                                <span t-if="o.zip">,</span>
                                                <span t-if="o.zip" t-esc="o.zip"/>
                                            </a>
                                        </h5>
                                        <div style="padding-top:2%;padding-bottom:5%;">
                                            <t t-if="venue_rating[o]" t-raw="venue_rating[o]"/>
                                        </div>

                                        <h5>
                                            <p class="mb-3">Capacity :
                                                <t t-if="o.capacity">
                                                    <t t-esc="o.capacity"/>
                                                    Units
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                        </h5>
                                        <h5>
                                            <p class="mb-3">Seating :
                                                <t t-if="o.seating">
                                                    <t t-esc="o.seating"/>
                                                    Units
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                        </h5>
                                        <h5>
                                            <p class="mb-3">Charge Per Day :
                                                <t t-if="o.charges_per_day">
                                                    <span t-esc="o.charges_per_day"/>
                                                    <span t-esc="o.currency_id.symbol"/>
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                        </h5>
                                        <h5>
                                            <p class="mb-3">Charge Per Hour :
                                                <t t-if="o.charges_per_hour">
                                                    <span t-esc="o.charges_per_hour"/>
                                                    <span t-esc="o.currency_id.symbol"/>
                                                </t>
                                                <t t-else="">Not Defined</t>
                                            </p>
                                        </h5>
                                        <a t-attf-href="/venue/#{o.id}/booking">
                                            <button style="background-color: #4CAF50;border-radius: 8px;color: white; padding: 8px 49px;">
                                                Book Now
                                            </button>
                                        </a>
                                    </div>
                                </div>
                                &lt;!&ndash;<div class="half-post-entry d-block d-lg-flex bg-light hovernow "
                                     style="background-color:#ededed33;border-radius: 10px;">

                                    <div class="si img-fluid d-block photo-item">
                                        <t t-if="o.image_medium">
                                            <a t-attf-href="/venue/#{o.id}">
                                                <img style="max-width:100%;max-height:100%;"
                                                     t-attf-src="data:image/png;base64,#{o.image_medium}"/>
                                            </a>
                                        </t>
                                        <t t-else="">
                                            <a t-attf-href="/venue/#{o.id}">
                                                <img style="max-width:100%;max-height:100%;"
                                                     src="/tis_venue_booking/static/src/img/imgg.jpg"/>
                                            </a>
                                        </t>
                                    </div>
                                    <div class="contents" style="padding:0%;margin-left: 10%;width:100%;">
                                        <br>
                                        </br>
                                        <div class="row col-md-12">
                                            <div class="column col-md-6" style="padding: 0px;margin-top: -7px">
                                                <h3>
                                                    <t t-esc="o.name" style="text-transform: uppercase;"/>
                                                </h3>
                                                <h5 style="color:#fa1115;">
                                                    <a t-attf-href="http://maps.google.com/maps?q=#{str(o.latitude)},#{str(o.longitude)}"
                                                       target="_blank">
                                                        <i
                                                                class="fa fa-map-marker" style="color:#fa1115;"/>
                                                        <span t-esc="o.location_id.name"/>,<span
                                                            t-esc="o.location_id.state_id.name"/>,
                                                        <span t-esc="o.location_id.state_id.country_id.name"/>
                                                        <span t-if="o.zip">,</span>
                                                        <span t-if="o.zip" t-esc="o.zip"/>
                                                    </a>
                                                </h5>
                                                <div style="padding-top:2%;padding-bottom:5%;">
                                                    <t t-if="venue_rating[o]" t-raw="venue_rating[o]"/>
                                                </div>

                                                <h5>
                                                    <p class="mb-3">Capacity :
                                                        <t t-if="o.capacity">
                                                            <t t-esc="o.capacity"/>
                                                            Units
                                                        </t>
                                                        <t t-else="">Not Defined</t>
                                                    </p>
                                                </h5>
                                                <h5>
                                                    <p class="mb-3">Seating :
                                                        <t t-if="o.seating">
                                                            <t t-esc="o.seating"/>
                                                            Units
                                                        </t>
                                                        <t t-else="">Not Defined</t>
                                                    </p>
                                                </h5>
                                            </div>
                                            <div class="column col-md-6" style="padding-top:9%;">
                                                <h5>
                                                    <p class="mb-3">Charge Per Day :
                                                        <t t-if="o.charges_per_day">
                                                            <span t-esc="o.charges_per_day"/>
                                                            <span t-esc="o.currency_id.symbol"/>
                                                        </t>
                                                        <t t-else="">Not Defined</t>
                                                    </p>
                                                </h5>
                                                <h5>
                                                    <p class="mb-3">Charge Per Hour :
                                                        <t t-if="o.charges_per_hour">
                                                            <span t-esc="o.charges_per_hour"/>
                                                            <span t-esc="o.currency_id.symbol"/>
                                                        </t>
                                                        <t t-else="">Not Defined</t>
                                                    </p>
                                                </h5>
                                                <a t-attf-href="/venue/#{o.id}/booking">
                                                    <button style="background-color: #4CAF50;border-radius: 8px;color: white; padding: 4px;">
                                                        Book Now
                                                    </button>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>&ndash;&gt;
                            </div>-->
                        </t>

                    </div>


                </div>
            </section>
        </t>
    </template>

    <record id="venue_booking_homepage" model="website.page">
        <field name="url">/venue</field>
        <field name="is_homepage" eval="True"></field>
        <field name="website_published">True</field>
        <field name="view_id" ref="venue_page_template"/>
    </record>

    <record id="venue_page_new" model="website.page">
        <field name="url">/venue</field>
        <field name="is_published">True</field>
        <field name="view_id" ref="venue_page_template"/>
    </record>

    <!--    <record id="venue_page_second_new" model="website.page">
            <field name="is_published">True</field>
            <field name="url">/venue</field>
            <field name="view_id" ref="venue_second_page_template"/>
        </record>-->


</odoo>
