<odoo>
    <data>

        <record id="access_rights_profile_form_view_inherit_ip_restriction" model="ir.ui.view">
            <field name="name">Access Rights Profile Form</field>
            <field name="model">access.rights.profile</field>
            <field name="inherit_id" ref="equip3_general_features.access_rights_profile_form_view"/>
            <field name="arch" type="xml">
                
                <xpath expr="//sheet/group/field[@name='group_ids']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//sheet/group/field[@name='group_ids']" position="after">
                    <field name="ip_address_login_toggle" />
                </xpath>

                <xpath expr="//sheet/group" position="before">
                    <field name="ip_address_login_toggle" invisible="1"/>
                    <button name="enable_ip_validation" type="object" icon="fa-lock"
                            class="oe_stat_button" attrs="{'invisible': [('ip_address_login_toggle', '=', True)]}">
                        <span>Enable IP Login</span>
                    </button>
                    <button name="disable_ip_validation" type="object" icon="fa-unlock"
                            attrs="{'invisible': [('ip_address_login_toggle', '=', False)]}" class="oe_stat_button">
                        <span>Disable IP Login</span>
                    </button>
                    <button name="apply_setting_to_all_user" type="object" icon="fa-users"
                            attrs="{'invisible': [('ip_address_login_toggle', '=', False)]}" class="oe_stat_button">
                        <span>Apply to All User</span>
                    </button>
                    <button name="disable_setting_to_all_user" type="object" icon="fa-users"
                            attrs="{'invisible': [('ip_address_login_toggle', '=', True)]}" class="oe_stat_button">
                        <span>Apply to All User</span>
                    </button>
                </xpath>

                <xpath expr="//sheet/group" position="after">
                    <notebook>
                        <page name="group_ids" string="Group Detail">
                            <field name="group_ids"/>
                        </page>
                        <page name="allowed_ip_ids" string="Login Restriction" attrs="{'invisible': [('ip_address_login_toggle', '=', False)]}">
                            <group id="login_restriction">
                                <group string="Allowed IP Address" name="allowed_ip_adress_arp">
                                    <field name="ip_address_ids">
                                        <tree editable="bottom">
                                            <field name="name"/>
                                            <field name="ip_address"/>
                                        </tree>
                                    </field>
                                </group>
                                <group string="Allowed Time" name="time_restriction_arp">
                                    <group>
                                        <field name="time_restricted"/>
                                        <field name="user_tz" attrs="{'invisible': [('time_restricted', '=', False)]}"/>
                                        <field name="day_restricted_ids" attrs="{'invisible': [('time_restricted', '=', False)]}">
                                            <tree editable="bottom">
                                                <field name="day" widget="selection"/>
                                                <field name="start_time" widget="float_time"/>
                                                <field name="end_time" widget="float_time" />
                                            </tree>
                                        </field>
                                    </group>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </xpath>

            </field>
        </record>

    </data>
</odoo>
