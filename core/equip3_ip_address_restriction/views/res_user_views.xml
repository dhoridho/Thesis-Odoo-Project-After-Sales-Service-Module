<odoo>
    <record id="res_users_form_inherit" model="ir.ui.view">
        <field name="name">IP Address Login Validation</field>
        <field name="model">res.users</field>
        <field name="inherit_id" ref="base.view_users_form"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//div[hasclass('oe_button_box')]" position="inside">
                    <field name="ip_address_login_toggle" invisible="1"/>
                    <button name="enable_ip_validation" type="object" icon="fa-lock"
                            class="oe_stat_button" attrs="{'invisible': [('ip_address_login_toggle', '=', True)]}">
                        <span>Enable IP Login</span>
                    </button>
                    <button name="disable_ip_validation" type="object" icon="fa-unlock"
                            attrs="{'invisible': [('ip_address_login_toggle', '=', False)]}" class="oe_stat_button">
                        <span>Disable IP Login</span>
                    </button>
                </xpath>
                <xpath expr="//notebook" position="inside">
                    <page name="allowed_ip_ids" string="Login Restriction" attrs="{'invisible': [('ip_address_login_toggle', '=', False)]}">
                        <group id="login_restriction">
                            <group string="Allowed IP Address" name="allowed_ip_adress">
                                <group>
                                    <field name="current_ip_address" string="User’s Last IP Address" readonly="1"/>
                                </group>
                                <field name="ip_address_ids">
                                    <tree editable="bottom">
                                        <field name="name"/>
                                        <field name="ip_address"/>
                                    </tree>
                                </field>
                            </group>
                            <group string="Allowed Time" name="time_restriction">
                                <group>
                                    <field name="last_login" string="User’s Last Login Time"/>
                                    <field name="time_restricted"/>
                                    <field name="tz" attrs="{'invisible': [('time_restricted', '=', False)]}"/>
                                    <field name="day_restricted_ids" attrs="{'invisible': [('time_restricted', '=', False)]}">
                                        <tree editable="bottom">
                                            <field name="day" widget="selection"/>
                                            <field name="start_time" widget="float_time"/>
                                            <field name="end_time" widget="float_time" />
                                        </tree>
                                    </field>
                                </group>
                            </group>
                        </group>
                    </page>
                </xpath>
            </data>
        </field>
    </record>

</odoo>
