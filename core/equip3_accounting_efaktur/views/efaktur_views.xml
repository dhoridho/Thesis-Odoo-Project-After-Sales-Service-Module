<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <record id="view_account_efaktur_tree" model="ir.ui.view">
            <field name="name">account.efaktur.tree</field>
            <field name="model">account.efaktur</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="year" string="Fiscal Year" />
                    <field name="company_id"/>
                    <field name="branch_id" />
                    <field name="name"/> 
                    <field name="is_pjap" invisible="1"/>
                    <field name="is_used_pjap" invisible="1"/>
                    <field name="is_used"/>
                    <field name="record_id" string="Pajak Express ID" invisible="1"/>
                    <field name="invoice_id" optional="hide"/>
                </tree>
            </field>
        </record>

        <record id="view_account_efaktur_form" model="ir.ui.view">
            <field name="name">account.efaktur.form</field>
            <field name="model">account.efaktur</field>
            <field name="arch" type="xml">
                <form string="Nomor Seri Faktur Pajak" create="false">
                    <sheet>
                        <group>
                            <group id="header_left_group">
                                <field name="year" string="Fiscal Year" />
                                <field name="name" placeholder="xxx-xx-xxxxxxxx" widget="mask" data-inputmask="'mask': '999-99-99999999'"/>
                            </group>
                            <group id="header_right_group">
                                <field name="is_pjap" invisible="1"/>
                                <field name="is_used_pjap" readonly="1" force_save="1" invisible="1"/>
                                <field name="is_used"/>
                                <field name="partner_id"/>                                
                                <field name="company_id"/>
                                <field name="is_cancel" invisible="1"/>
                            </group>
                        </group>

                        <field name="invoice_id" widget='many2many'>
                            <tree editable="Bottom" string="Invoice" create="0">
                                <field name="name" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                                <field name="invoice_date" string="invoice Date" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                                <field name="amount_untaxed_signed" string="Untaxed Amount" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                                <field name="amount_tax_signed" string="Tax" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                                <field name="amount_total_signed" string="Total" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                                <field name="state" readonly='1' attrs="{'invisible': [('state', '!=', 'posted')]}"/>
                            </tree>
                        </field>             
                    </sheet>                    
                </form>
            </field>
        </record>

        <record id="action_account_efaktur" model="ir.actions.act_window">
            <field name="name">Nomor Seri Faktur Pajak</field>
            <field name="res_model">account.efaktur</field>
            <field name="view_mode">tree,kanban,form,graph</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="view_account_efaktur_tree"/>            
        </record>

        <menuitem action="action_account_efaktur" id="menu_action_account_efaktur" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>

        <record id="view_account_efaktur_generate_tree" model="ir.ui.view">
            <field name="name">account.efaktur.generate.tree</field>
            <field name="model">account.efaktur.generate</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="year" string="Fiscal Year" />
                    <field name="start"/>
                    <field name="end"/>
                </tree>
            </field>
        </record>

        <record id="view_account_efaktur_generate_form" model="ir.ui.view">
            <field name="name">account.efaktur.generate.form</field>
            <field name="model">account.efaktur.generate</field>
            <field name="arch" type="xml">
                <form string="Generate Nomor Seri Faktur Pajak">
                    <group colspan="4">                 
                        <field name="year" string="Fiscal Year" required="1"/>
                        <field name="branch_id" attrs="{'invisible': [('is_centralized_efaktur','!=',False)]}"/>
                        <field name="nsfp_id"  domain="[('fiscal_year','=',year),('is_use','!=',True)]" attrs="{'invisible': [('is_pajak_express_integration','=',False)]}"/>
                        <field name="start" placeholder="xxx-xx-xxxxxxxx" widget="mask" data-inputmask="'mask': '999-99-99999999'" attrs="{'invisible': [('is_pajak_express_integration','=',True)]}"/>                            
                        <field name="end" placeholder="xxx-xx-xxxxxxxx" widget="mask" data-inputmask="'mask': '999-99-99999999'" attrs="{'invisible': [('is_pajak_express_integration','=',True)]}"/>
                        <field name="is_pajak_express_integration" invisible="1"/>
                        <field name="company_id" invisible="1"/>
                        <field name="is_centralized_efaktur" invisible="1"/>
                    </group>  
                    <footer>
                        <button string="confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>              
                </form>
            </field>
        </record>

        <record id="action_account_efaktur_generate" model="ir.actions.act_window">
            <field name="name">Generate Nomor Seri Faktur Pajak</field>
            <field name="res_model">account.efaktur.generate</field>
            <field name="view_mode">form</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="view_account_efaktur_generate_form"/>
            <field name="target">new</field>
        </record>

        <!-- efaktur.export form view -->
        <record id="efaktur_export_view_form" model="ir.ui.view">
            <field name="name">efaktur.export.view.form</field>
            <field name="model">efaktur.export</field>
            <field name="arch" type="xml">
                <form string="">
                    <group colspan='4'>
                        <group>
                            <field name="tax_report_id" readonly="1" />
                            <field name="date_from" />
                        </group>
                        <group>
                            <field name="partner_id" />
                            <field name="date_to" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <footer>
                        <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>    
                </form>
            </field>
        </record>

        <!-- export.efaktur form view -->
        <record id="export_efaktur_view_form" model="ir.ui.view">
            <field name="name">export.efaktur.view.form</field>
            <field name="model">export.efaktur</field>
            <field name="arch" type="xml">
                <form string="">
                    <group colspan='4'>
                        <group>
                            <field name="tax_report_id" readonly="1" />
                            <field name="date_from" />
                        </group>
                        <group>
                            <field name="partner_id" />
                            <field name="date_to" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <footer>
                        <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>    
                </form>
            </field>
        </record>

        <!-- export.efaktur action window -->
        <record id="action_export_efaktur" model="ir.actions.act_window">
            <field name="name">PPN Masukan</field>
            <field name="res_model">export.efaktur</field>
            <field name="view_mode">form</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="export_efaktur_view_form"/>
            <field name="target">new</field>
        </record>

        <!-- efaktur.export form view -->
        <record id="efaktur_export_view_form" model="ir.ui.view">
            <field name="name">efaktur.export.view.form</field>
            <field name="model">efaktur.export</field>
            <field name="arch" type="xml">
                <form string="">
                    <group colspan='4'>
                        <group>
                            <field name="tax_report_id" readonly="1" />
                            <field name="date_from" />
                        </group>
                        <group>
                            <field name="partner_id" />
                            <field name="date_to" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <footer>
                        <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>    
                </form>
            </field>
        </record>

        <!-- efaktur.export action window -->
        <record id="action_efaktur_export" model="ir.actions.act_window">
            <field name="name">PPN Keluaran</field>
            <field name="res_model">efaktur.export</field>
            <field name="view_mode">form</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="efaktur_export_view_form"/>
            <field name="target">new</field>
        </record>

        
        <!-- Retur Pajak Keluaran form view -->
        <record id="retur_pajak_keluaran_export_view_form" model="ir.ui.view">
            <field name="name">retur.pajak.keluaran.export.view.form</field>
            <field name="model">export.retur.pajak.keluaran</field>
            <field name="arch" type="xml">
                <form string="">
                    <group colspan='4'>
                        <group>
                            <field name="tax_report_id" readonly="1" />
                            <field name="date_from" />
                            
                        </group>
                        <group>
                            <field name="partner_id" />
                            <field name="date_to" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <footer>
                        <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>    
                </form>
            </field>
        </record>

        

        <!-- Retur Pajak Keluaran action window -->
        <record id="action_export_retur_pajak_keluaran" model="ir.actions.act_window">
            <field name="name">Retur Pajak Keluaran</field>
            <field name="res_model">export.retur.pajak.keluaran</field>
            <field name="view_mode">form</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="retur_pajak_keluaran_export_view_form"/>
            <field name="target">new</field>
        </record>


        <!-- Retur Pajak Masukan form view -->
        <record id="retur_pajak_masukan_export_view_form" model="ir.ui.view">
            <field name="name">retur.pajak.masukan.export.view.form</field>
            <field name="model">export.retur.pajak.masukan</field>
            <field name="arch" type="xml">
                <form string="">
                    <group colspan='4'>
                        <group>
                            <field name="tax_report_id" readonly="1" />
                            <field name="date_from" />
                            
                        </group>
                        <group>
                            <field name="partner_id" />
                            <field name="date_to" />
                            <field name="company_id" />
                        </group>
                    </group>
                    <footer>
                        <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                        <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                    </footer>    
                </form>
            </field>
        </record>

        <!-- Retur Pajak Masukan action window -->
        <record id="action_export_retur_pajak_masukan" model="ir.actions.act_window">
            <field name="name">Retur Pajak Masukan</field>
            <field name="res_model">export.retur.pajak.masukan</field>
            <field name="view_mode">form</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="retur_pajak_masukan_export_view_form"/>
            <field name="target">new</field>
        </record>
        
        <!-- Kode Objek Pajak form view -->
        <record id="view_kode_objek_pajak_tree" model="ir.ui.view">
            <field name="name">view.kode.objek.pajak.tree</field>
            <field name="model">kode.objek.pajak</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/> 
                    <field name="description"/>
                    <field name="pph_pasal"/>
                </tree>
            </field>
        </record>

        <!-- Kode Objek Pajak action window -->
        <record id="action_kode_objek_pajak" model="ir.actions.act_window">
            <field name="name">Kode Objek Pajak</field>
            <field name="res_model">kode.objek.pajak</field>
            <field name="view_mode">tree,kanban,form,graph</field>
            <field name="context"></field>
            <field name="domain"></field>
            <field name="view_id" ref="view_kode_objek_pajak_tree"/>            
        </record>
        
        <menuitem action="action_account_efaktur_generate" id="menu_action_account_efaktur_generate" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>
        <menuitem action="action_efaktur_export" id="menu_efaktur_export" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>
        <menuitem action="action_export_efaktur" id="menu_export_efaktur" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>
        <menuitem action="action_export_retur_pajak_keluaran" id="menu_export_retur_pajak_keluaran" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>
        <menuitem action="action_export_retur_pajak_masukan" id="menu_export_retur_pajak_masukan" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_efaktur"/>
</odoo>