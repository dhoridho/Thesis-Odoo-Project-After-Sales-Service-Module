<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_account_ebupot_tree" model="ir.ui.view">
        <field name="name">account.ebupot.tree</field>
        <field name="model">account.ebupot</field>
        <field name="arch" type="xml">
            <tree create="false">
                <field name="year" string="Fiscal Year"/>
                <field name="name"/> 
                <field name="is_used"/>
                <field name="invoice_ids" optional="hide"/>
            </tree>
        </field>
    </record>

    <record id="view_account_ebupot_form" model="ir.ui.view">
        <field name="name">account.ebupot.form</field>
        <field name="model">account.ebupot</field>
        <field name="arch" type="xml">
            <form string="Nomor Seri Faktur Pajak" create="false">
                <sheet>
                    <group>
                        <group id="header_left_group">
                            <field name="year" string="Fiscal Year" />
                            <field name="name" placeholder="xxx-xx-xxxxxxxx" widget="mask" data-inputmask="'mask': '999-99-99999999'"/>
                        </group>
                        <group id="header_right_group">
                            <field name="is_used"/>                                
                        </group>
                    </group>

                    <field name="invoice_ids" widget='many2many'>
                        <tree editable="Bottom" string="Invoice" create="0">
                            <field name="name" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <field name="invoice_date" string="invoice Date" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <field name="amount_untaxed_signed" string="Untaxed Amount" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <field name="amount_tax_signed" string="Tax" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <field name="amount_total_signed" string="Total" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <field name="state" readonly='1' attrs="{'invisible': [('state', '=', 'draft')]}"/>
                        </tree>
                    </field>             
                </sheet>                    
            </form>
        </field>
    </record>

    <record id="action_account_ebupot" model="ir.actions.act_window">
        <field name="name">Nomor Seri Bukti Pemotongan/Pemungutan</field>
        <field name="res_model">account.ebupot</field>
        <field name="view_mode">tree,kanban,form,graph</field>
        <field name="context"></field>
        <field name="domain"></field>
        <field name="view_id" ref="view_account_ebupot_tree"/>            
    </record>

    <menuitem action="action_account_ebupot" id="menu_action_account_ebupot" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_ebupot"/>

    <record id="view_account_ebupot_generate_tree" model="ir.ui.view">
        <field name="name">account.ebupot.generate.tree</field>
        <field name="model">account.ebupot.generate</field>
        <field name="arch" type="xml">
            <tree>
                <field name="year" string="Fiscal Year" />
                <field name="start"/>
                <field name="end"/>
            </tree>
        </field>
    </record>

    <record id="view_account_ebupot_generate_form" model="ir.ui.view">
        <field name="name">account.ebupot.generate.form</field>
        <field name="model">account.ebupot.generate</field>
        <field name="arch" type="xml">
            <form string="Generate Nomor Seri Faktur Pajak">
                <group colspan="4">                 
                    <field name="year" string="Fiscal Year" />
                    <field name="start" placeholder="xxxxxxx" widget="mask" data-inputmask="'mask': '9999999'"/>                            
                    <field name="end" placeholder="xxxxxxx" widget="mask" data-inputmask="'mask': '9999999'"/>
                </group>  
                <footer>
                    <button string="Confirm" name="confirm" type="object" class="oe_highlight"/>
                    <button string="Cancel" class="btn btn-secondary" special="cancel"/>
                </footer>              
            </form>
        </field>
    </record>

    <record id="action_account_ebupot_generate" model="ir.actions.act_window">
        <field name="name">Generate Nomor Seri Bukti Pemotongan/Pemungutan</field>
        <field name="res_model">account.ebupot.generate</field>
        <field name="view_mode">form</field>
        <field name="context"></field>
        <field name="domain"></field>
        <field name="view_id" ref="view_account_ebupot_generate_form"/>
        <field name="target">new</field>
    </record>

    <menuitem action="action_account_ebupot_generate" id="menu_action_account_ebupot_generate" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_ebupot"/>

    <record id="view_account_bupotunifikasi_form" model="ir.ui.view">
        <field name="name">account.bupotunifikasi.form</field>
        <field name="model">account.ebupot</field>
        <field name="arch" type="xml">
            <form string="Generate Nomor Seri Faktur Pajak">
                <group>
                    <group id="header_left_group">
                        <field name="tax_report_id"/>
                        <field name="date_from"/>
                        <field name="tahun_pajak" placeholder="xxxx" widget="mask" data-inputmask="'mask': '9999'"/>
                    </group>
                    <group id="header_right_group">
                        <field name="partner_id"/>
                        <field name="date_to"/>
                        <field name="company_id"/>
                    </group>
                </group>  
                <footer>
                    <button string="Confirm" name="confirm_ebupot" type="object" class="oe_highlight"/>
                    <button string="Cancel" class="btn btn-secondary" special="cancel"/>    
                </footer>              
            </form>
        </field>
    </record>

    <record id="action_account_bupotunifikasi" model="ir.actions.act_window">
        <field name="name">e-BupotUnifikasi</field>
        <field name="res_model">account.ebupot</field>
        <field name="view_mode">form</field>
        <field name="context"></field>
        <field name="domain"></field>
        <field name="view_id" ref="view_account_bupotunifikasi_form"/>
        <field name="target">new</field>
    </record>

    <menuitem action="action_account_bupotunifikasi" id="menu_action_account_bupotunifikasi" groups="account.group_account_readonly" parent="equip3_accounting_efaktur.menu_ebupot"/>

</odoo>