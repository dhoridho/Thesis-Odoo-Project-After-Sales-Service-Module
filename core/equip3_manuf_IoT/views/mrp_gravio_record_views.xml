<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_mrp_gravio_record_tree" model="ir.ui.view">
        <field name="name">view.mrp.gravio.record.tree</field>
        <field name="model">mrp.gravio.record</field>
        <field name="arch" type="xml">
            <tree string="Gravio Record" create="0" delete="0" edit="0" default_order="timestamp desc">
                <field name="area_id"/>
                <field name="area_name"/>
                <field name="kind_id"/>
                <field name="kind_name"/>
                <field name="layer_id"/>
                <field name="layer_name"/>
                <field name="timestamp"/>
            </tree>
        </field>
    </record>

    <record id="view_mrp_gravio_record_form" model="ir.ui.view">
        <field name="name">view.mrp.gravio.record.form</field>
        <field name="model">mrp.gravio.record</field>
        <field name="arch" type="xml">
            <form string="Gravio Record" create="0" delete="0" edit="0">
                <sheet>
                    <group>
                        <group>
                            <field name="area_id"/>
                            <field name="area_name"/>
                            <field name="kind_id"/>
                            <field name="kind_name"/>
                            <field name="workcenter_id"/>
                        </group>
                        <group>
                            <field name="layer_id"/>
                            <field name="layer_name"/>
                            <field name="timestamp"/>
                            <label for="height"/>
                            <div class="o_row">
                                <field name="height" class="mr-2"/>
                                <field name="uom_id"/>
                            </div>
                            <label for="width"/>
                            <div class="o_row">
                                <field name="width" class="mr-2"/>
                                <field name="uom_id"/>
                            </div>
                        </group>
                    </group>
                    <notebook>
                        <page name="phisical_devices" string="Physical Devices">
                            <field name="physical_device_ids">
                                <tree string="Physical Devices">
                                    <field name="gravio_id"/>
                                    <field name="name"/>
                                    <field name="sensor_type" optional="hide"/>
                                </tree>
                            </field>
                        </page>
                        <page name="logs" string="Gravio Logs">
                            <field name="log_ids">
                                <tree string="Gravio Logs">
                                    <field name="record_id" invisible="1"/>
                                    <field name="area_id" invisible="1"/>
                                    <field name="kind_id" invisible="1"/>
                                    <field name="layer_id" invisible="1"/>
                                    <field name="timestamp" optional="hide"/>
                                    <field name="physical_device_id" invisible="1"/>
                                    <field name="virtual_device_id"/>
                                    <field name="data_id"/>
                                    <field name="data_data" optional="hide"/>
                                    <field name="data_uom_id" optional="hide"/>
                                    <field name="data_data_uom"/>
                                    <field name="record_uom_id"/>
                                    <field name="data_type"/>
                                    <field name="json_data" optional="hide"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_assign_production_record" model="ir.actions.server">
        <field name="name">Assign To Production Record</field>
        <field name="model_id" ref="equip3_manuf_IoT.model_mrp_gravio_record"/>
        <field name="binding_model_id" ref="equip3_manuf_IoT.model_mrp_gravio_record"/>
        <field name="binding_view_types">form</field>
        <field name="state">code</field>
        <field name="code">records._assign_to_production_record()</field>
    </record>

    <record id="action_view_mrp_gravio_record" model="ir.actions.act_window">
        <field name="name">Gravio Record</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">mrp.gravio.record</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
			<p class="o_view_nocontent_empty_folder">
				No data to display
			</p>
		</field>
    </record>

</odoo>